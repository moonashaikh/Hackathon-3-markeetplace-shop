(window["__load"]=window["__load"]||[]).push([["FnwT-01"],{"4fPl":function(a,b,c){"use strict";var d=c("QbI9");c("0qsp"),c("QKYV"),c("yZLf")},"4gFf":function(a,b,c){"use strict";var d=c("9u8d"),e=c.n(d),f=c("0qsp"),g=c("bbq+"),h=c("nPYo"),i=c("xwqY"),j=c("uwPW"),k=c("xzky"),l=c("WrLT"),m=c("36dm"),n=c("KPK9");const o=["error"],p=Object(g.createView)(a=>{let{error:b}=a,c=e()(a,o);const d=Object(l.a)(),g=Object(k.c)(b),p=Object(m.a)().id,q=Object(j.a)(p),r=null==q?void 0:q.module_id,s=Object(i.a)();return f.useEffect(()=>{!Object(k.a)(b)&&s("bento_module_query_error")},[g,b,r,s,d]),f.createElement(h.a.div,c,f.createElement(n.a,{error:b}))},{css:{stack:"y",alignY:"center",height:"294px",paddingX:"10%",borderRadius:"medium",border:"1px solid",borderColor:"border"}});b.a=p},"5hds":function(a,b,c){"use strict";c.d(b,"a",function(){return PerformanceTileChartChrome});var d=c("0qsp"),e=c("nPYo"),f=c("lbsd"),g=c("HOsA"),h=c("wi2u"),i=c("RVZe"),j=c("wrro"),k=c("sjUG");const{useContext:l}=d,PerformanceTileChartChrome=a=>{let{children:b,title:c,summary:m,summaryExtra:n,percentChange:o,tooltip:p}=a;const{setExpanded:q}=l(j.a);return d.createElement(e.a.div,{css:{paddingTop:"space.150",paddingX:"medium",paddingBottom:"space.75",width:`max(360px, var(${k.a}, 0px))`},className:"performance-tile-chart-chrome"},d.createElement(e.a.div,{css:{stack:"y",gap:"small",marginBottom:"space.225"}},d.createElement(e.a.div,{css:{stack:"x",distribute:"space-between"}},d.createElement(e.a.div,{css:{font:"heading.small"}},c),d.createElement(e.a.div,{css:{stack:"x",gap:"medium",alignY:"center"}},p,d.createElement(f.a,{css:{padding:"space.75",bleedY:"space.75",bleedLeft:"space.75",lineHeight:0,borderRadius:"xsmall",":hover":{backgroundColor:"offset"},":active":{backgroundColor:"offset"}},"data-testid":"performance-tile-chart-chrome-x",onPress:()=>q(!1)},d.createElement(g.c,{size:"xsmall",icon:i.a})))),d.createElement(h.a,null),d.createElement(e.a.div,null,d.createElement(e.a.div,{css:{stack:"x",gap:"small"}},m,o),n&&d.createElement(e.a.div,{css:{marginTop:"xsmall"}},n))),d.createElement(e.a.div,null,b))}},"8Mtm":function(a,b,c){"use strict";c.d(b,"a",function(){return D});var d=c("QbI9"),e=c.n(d),f=c("8OBj"),g=c.n(f),h=c("9u8d"),i=c.n(h),j=c("0qsp"),k=c("nPYo"),l=c("Olvt"),m=c("aFQF"),n=c("xGRT"),o=c("4gFf"),p=c("Bbcg"),q=c("kuA+"),r=c("+kKi"),s=c("zEM6"),t=c("5hds"),u=c("xzky"),v=c("T1pM"),w=c("09jD"),x=c("pJt8"),y=c("Aytv");const z=["children","infoTooltip","percentChangeBadge","error","emptyMessage","title","owner","isLiveModeOnly","tileSummary","tilePercentChange","comparisonSummary","moduleId","skippedReason","subtitle"],{useCallback:A,useContext:B,useMemo:C}=j,D=j.createContext({dataUnavailable:!1}),useDataUnavailable=a=>{let{isLiveModeOnly:b,error:c}=a;const d=Object(w.t)();return!!b&&!d|| !!c&&"testModeError"===Object(u.c)(c)};function HomeWidgetModule(a){let{children:b,infoTooltip:c,percentChangeBadge:d,error:f,emptyMessage:h,title:u,owner:w,isLiveModeOnly:E,tileSummary:F,tilePercentChange:G,comparisonSummary:H,moduleId:I,skippedReason:J,subtitle:K}=a,L=i()(a,z);const M=useDataUnavailable({isLiveModeOnly:E,error:f}),{renderTile:N}=B(r.a),O=useOnExpandedChange(I),P=Object(y.b)(),{formatMessage:Q}=Object(n.a)(),R="permission_error"===J?Q(q.a.permissionsError):void 0,S=A(()=>{x.b.increment("manage.dashboard.dashprod.widget_fatal_error",1,{dashprod_error_component:"home_widget_module"}),P("chart")},[P]),T=C(()=>g()(g()({},L),!f&&{subtitle:K}),[L,f,K]);return j.createElement(p.a,{owner:w||"dashboard_discovery",sectionName:u,onError:S,errorView(a){let{error:b}=a;return j.createElement(o.a,{error:b})},generatedCallsiteIdentifier:"HomeWidgetModule#0",generatedBoundaryId:"355253534"},j.createElement(D.Provider,{value:{dataUnavailable:M}},N?j.createElement(s.a,{title:u,pending:!!L.pending,summary:F,percentChange:G,expandedView:j.createElement(t.a,{title:u,summary:F,summaryExtra:H,percentChange:G,tooltip:M?j.createElement(v.a,null):j.createElement(j.Fragment,null,c)},b),onExpandedChange:O}):j.createElement(m.a,e()({title:u||""},T,{hideHeaderDivider:!0,error:!M&&(f||R),empty:!L.pending&&!M&&h,subviews:{stateContainer:{css:{height:"228px",stack:"y",alignY:"center"}}},titleAddon:M?j.createElement(v.a,null):j.createElement(j.Fragment,null,!!c&&j.createElement(k.a.span,{css:{marginRight:"5px",transform:"translateY(1px)"},uses:[Object(l.b)({display:"inline-block"})]},c),d&&j.createElement(k.a.span,{css:{transform:"translateY(-1px)"},uses:[Object(l.b)({display:"inline-block"})]},d))}),j.createElement(k.a.div,{css:{".disable-widget-interactions &":{pointerEvents:"none"}}},b))))}function useOnExpandedChange(a){const b=Object(w.a)();return j.useCallback(c=>{c&&a&&b.action("dashboard_performance_tile_expanded",{module_id:a})},[a,b])}b.b=HomeWidgetModule},"9fr4":function(a,b,c){"use strict";c.d(b,"a",function(){return DataUnavailableTooltip});var d=c("0qsp"),e=c("Vavk"),f=c("xGRT"),g=c("lY+0"),h=c("n2FO"),i=c("lbsd"),j=c("HOsA");const k=Object(e.a)({dataUnavailableTooltipTrigger:{id:"bento.components.dataUnavailableTooltipTrigger",defaultMessage:"Hidden"},dataUnavailableTooltipMessage:{id:"bento.components.dataUnavailableTooltipMessage",defaultMessage:"This data isn’t available in test mode."}}),DataUnavailableTooltip=()=>{const{formatMessage:a}=Object(f.a)();return d.createElement(h.a,{type:"description",delay:0,placement:"bottom",trigger:d.createElement(i.a,{"data-testid":"widget-data-unavailable-tooltip",css:{".performance-tile-chart-chrome &":{padding:"space.75",bleed:"space.75",lineHeight:0,borderRadius:"xsmall"},".performance-tile-chart-chrome :hover":{backgroundColor:"offset"},".performance-tile-chart-chrome :active":{backgroundColor:"offset"}}},d.createElement(j.c,{size:"xsmall",css:{fill:"subdued",".performance-tile-chart-chrome &":{fill:"icon"}},icon:g.a,"aria-hidden":!1,"aria-label":a(k.dataUnavailableTooltipTrigger)}))},a(k.dataUnavailableTooltipMessage))}},E2YX:function(a,b,c){"use strict";var d=c("8Mtm");b.a=d.b},NJ4p:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Zwet"),h=c("n2FO"),i=c("HOsA"),j=c("K+RN");const BillingOverviewStreamingDataLatencyTooltip=a=>{let{message:b,values:c={}}=a;return f.createElement(h.a,{type:"description",trigger:f.createElement(i.c,{icon:g.a,size:"xsmall",css:{":focus:not(:focus-visible)":{focusRing:"none"},":focus-visible":{focusRing:"focus"}}})},f.createElement("p",null,f.createElement(j.a,e()({},b,{values:c}))))};b.a=BillingOverviewStreamingDataLatencyTooltip},T1pM:function(a,b,c){"use strict";c("4fPl");var d=c("p6Yp");c.d(b,"b",function(){return d.a});var e=c("dghZ");c.d(b,"c",function(){return e.a});var f=c("9fr4");c.d(b,"a",function(){return f.a})},TdkI:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("Vavk");const e=Object(d.a)({today:{id:"formattedDate.today",defaultMessage:"Today"},yesterday:{id:"formattedDate.yesterday",defaultMessage:"Yesterday"},tomorrow:{id:"formattedDate.tomorrow",defaultMessage:"Tomorrow"},todayTime:{id:"formattedDate.todayTime",defaultMessage:"Today, {formattedTime}"},yesterdayTime:{id:"formattedDate.yesterdayTime",defaultMessage:"Yesterday, {formattedTime}"},tomorrowTime:{id:"formattedDate.tomorrowTime",defaultMessage:"Tomorrow, {formattedTime}"}})},W4Kc:function(a,b,c){"use strict";c.d(b,"a",function(){return ModuleFooter});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("xGRT"),h=c("K+RN"),i=c("FfI9"),j=c("nPYo"),k=c("Olvt"),l=c("dJ5Y"),m=c("kuA+"),n=c("aFQF"),o=c("0msP"),p=c("NJ4p");const FooterLink=a=>{let{route:b,label:c,count:d,total:k}=a;const{formatNumber:l}=Object(g.a)();return c?f.createElement(i.a,{href:b,css:{whiteSpace:"nowrap"},"data-bento-action-target":"footerLink"},c):f.createElement(j.a.span,{css:{textColor:"subdued",fontWeight:"semibold",whiteSpace:"nowrap"}},f.createElement(h.a,e()({},m.b.countOfResults,{values:{count:d||0,total:l(k||0),ResultsLink:a=>f.createElement(i.a,{"data-bento-action-target":"footerLink",href:b},a)}})))},ModuleFooter=a=>{let{footerLink:b,footerEntrypoint:c,updatedAt:d,isDelayed:e,showBillingAnalyticsStreamingIndicator:h}=a;const{pending:q}=f.useContext(n.c),{formatMessage:r}=Object(g.a)(),s=e?r(m.b.isDelayed):d;return b||s||c?f.createElement(j.a.div,{uses:[Object(k.b)({display:"flex",justifyContent:"space-between",alignItems:"center"})],css:{height:"xlarge",gap:"medium"},"data-testid":"module-footer"},f.createElement(j.a.div,{css:{stack:"x",gap:"xxsmall"}},b?f.createElement(FooterLink,b):null,b&&c&&f.createElement(j.a.span,null,"•"),c||null),q&&f.createElement(o.a,{height:"14px",width:"120px",delay:50}),!q&&!!s&&f.createElement(j.a.div,{uses:[Object(k.b)({display:"flex",alignItems:"center"})],css:{gap:"small",overflow:"hidden",textColor:l.a.color.hue.gray[400]}},f.createElement(j.a.span,{title:s,css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},s),h&&f.createElement(j.a.div,{css:{alignX:"end"}},f.createElement(p.a,{message:m.b.billingAnalyticsStreamingIndicatorTooltip,values:{ViewDocs:a=>f.createElement(i.a,{href:"https://support.stripe.com/questions/fresher-billing-analytics-data",target:"_blank"},a)}})))):null}},dghZ:function(a,b,c){"use strict";c.d(b,"a",function(){return InfoTooltip});var d=c("0qsp"),e=c("Vavk"),f=c("xGRT"),g=c("t6oC"),h=c("n2FO"),i=c("lbsd"),j=c("HOsA");const k=Object(e.a)({infoTooltipTrigger:{id:"bento.components.infoTooltipTrigger",defaultMessage:"Info"}}),InfoTooltip=a=>{let{children:b}=a;const{formatMessage:c}=Object(f.a)();return b?d.createElement(h.a,{type:"description",delay:0,placement:"top",trigger:d.createElement(i.a,{css:{".performance-tile-chart-chrome &":{padding:"space.75",bleed:"space.75",lineHeight:0,borderRadius:"xsmall"},".performance-tile-chart-chrome :hover":{backgroundColor:"offset"},".performance-tile-chart-chrome :active":{backgroundColor:"offset"}}},d.createElement(j.c,{size:"xsmall",css:{fill:"subdued",".performance-tile-chart-chrome &":{fill:"icon"}},icon:g.a,"aria-hidden":!1,"aria-label":c(k.infoTooltipTrigger)}))},b):d.createElement(d.Fragment,null)}},fLIm:function(a,b,c){"use strict";var d=c("2Llr"),e=c.n(d),f=c("VhOJ"),g=c("TdkI"),h=c("QoRZ");const getHourlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,formatMessage:e}=a;const i=[],j=c.clone();for(;j.isBefore(d);){const k=Object(h.c)({timestamp:j,format:"short-time",timezone:b});Object(f.f)(j)?i.push(e(g.a.todayTime,{formattedTime:k})):Object(f.h)(j)?i.push(e(g.a.yesterdayTime,{formattedTime:k})):i.push(Object(h.c)({timestamp:j,format:"medium-datetime",timezone:b})),j.add(1,"h")}return i},getDailyLabels=a=>{let{timezone:b,startDate:c,endDate:d,formatMessage:e}=a;const i=[],j=c.clone();for(;j.isBefore(d);)Object(f.f)(j)?i.push(e(g.a.today)):Object(f.h)(j)?i.push(e(g.a.yesterday)):i.push(Object(h.c)({timestamp:j,format:"medium-date",timezone:b})),j.add(1,"d");return i},getWeeklyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){const j=Object(h.c)({timestamp:g,format:"medium-date",timezone:b}),k=g.add(6,"d");if(i){const l=Object(h.c)({timestamp:k.isBefore(d)?k:d,format:"medium-date",timezone:b});f.push(`${l}`)}else{const m=Object(h.c)({timestamp:k,format:"medium-date",timezone:b});f.push(`${j} - ${m}`)}g.add(1,"d")}return f},getMonthlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){if(i){const j=g.clone().endOf("month");f.push(Object(h.c)({timestamp:j.isBefore(d)?j:d,format:"medium-date",timezone:b}))}else f.push(Object(h.c)({timestamp:g,format:"short-datetime",skeleton:"yMMM",timezone:b}));g.add(1,"M")}return f},getYearlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){if(i){const j=g.clone().endOf("year");f.push(Object(h.c)({timestamp:j.isBefore(d)?j:d,format:"medium-date",timezone:b}))}else f.push(Object(h.c)({timestamp:g,format:"short-datetime",skeleton:"y",timezone:b}));g.add(1,"y")}return f},getXAxisLabels=a=>{let{timezone:b,unit:c,startDate:d,endDate:e,formatMessage:f,metricType:g}=a;switch(c){case"hour":return getHourlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f});case"day":return getDailyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f});case"week":return getWeeklyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});case"month":return getMonthlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});case"year":return getYearlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});default:return[]}};b.a=e()(getXAxisLabels,a=>{let{timezone:b,unit:c,startDate:d,endDate:e,metricType:f}=a;return`${b}_${c}_${d.unix()}_${e.unix()}_${f}`})},oLwL:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("xLaQ"),h=c.n(g),i=c("09jD"),j=c("xGRT"),k=c("VhOJ"),l=c("h2W4"),m=c("eR3B"),n=c("rOY9"),o=c("fLIm"),p=c("QoRZ"),q=c("qKqT"),r=c("TdkI");const s={primaryFilter:"1D",compareToFilter:"previousPeriod",unit:"hour"};Object.values(m.c);const useSectionTimeFilters=function(){let{minStart:a,metricType:b="sum",timezoneOverride:c}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};const{formatMessage:d}=Object(j.a)(),{timezone:g,created:h}=Object(i.x)(),t=null!=c?c:g,u=f.useMemo(()=>{const{primaryFilter:a,compareToFilter:b,unit:d}=s,[e,f]=Object(k.c)(a,momentForTimezone(c).endOf("day"),momentUnixForTimezone(h,c).startOf("year"),d),[g,i]=Object(k.b)(e,f,d,b);return{primaryFilter:a,primaryStart:e,primaryEnd:f,compareToFilter:b,compareToStart:g,compareToEnd:i,unit:d}},[h,c]),v=Object(n.a)(),w=Object(q.b)(),{primaryFilter:x,primaryStart:y,primaryEnd:z,compareToFilter:A,compareToStart:B,compareToEnd:C,unit:D}=f.useMemo(()=>w||e()(e()({},u),v),[u,v,w]),E=f.useCallback(a=>Object(k.f)(a)?d(r.a.today):Object(k.h)(a)?d(r.a.yesterday):Object(p.c)({timestamp:a,timezone:t,format:"medium-date"}),[d,t]),F=f.useMemo(()=>{if(a&&a>y.unix())return`${E(momentUnixForTimezone(a,c))} - ${E(z)}`;if(!x)return y.isSame(z,"day")?E(y):`${E(y)} - ${E(z)}`;const b=m.c[x];return b?d(m.e[b]):""},[d,x,y,z,E,a,c]),G=f.useMemo(()=>{const a=Object(o.a)({startDate:y,endDate:z,formatMessage:d,timezone:t,unit:D,metricType:b});return a},[y,z,d,t,D,b]),H=f.useMemo(()=>"none"!==A&&A&&B&&C?"custom"===A?`${E(B)} - ${E(C)}`:d(m.e[A]):"",[d,A,B,C,E]),I=f.useMemo(()=>"none"!==A&&A&&B&&C?Object(o.a)({startDate:B,endDate:C,formatMessage:d,timezone:t,unit:D,metricType:b}):[],[A,B,C,d,t,D,b]),J=f.useMemo(()=>{const a=momentUnixForTimezone(h,c).startOf("year"),b=null==B?void 0:B.isSameOrAfter(a);return!!(A&&"none"!==A&&b)},[h,B,A,c]),K=f.useMemo(()=>a&&a>y.unix()?d(l.a.partialTimeRange,{start:Object(p.c)({timestamp:momentUnixForTimezone(a,c),format:"medium-date",timezone:t})}):"",[a,y,d,t,c]);return{primaryLabel:F,primaryDataLabels:G,primaryStart:y.unix(),primaryEnd:z.unix(),compareToLabel:H,compareToDataLabels:I,compareToStart:J&&(null==B?void 0:B.unix())||null,compareToEnd:J&&(null==C?void 0:C.unix())||null,partialMessage:K,unit:D,presetKey:x&&m.c[x]}};function momentForTimezone(a){return void 0!==a?h()().tz(a):h()()}function momentUnixForTimezone(a,b){return void 0!==b?h.a.unix(a).tz(b):h.a.unix(a)}b.a=useSectionTimeFilters},p6Yp:function(a,b,c){"use strict";c.d(b,"a",function(){return EditIconButton});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("SVa1"),h=c("yZLf");const EditIconButton=a=>f.createElement(h.a,e()({icon:g.a},a))},qKqT:function(a,b,c){"use strict";c.d(b,"b",function(){return useTimeFiltersContext});var d=c("0qsp");const e=Object(d.createContext)(void 0),useTimeFiltersContext=()=>Object(d.useContext)(e);b.a=e},sjUG:function(a,b,c){"use strict";c.d(b,"a",function(){return d});const d="--performance-tile-width"},wrro:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("0qsp");const e=d.createContext({setExpanded(a){}})},yZLf:function(a,b,c){"use strict";c.d(b,"a",function(){return IconButtonBase});var d=c("9u8d"),e=c.n(d),f=c("0qsp"),g=c("n2FO"),h=c("7Hnw"),i=c("HOsA");const j=["label","icon"],IconButtonBase=a=>{let{label:b,icon:c}=a,d=e()(a,j);return f.createElement(g.a,{type:"label",trigger:f.createElement(h.a,d,f.createElement(i.c,{icon:c,"aria-hidden":!1,"aria-label":b}))},b)}},zEM6:function(a,b,c){"use strict";c.d(b,"a",function(){return PerformanceTile});var d=c("0qsp"),e=c("nPYo"),f=c("lbsd"),g=c("9KEi"),h=c("wrro"),i=c("kZ9Q");const{useState:j,useRef:k,useMemo:l}=d,PerformanceTile=a=>{let{title:b,summary:c,percentChange:m,expandedView:n,pending:o,onExpandedChange:p}=a;const[q,r]=j(!1),s=k(null),t=l(()=>({setExpanded:r}),[r]),u=k(!0);return d.useEffect(()=>{if(u.current){u.current=!1;return}null==p||p(q)},[q,p]),o?d.createElement(e.a.div,{className:"performance-tile"},d.createElement(i.a,null)):d.createElement(d.Fragment,null,d.createElement(f.a,{onPress:()=>r(a=>!a),ref:s,className:"performance-tile",css:{borderRadius:"medium",paddingY:"11px",paddingX:"medium",cursor:"pointer",stack:"y",gap:"xxsmall",position:"relative",backgroundColor:"white","::after":{content:'""',position:"absolute",top:"space.0",left:"space.0",width:"fill",height:"fill",opacity:0,borderRadius:"medium",boxShadow:"medium",transitionDuration:"long",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0, 0, 0.12, 0.95)"},":hover::after":{opacity:1},":hover":{zIndex:1}}},d.createElement(e.a.div,{css:{font:"label.medium",textColor:"emphasized",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},b),d.createElement(e.a.div,{css:{stack:"x",gap:"small"}},c,m)),d.createElement(h.a.Provider,{value:t},d.createElement(g.b,{placement:"top left",targetRef:s,open:q,onClose:()=>r(!1)},n)))}}}])
//# sourceMappingURL=https://sourcemaps.corp.stripe.com/dashboard-fe-statics-srv/dashboard.FnwT-01.8476c0dc57.min.js.map