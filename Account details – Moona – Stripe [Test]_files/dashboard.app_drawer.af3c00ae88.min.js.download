(window["__load"]=window["__load"]||[]).push([["app_drawer"],{"0308":function(a,b,c){"use strict";c.d(b,"a",function(){return f});var d=c("qf0y"),e=c("Fc6U");const f=Object(e.c)(d.F,[Object(e.b)({borderColor:"neutral",borderWidth:e.b.value("1px"),borderStyle:e.b.value("solid"),borderRightWidth:e.b.value(0),backgroundColor:"surface",[d.H.inline.false]:{borderRadius:e.b.value("4px 0 0 4px"),boxShadow:e.b.value("0px 5px 15px 0px #0000001f, 0px 15px 35px 0px #3c425714, 0px 50px 100px 0px #3c425714")}})])},"1JWj":function(a,b,c){"use strict";c.r(b),c.d(b,"AppsMenu",function(){return AppsMenu});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("8pk8"),h=c("TdHh"),i=c("Vlin"),j=c("eRfu"),k=c("Bf3v"),l=c("9KEi");const{useRef:m,useState:n,useMemo:o,Fragment:p}=f,AppsMenu=()=>{const a=m(null),{shortcutApps:b,allApps:c}=useFetchApps(),[d,e]=n(!1);return f.createElement(p,{key:Number(!!b.length)},f.createElement(j.a,{ref:a,menuOpen:d,setMenuOpen:e,shortcutApps:b}),f.createElement(l.b,{targetRef:a,open:d,onOpenChange:e,css:{width:"298px",overflow:"auto",padding:"medium",maxHeight:"600px"}},f.createElement(k.a,{apps:c,onClose:()=>e(!1)})))};function useFetchApps(){const a=Object(g.a)("stripe_apps_dock_show_all_installs"),{drawerApps:b}=Object(i.a)({filterByCurrentMode:!a}),{appLastViewed:c}=Object(i.g)(),d=Object(h.p)(),f=d("L","XL");return o(()=>{const a=Object.values(b).map(a=>e()(e()({},a),{},{new:!c[a.extension_id]})),d=f?a.slice(0,3):[];return{shortcutApps:d,allApps:a}},[b,c,f])}b.default=AppsMenu},"2FEL":function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("nOHY"),j=c("bbq+"),k=c("lbsd"),l=c("nPYo"),m=c("HOsA"),n=c("eQXz");const o=["name","icon","description"],p=Object(j.createView)(a=>{let{name:b,icon:c,description:d}=a,f=g()(a,o);return h.createElement(k.a,e()({},f,{rel:"opener",target:"_blank",className:"featured-app"}),h.createElement(n.a,{name:b,icon:c}),h.createElement(l.a.div,{css:{stack:"y"}},h.createElement(l.a.span,{css:{stack:"x",gap:"xsmall",alignY:"center",transition:"color",color:"action.primary",transitionDuration:"short",font:"label.medium.emphasized",transitionTimingFunction:"ease-out",".featured-app:hover &":{color:"action.primary.hovered"}}},b,h.createElement(m.c,{icon:i.a,size:"xxsmall"})),h.createElement(l.a.span,{css:{font:"label.small",color:"text"}},d)))},{css:{stack:"x",alignY:"top",bleed:"small",gap:"space.150",padding:"small",borderRadius:"large"}});b.a=p},"5Mxg":function(a,b,c){"use strict";c.r(b);var d=c("0qsp"),e=c("zw7C"),f=c("zv5u"),g=c("09jD"),h=c("8pk8"),i=c("ekk8"),j=c("QQAh"),k=c("2ulG"),l=c("Vlin"),m=c("d6zn"),n=c("np0m"),o=c("pRQG"),p=c("utb/"),q=c("Macp"),r=c("wDh2"),s=c("7h6g");const{useCallback:t,useRef:u,useEffect:v}=d,TailorAppDrawer=()=>{var a;const b=Object(g.a)(),c=u(null),w=Object(h.a)("stripe_apps_dock_show_all_installs"),{drawerApps:x,activeApp:y,activeAppID:z,setActiveAppID:A,appsLoading:B}=Object(l.a)({filterByCurrentMode:!w}),{objectContext:C,oauthContext:D,activeViewportID:E,refreshPageData:F}=Object(l.g)(),G=t(()=>A("",{drawer_event_source:"drawer_close"}),[A]),H=!!(E&&null!=y&&y.views[E]),I=!!(null!=y&&y.views[m.b]),J=H||I,K=(null==y?void 0:y.bundle_sha)||"",L={objectContext:H?C:null,oauthContext:D,refreshPageData:F,bundle_sha:K},M=H?E:m.b,N=z===m.h.FEATURED_APPS_ID,O=z===m.h.OPT_OUT_ID;Object(o.a)({analytics:b,rootNode:c,app_id:z,viewport_id:E});const P=Object(m.i)(),Q=Object(i.c)(),R=Q&&(!!y||N||O),S=null===(a=Object(q.c)())|| void 0===a?void 0:a.app;Object(s.a)({apps:x,loading:B,devModeApp:S,activeAppID:z,setActiveAppID:A});const T=u(A);T.current=A;const U=u(z);return U.current=z,v(()=>(Object(r.b)(),()=>{U.current&&T.current("",{drawer_event_source:"app_drawer_unmount"})}),[]),d.createElement(e.a,null,R&&d.createElement(f.a,{size:"small",onClose:G,style:P},y&&d.createElement(p.a.Provider,{value:!0},d.createElement("div",{ref:c,className:"db-TailorAppDrawer"},d.createElement(k.a,{activeApp:y,onClose:G}),d.createElement(j.a,{activeApp:y,activeViewportID:E,appHasView:J,viewportData:L,viewportID:M}),d.createElement(n.a,{toastKey:`${z}_${J}`,inDrawer:!0})))))};b.default=TailorAppDrawer},"7h6g":function(a,b,c){"use strict";c.d(b,"a",function(){return useAutoOpenApp});var d=c("0qsp"),e=c("K0Ao"),f=c.n(e),g=c("o3TO");const{useEffect:h}=d,getAppId=(a,b)=>a&&"string"==typeof a?a:null!=b&&b.app_name?b.app_name:"";let i=!1;const useAutoOpenApp=a=>{let{apps:b,loading:c,devModeApp:d,activeAppID:e,setActiveAppID:j}=a;const[k,l]=Object(g.a)("open_drawer_app");h(()=>{const a=!!f()(b).length;if(c||e||!a)return;const g=getAppId(k,d);if(!g)return;const h=g===(null==d?void 0:d.app_name);if(!h||!i){if(h){j(g,{drawer_event_source:"auto_open"}),i=!0;return}b[g]&&(j(g,{drawer_event_source:"auto_open"}),l(void 0,!0))}},[b,c,d,e,k,j,l])}},Bf3v:function(a,b,c){"use strict";var d=c("0qsp"),e=c("nPYo"),f=c("FfI9"),g=c("cFtC"),h=c("Ib3m"),i=c("Vavk"),j=c("xGRT"),k=c("lkvZ"),l=c("uVba");const m=Object(i.a)({installedApps:{id:"chrome.header.apps.installed_apps",defaultMessage:"Installed apps"},viewAll:{id:"chrome.header.apps.viewAll",defaultMessage:"View all"}}),AppsMenuContents=a=>{let{apps:b,onClose:c}=a;const{formatMessage:i}=Object(j.a)();return d.createElement(g.a,{autoFocus:!0},d.createElement(e.a.div,{css:{stack:"y",gap:"space.250"}},!!b.length&&d.createElement(e.a.section,{css:{stack:"y",gap:"space.150"}},d.createElement(e.a.div,{css:{stack:"x",alignY:"center",distribute:"space-between",font:"heading.xsmall.subdued"}},d.createElement(e.a.span,null,i(m.installedApps)),d.createElement(f.a,{onPress:c,href:Object(h.a)({name:"SETTINGS_APPS"}),css:{paddingX:"xsmall",bleedX:"xsmall"}},i(m.viewAll))),d.createElement(e.a.div,{css:{stack:"x",wrap:"wrap",gap:"medium",alignY:"center"}},b.map(a=>d.createElement(k.a,{key:a.extension_id,app:a,onPress:c})))),d.createElement(l.a,{hasInstalledApps:!!b.length})))};b.a=AppsMenuContents},DQ8M:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("+ET8");const e={global:Object(d.a)({"*":a=>`${a}`}).global}},HtQb:function(a,b,c){"use strict";c.d(b,"a",function(){return TailorViewportV2});var d=c("0qsp"),e=c("Q9PI"),f=c("JDvh"),g=c("hmsF");const TailorViewportV2=a=>{let{data:b,viewportID:c,appId:h,bundleURL:i,channelName:j,visibility:k,installId:l,hide:m=!1,appInquiryId:n,buildVersionId:o,loadingView:p}=a;return d.createElement(g.a.Provider,{value:b},d.createElement("div",{className:Object(e.a)("db-TailorViewport",{"db-TailorViewport-hidden":m})},d.createElement(f.a,{appId:h,extensionBundle:i,viewportID:c,channelName:j,visibility:k||"public",installId:l,appInquiryId:n,buildVersionId:o,loadingView:p})))}},JDvh:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("1nIT"),h=c("nZks");const AsyncTailorExtension=a=>f.createElement(g.a,{childName:"tailor_TailorExtension",fetchNamespace:()=>Promise.all([c.e("1Kp4-01"),c.e("B0JF-01"),c.e("u7t8-01"),c.e("6Qxb-01"),c.e("rGGp-01"),c.e("pKfh-01"),c.e("8YWC-01"),c.e("vendors~tailor"),c.e("tailor")]).then(c.bind(null,"U/V+")),importPath:"src/tailor/extensions/TailorExtension",owner:"app_marketplace",childProps:e()({},a),loadingView:a.loadingView||(()=>f.createElement(h.a,null)),divCss:{width:"fill"},generatedBoundaryId:"1454313061",generatedCallsiteIdentifier:"AsyncTailorExtension#0"});b.a=AsyncTailorExtension},LJJ3:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Fc6U"),h=c("K+RN"),i=c("M5MA"),j=c("viqS"),k=c("T6JN"),l=c("nOHY"),m=c("wO8l"),n=c("d6zn"),o=c("vwEd"),p=c("6Rp3"),q=c("Macp"),r=c("rPDH"),s=c("L+mI");const TailorAppDrawerDefaultView=a=>{let{activeApp:b,activeViewportID:c}=a;const{icon:d,name:t}=b,u=Object(q.f)(null==b?void 0:b.extension_id),v=f.useMemo(()=>Object(n.f)(b,c),[b,c]),[w,x]=f.useState(!0),y=Object(n.g)(b,c);return f.useLayoutEffect(()=>{x(!y)},[c,y]),f.createElement(g.d.div,{css:{marginTop:g.b.value("-1px"),padding:g.b.value(`${r.b}px`),borderTop:g.b.value("1px solid"),borderTopColor:"neutral",flexGrow:g.b.value(1),layout:"column",alignX:"center",alignY:"center",gap:g.b.value("20px"),marginBottom:g.b.value(u?"88px":"44px")}},f.createElement(p.a,{imgSrc:d,title:t,size:"large"}),f.createElement(g.d.div,{css:{font:"heading",fontWeight:"semibold",textAlign:g.b.value("center")}},f.createElement(n.d,{name:t,activeViewportID:c,onRelatedPage:y,showLinks:w})),w&&f.createElement(i.a,{shadow:"medium",style:{width:"100%"}},f.createElement(j.c,{size:"large"},v.map(a=>{const b=Object(s.a)(a);return f.createElement(j.b,{key:b,href:b,title:f.createElement(g.d.span,{css:{color:"brand",fontWeight:"semibold"}},f.createElement(h.a,o.b[b])),end:f.createElement(k.default,{icon:l.a,color:"blue500"})})}))),w&&y&&f.createElement(g.d.div,{css:{font:"body",textAlign:g.b.value("center")}},f.createElement(g.d.div,{css:{marginBottom:g.b.value("5px")}},f.createElement(h.a,o.b.or)),f.createElement(n.a,{name:t,activeViewportID:c})),!w&&!!v.length&&f.createElement(m.ButtonLink,{style:{width:"60%",textAlign:"center",position:"absolute",bottom:"20px"},label:f.createElement(h.a,e()({},o.b.viewOtherPages,{values:{name:t}})),onClick:()=>x(!0),wrap:!0}))};b.a=TailorAppDrawerDefaultView},QOKp:function(a,b,c){"use strict";c.d(b,"b",function(){return m}),c.d(b,"c",function(){return useDrawerClose}),c.d(b,"a",function(){return p});var d=c("0qsp"),e=c("Tn4S"),f=c("2mZl"),g=c("qf0y"),h=c("0308"),i=c("Fc6U"),j=c("cFtC"),k=c("t0N/"),l=c("5ln7");const m=d.createContext(void 0);function useDrawerClose(){const a=Object(d.useContext)(m);return a?a.onClose:void 0}const n=Object(i.b)({width:i.b.value("clamp(344px, 50vw, 20vw)"),display:i.b.value("flex"),position:i.b.value("relative"),flexDirection:i.b.value("column"),flex:i.b.value("1"),overflow:i.b.value("auto"),[g.H.size.medium]:{width:i.b.value("clamp(480px, 50vw, 35vw)")},[g.H.size.large]:{width:i.b.value("clamp(584px, 50vw, 45vw)")}}),o=Object(i.b)({position:i.b.value("fixed"),top:i.b.value("calc(var(--sail-layer-margin-top, 0px) - 1px)"),right:0,bottom:i.b.value("calc(var(--sail-layer-margin-bottom, 0px) - 1px)"),transformOrigin:i.b.value("center left"),overflow:i.b.value("hidden"),display:i.b.value("flex"),flexDirection:i.b.value("column"),outline:i.b.value("none")}),p=e.d.div.create(({blocking:a=!0,size:b="small",inline:c=!1,layerName:m,onClose:p,...q})=>{const r=e.d.slots(q),s=a&&{"data-needs-scrollbar-adjustment":"true"};return d.createElement(k.a,{name:m||(a?"modal":"nonmodal")},a?d.createElement(l.a,{onPress:p,uses:[f.a.inout({duration:150,opacity:0,easing:"ease-in-out"})]}):null,d.createElement(j.a,{contain:a,restoreFocus:!0},d.createElement(e.d.div,{tabIndex:-1,role:"dialog",...s,uses:[h.a,g.H.assign({inline:c}),o,q]},r.header,d.createElement(e.d.div,{uses:[Object(i.b)({layout:"row",flex:i.b.value(1),minHeight:i.b.value(0)})]},r.start,d.createElement(e.d.div,{uses:[n,g.H.assign({size:b})]},r.default),r.end))))})},QQAh:function(a,b,c){"use strict";var d=c("0qsp"),e=c("HtQb"),f=c("LJJ3");const TailorAppDrawerContent=a=>{var b;let{activeApp:c,activeViewportID:g,appHasView:h,viewportData:i,viewportID:j}=a;return h?d.createElement(e.a,{key:j,data:i,viewportID:j,channelName:null==c?void 0:c.channel_name,visibility:c.visibility||"public",installId:null!==(b=null==c?void 0:c.install_id)&& void 0!==b?b:"",hide:!1,appId:c.extension_id,bundleURL:c.bundle_identifier}):d.createElement(f.a,{activeApp:c,activeViewportID:g})};b.a=TailorAppDrawerContent},XLt7:function(a,b,c){"use strict";c.d(b,"a",function(){return useGetActiveNavItemKey}),c.d(b,"b",function(){return useGetFeaturedApps});var d=c("0qsp"),e=c("pJt8"),f=c("09jD"),g=c("0H32"),h=c("tjat"),i=c("ApL7");const useGetActiveNavItemKey=()=>{const a=Object(g.a)();return Object(d.useMemo)(()=>{if((null==a?void 0:a.key)==="directory"){var b;const c=null==a?void 0:null===(b=a.children)|| void 0===b?void 0:b.find(a=>{let{state:b}=a;return"active"===b});if((null==c?void 0:c.key)==="directory.customers")return"customers"}return null==a?void 0:a.key},[a])},getFeaturedAppsCollectionId=a=>{switch(a){case"payments":return"dashboard_payments_featured";case"balances":return"dashboard_balances_featured";case"customers":return"dashboard_customers_featured";case"products":return"dashboard_products_featured";default:return"dashboard_featured"}},j={primary:[],backup:[]},useGetFeaturedApps=()=>{const a=useGetActiveNavItemKey(),b=getFeaturedAppsCollectionId(a),c=Object(h.a)({variables:{collection_id:b,include:["data.cdn_logo"]}}),g=Object(d.useMemo)(()=>{if(!c.data)return j;const{ajaxAppMarketplaceDevDashboardFeaturedCollection:a}=c.data;return{primary:(null==a?void 0:a.data)||[],backup:(null==a?void 0:a.backup_data)||[]}},[c.data]);Object(d.useEffect)(()=>{if(c.loading||c.error)return;const{primary:a,backup:d}=g,f="manage.dashboard.tailor.featured_apps.listings_missing";a.length||e.b.increment(f,1,{collection_id:b}),d.length||e.b.increment(f,1,{collection_id:"dashboard_featured_backup"})},[g,c.loading,c.error,b]);const{polyjuice:k}=Object(f.R)(),{id:l}=Object(f.x)(),m=Object(i.a)({variables:{merchantId:l},skip:!l||!!k}),n=Object(d.useMemo)(()=>{var a,b;return(null===(a=m.data)|| void 0===a?void 0:null===(b=a.list)|| void 0===b?void 0:b.data.map(a=>{let{app_id:b}=a;return b}))||[]},[m.data]),o=c.error||m.error,p=c.loading||m.loading;return Object(d.useMemo)(()=>({featuredApps:[...g.primary,...g.backup].filter(a=>!n.includes(a.id)).slice(0,g.primary.length),error:o,loading:p}),[g,n,o,p])}},eQXz:function(a,b,c){"use strict";var d=c("9u8d"),e=c.n(d),f=c("0qsp"),g=c("bbq+"),h=c("nPYo"),i=c("dJ5Y");const j=["name","icon"],{useState:k}=f,l=Object(g.createView)(a=>{let{name:b,icon:c}=a,d=e()(a,j);const[g,l]=k(!1);return f.createElement(h.a.div,d,c&&!g?f.createElement(h.a.img,{src:c,onError:()=>l(!0),css:{height:"fill",width:"fill"}}):f.createElement(h.a.span,{css:{stack:"x",width:"fill",height:"fill",color:"white",alignX:"center",alignY:"center",fontSize:"inherit",backgroundColor:i.a.color.hue.gray[600]}},b[0]))},{css:{stack:"x",alignY:"center",alignX:"center",overflow:"hidden",width:"space.500",height:"space.500",borderRadius:"small",border:`1px solid ${i.a.color.hue.gray[50]}`}});b.a=l},eRfu:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("QbI9"),g=c.n(f),h=c("9u8d"),i=c.n(h),j=c("0qsp"),k=c("n3uv"),l=c("dJ5Y"),m=c("bbq+"),n=c("nPYo"),o=c("Vavk"),p=c("xGRT"),q=c("kkEO"),r=c("09jD"),s=c("TdHh"),t=c("lkvZ"),u=c("lEaA"),v=c("LpZB"),w=c("PIGF"),x=c("W/E1");const y=["shortcutApps","menuOpen","setMenuOpen"],z=Object(o.a)({appsLabel:{id:"chrome.header.apps.label",defaultMessage:"Apps"}}),A={paddingX:"9px",height:"space.450",borderRadius:"rounded",border:`1px solid ${l.a.color.hue.gray[50]}`},B=Object(m.createView)(a=>{let{shortcutApps:b,menuOpen:c,setMenuOpen:d}=a,f=i()(a,y);const{formatMessage:h}=Object(p.a)(),l=Object(s.p)(),m=l("L","XL"),o=Object(r.i)();o("dashboard_mini_app_dock_aa");const B=o("dashboard_mini_app_dock"),C=m&&b.length<=2&&"treatment"===B,D=j.createElement(u.a,g()({},f,{icon:k.a,menuOpen:c,onPress:()=>d(!c),"data-testid":"chrome-apps-menu-trigger",label:h(z.appsLabel),css:{color:"icon"}}));return j.createElement(n.a.div,{css:e()(e()({stack:"x",alignY:"center"},!!b.length&&A),{},{':has([data-slotid="app-marketplace-mini-app-dock"])':A})},b.map(a=>j.createElement(t.a,{app:a,tabIndex:1,key:a.extension_id,onPress:()=>d(!1),css:{bleedX:"small",width:"xlarge",height:"xlarge",fontSize:"11px",borderRadius:"rounded",marginRight:"small"},subviews:{logo:{css:{borderWidth:0,width:"medium",height:"medium",borderRadius:"xsmall"}},counter:{css:{top:"4px",right:"4px",width:"6px",height:"6px"}}}})),C&&j.createElement(v.a,{id:"app-marketplace-mini-app-dock-layout",owner:"app_marketplace",loadingView:()=>null},j.createElement(w.a,{id:"app-marketplace-mini-app-dock",type:"dynamic",childModules:Object(q.c)(x.B),decisionPoint:x.z,errorComponent:()=>null,templates:{},generatedBoundaryId:"155495624"})),D)});b.a=B},hNtI:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("09jD"),j=c("bbq+"),k=c("FfI9"),l=c("n2FO"),m=c("Vavk"),n=c("xGRT"),o=c("lq0s"),p=c("ekk8");const q=["mode","name"],r=Object(m.a)({drawerDisabled:{id:"chrome.header.apps.appDisabledTooltip.drawerDisabled",defaultMessage:"Apps are not available on this page."},switchMode:{id:"chrome.header.apps.appDisabledTooltip.switchMode",defaultMessage:"{name} is only available in {oppositeMode} mode. <Link>Switch to {oppositeMode} mode</Link>"}}),s=Object(j.createView)(a=>{let{mode:b,name:c}=a,d=g()(a,q);const{formatMessage:f}=Object(n.a)(),[j]=Object(o.f)(!0),m=Object(p.a)(),s=Object(i.t)()?"LIVEMODE":"TESTMODE";if(!m&&b===s)return null;const t=m?f(r.drawerDisabled):f(r.switchMode,{name:c,oppositeMode:"LIVEMODE"===s?"test":"live",Link:a=>h.createElement(k.a,{onPress:j},a)});return h.createElement(l.a,e()({},d,{delay:{show:0,hide:50}}),t)});b.a=s},hmsF:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("0qsp");const e=d.createContext(void 0);e.displayName="BentoViewportDataContext"},lkvZ:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("09jD"),j=c("Vavk"),k=c("xGRT"),l=c("TdHh"),m=c("bbq+"),n=c("lbsd"),o=c("AKTI"),p=c("dJ5Y"),q=c("n2FO"),r=c("jOHC"),s=c("ekk8"),t=c("Vlin"),u=c("eQXz"),v=c("O5Iv"),w=c("hNtI");const x=["app","onPress","subviews"],{useCallback:y,useRef:z,useContext:A}=h,B=Object(j.a)({new:{id:"chrome.header.apps.new",defaultMessage:"New"}}),C=Object(m.createView)(a=>{let{app:b,onPress:c,subviews:d}=a,f=g()(a,x);const{extension_id:j,icon:m,name:C,mode:D}=b,{activeAppID:E,setActiveAppID:F}=Object(t.a)(),G=y(a=>{const b="apps_menu_item_press";F(j,{drawer_event_source:b}),null==c||c(a)},[j,F,c]),H=j===E,I=z(null),J=Object(l.i)(),K=Object(i.t)()?"LIVEMODE":"TESTMODE",L=Object(s.a)(),M=L||D!==K,{hideTooltips:N}=A(v.b),O=!J&&!M&&!N,P=!J&&M,{formatMessage:Q}=Object(k.a)();return h.createElement(h.Fragment,null,h.createElement(n.a,e()({},f,{ref:I,"aria-label":C,disabled:M,onPress:G,className:"app-action","data-testid":`app-dock-icon-button${b.new?"-new":""}`,css:{opacity:M?.4:1,cursor:M?"default":"pointer",backgroundColor:H?"offset":"transparent",":hover":{backgroundColor:M?"transparent":"offset"}}}),h.createElement(u.a,{name:C,icon:m,inherits:null==d?void 0:d.logo,css:{height:"space.500",width:"space.500"}}),!M&&b.new&&h.createElement(o.a,{type:"micro",inherits:null==d?void 0:d.counter,css:{top:"space.0",width:"small",height:"small",right:"space.0",position:"absolute",transitionDuration:"short",transitionProperty:"border-color",transitionTimingFunction:"ease-out",backgroundColor:p.a.color.brand[200],borderColor:p.a.color.hue.gray[H?25:0],".app-action:hover &":{borderColor:p.a.color.hue.gray[25]}}})),O&&h.createElement(q.a,{type:"label",trigger:I,delay:{show:0,hide:0},inherits:null==d?void 0:d.tooltip,css:{stack:"x",gap:"small",alignY:"center",maxWidth:"unset",whiteSpace:"nowrap"}},b.new&&h.createElement(r.a,{type:"new"},Q(B.new)),C),P&&h.createElement(w.a,{name:C,mode:D,trigger:I,placement:"bottom",css:{position:"relative",top:"-4px"}}))},{css:{zIndex:1,stack:"x",bleed:"xsmall",alignY:"center",alignX:"center",fontSize:"24px",width:"xxlarge",height:"xxlarge",lineHeight:"0px",position:"relative",borderRadius:"medium",transitionDuration:"short",transitionTimingFunction:"ease-out",transitionProperty:"background-color, opacity"}});b.a=C},nZks:function(a,b,c){"use strict";var d=c("0qsp"),e=c("HyUj"),f=c("0msP"),g=c("rPDH");const TailorLoadingState=()=>d.createElement(e.default,{style:{width:"100%",height:"100%",padding:`20px ${g.b}px`}},d.createElement(f.a,{width:"100%",height:"100%"}));b.a=TailorLoadingState},pRQG:function(a,b,c){"use strict";c.d(b,"a",function(){return useTrackAppInteraction});var d=c("8OBj"),e=c.n(d),f=c("0qsp");const g="begin_authorization",h="sign_up",isAnchorMatching=(a,b)=>"A"===a.tagName&&!!a.href.match(b),isButtonMatching=(a,b)=>"BUTTON"===a.tagName&&!!a.innerText.match(b),getAnalyticsParamsFromClick=(a,b,c)=>{for(const d of(null===(e=a.composedPath)|| void 0===e?void 0:e.call(a))||[]){var e;if(d===c)break;if("mailchimp"===b){if(isAnchorMatching(d,"stripe-mailchimp.herokuapp.com/oauth/mailchimp/authorize"))return{app_event_type:g};if(isButtonMatching(d,/Save changes/i))return{app_event_type:"save_settings"}}else if("com.xero.stripeapp"===b){if(isAnchorMatching(d,"login.xero.com/identity/connect/authorize"))return{app_event_type:g};if(isAnchorMatching(d,"www.xero.com/us/signup"))return{app_event_type:h}}else if("mercuryfi"===b){if(isAnchorMatching(d,"oauth2.mercury.com/oauth2/auth"))return{app_event_type:g};if(isAnchorMatching(d,"mercury.com/partner/stripe"))return{app_event_type:h}}}return{}},useTrackAppInteraction=a=>{let{analytics:b,rootNode:c,app_id:d,viewport_id:g}=a;Object(f.useEffect)(()=>{if(!c.current)return;const handleClick=a=>{var f,h;if(null!==(f=a.target)&& void 0!==f&&null!==(h=f.closest)&& void 0!==h&&h.call(f,".db-TailorAppDrawerClose")){b.action("tailor.drawer.header.close",e()({app_id:d,viewport_id:g,listener_type:"click"},getAnalyticsParamsFromClick(a,d,c.current)));return}b.action("tailor.app.event",e()({app_id:d,viewport_id:g,listener_type:"click"},getAnalyticsParamsFromClick(a,d,c.current)))},handleKeyUp=a=>{var c,e;!(null!==(c=a.target)&& void 0!==c&&null!==(e=c.closest)&& void 0!==e&&e.call(c,".db-TailorAppDrawerClose"))&&b.action("tailor.app.event",{app_id:d,viewport_id:g,listener_type:"keyup"})},a=c.current;return a.addEventListener("click",handleClick),a.addEventListener("keyup",handleKeyUp),()=>{a.removeEventListener("click",handleClick),a.removeEventListener("keyup",handleKeyUp)}},[b,d,g,c])}},tjat:function(a,b,c){"use strict";c.d(b,"a",function(){return useFeaturedAppsQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query FeaturedAppsQuery($collection_id:OpenapiGetAjaxAppMarketplaceDevDashboardFeaturedCollectionInputCollectionIdEnum$include:[String!]=[]$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"fb682bf9f6"){ajaxAppMarketplaceDevDashboardFeaturedCollection(input:{collection_id:$collection_id include:$include}v1Context:$v1Context)@params(expand:[]includeOnly:["data.id" "data.platform_public_app_id" "data.logo" "data.cdn_logo" "data.name" "data.safe_names" "data.subtitle" "backup_data.id" "backup_data.platform_public_app_id" "backup_data.logo" "backup_data.cdn_logo" "backup_data.name" "backup_data.safe_names" "backup_data.subtitle"]fragments:[]nodeLookupMap:[{nodes:["id" "platform_public_app_id" "logo" "cdn_logo" "name" "safe_names" "subtitle"]parentPath:"data"}{nodes:["id" "platform_public_app_id" "logo" "cdn_logo" "name" "safe_names" "subtitle"]parentPath:"backup_data"}]predicates:{})@rest(type:"OpenapiAppMarketplaceResourceDashboardFeaturedCollection" method:"GET" pathBuilder:$pathBuilder runtimePath:"/ajax/app_marketplace/dev/dashboard_featured_collection" queryName:"ajaxAppMarketplaceDevDashboardFeaturedCollection"){data@type(name:"OpenapiAppMarketplaceResourceAppListing"){id platform_public_app_id logo cdn_logo name safe_names subtitle}backup_data@type(name:"OpenapiAppMarketplaceResourceAppListing"){id platform_public_app_id logo cdn_logo name safe_names subtitle}}}
          `,g=f,h={expectedErrors:["multi_region_routing_target_not_found"]};function useFeaturedAppsQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},uVba:function(a,b,c){"use strict";var d=c("0qsp"),e=c("0msP"),f=c("09jD"),g=c("n3uv"),h=c("XCqV"),i=c("nPYo"),j=c("wi2u"),k=c("FfI9"),l=c("HOsA"),m=c("xGRT"),n=c("Vavk"),o=c("XLt7"),p=c("2FEL");const FeaturedAppsSection=a=>{let{hasInstalledApps:b}=a;const{formatMessage:c}=Object(m.a)(),n=Object(f.g)(),q=Object(o.a)(),r=getTitleMessage(q),s=c(r),t=getLinkMessage(q),u=c(t),v=h.b.getWorksWithLink(q,n),{featuredApps:w,loading:x}=Object(o.b)(),y=b?3:5;return d.createElement(d.Fragment,null,d.createElement(i.a.section,{css:{stack:"y",gap:"space.150"}},d.createElement(i.a.span,{css:{font:"heading.xsmall.subdued"}},s),d.createElement(i.a.div,{css:{stack:"y",gap:"space.250"}},x?[...Array(y)].map((a,b)=>d.createElement(e.a,{height:"52px",width:"100%",delay:100*b})):w.slice(0,y).map(a=>{const{id:b,name:c,cdn_logo:e,logo:f,subtitle:g,safe_names:i}=a,j=null!=e?e:f,k=i[0]?h.b.getListingLink(a,n):void 0;return d.createElement(p.a,{key:b,name:c,icon:j,href:k,description:g})}))),d.createElement(j.a,{css:{bleedBottom:"xsmall"}}),d.createElement(k.a,{rel:"opener",target:"_blank",href:v,css:{stack:"x",bleed:"xsmall",alignY:"center",padding:"xsmall",alignSelfX:"center"}},d.createElement(l.c,{icon:g.a,size:"small"}),u))},q=Object(n.a)({payments:{id:"chrome.header.apps.featuredAppsSection.paymentsTitle",defaultMessage:"Great apps that work with payments"},customers:{id:"chrome.header.apps.featuredAppsSection.customersTitle",defaultMessage:"Great apps that work with customers"},balances:{id:"chrome.header.apps.featuredAppsSection.balancesTitle",defaultMessage:"Great apps that work with balances"},products:{id:"chrome.header.apps.featuredAppsSection.productsTitle",defaultMessage:"Great apps that work with products"},default:{id:"chrome.header.apps.featuredAppsSection.defaultTitle",defaultMessage:"Featured apps"}});function getTitleMessage(a){switch(a){case"payments":case"balances":case"customers":case"products":return q[a];default:return q.default}}const r=Object(n.a)({payments:{id:"chrome.header.apps.featuredAppsSection.paymentsLinkLabel",defaultMessage:"All apps that work with payments"},customers:{id:"chrome.header.apps.featuredAppsSection.customersLinkLabel",defaultMessage:"All apps that work with customers"},balances:{id:"chrome.header.apps.featuredAppsSection.balancesLinkLabel",defaultMessage:"All apps that work with balances"},products:{id:"chrome.header.apps.featuredAppsSection.productsLinkLabel",defaultMessage:"All apps that work with products"},default:{id:"chrome.header.apps.featuredAppsSection.defaultLinkLabel",defaultMessage:"Explore the App Marketplace"}});function getLinkMessage(a){switch(a){case"payments":case"balances":case"customers":case"products":return r[a];default:return r.default}}b.a=FeaturedAppsSection},zv5u:function(a,b,c){"use strict";c.d(b,"a",function(){return j});var d=c("0qsp"),e=c("4PLb"),f=c("2mZl"),g=c("QKva"),h=c("QOKp"),i=c("jkuT");const j=h.a.create((a,b)=>{const{onClose:c}=a,j=Object(d.useRef)(null),{setMargin:k,minWidth:l,openTime:m,setOpenTime:n,uses:o}=Object(d.useContext)(i.c),[p,q]=Object(d.useState)(!1),r=Object(d.useRef)(null),s=Object(d.useRef)(Date.now()),t=Object(d.useMemo)(()=>!!m&&m>s.current,[m]);d.useEffect(()=>{null==n||n(s.current)},[n]),Object(d.useEffect)(()=>{t&&(null==c||c())},[t,c]);const u=Object(d.useRef)(!1);function onKeyDown(a){"Escape"===a.key&&p&&(a.stopPropagation(),null==c||c())}return f.a.useTimelineListeners(Object(d.useMemo)(()=>({out(){u.current=!0,t||null==k||k(0)},in(){u.current=!1,null!=j.current&&(null==k||k(j.current))}}),[k,t])),Object(g.a)({node:r,handler:Object(d.useCallback)(a=>{const b=a.contentRect.width;j.current=b,u.current||null==k||k(p?0:b)},[k,p])}),Object(g.a)({node:window,handler:Object(d.useCallback)(()=>{l&&q(window.innerWidth<l)},[l])}),d.createElement(b,{inline:!p,blocking:!1,layerName:"inline-drawer",onKeyDown:onKeyDown,...a,uses:[{ref:r},...o||[],Object(e.a)(h.b,{onClose:c}),f.a.in({duration:150,transform:"translateX(calc(100% * var(--drawer-direction, 1)))",easing:"ease-out"}),f.a.in({duration:150,opacity:.8,easing:"ease-in"}),f.a.out({duration:150,transform:"translateX(calc(100% * var(--drawer-direction, 1)))",opacity:1,easing:"ease-in"})]})})}}])
//# sourceMappingURL=https://sourcemaps.corp.stripe.com/dashboard-fe-statics-srv/dashboard.app_drawer.af3c00ae88.min.js.map