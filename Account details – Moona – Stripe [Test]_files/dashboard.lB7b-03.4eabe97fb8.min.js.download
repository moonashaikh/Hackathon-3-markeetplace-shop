(window["__load"]=window["__load"]||[]).push([["lB7b-03"],{"+qCB":function(a,b,c){"use strict";var d=c("At4X");b.a=d.a},"/6UX":function(a,b,c){"use strict";c.d(b,"a",function(){return StatusCellContent});var d=c("0qsp"),e=c("jOHC"),f=c("HOsA"),g=c("n2FO"),h=c("xLaQ"),i=c.n(h),j=c("t5xp"),k=c("ziln"),l=c("3HTY");const hasPaymentIntent=a=>"payment_intent"in a,StatusCellContent=a=>{let{invoice:b}=a;const c=hasPaymentIntent(b)?Object(j.m)(b,Object(l.d)(b.test_clock,i()()).toDate()):Object(j.n)(b,Object(l.d)(b.test_clock,i()()).toDate()),{iconNext:h}=hasPaymentIntent(b)?Object(k.j)(b,c):Object(k.k)(b,c),{type:m}=hasPaymentIntent(b)?Object(k.d)(b,c):Object(k.e)(b,c),n=Object(j.d)(b),o=n&&"full"===n||"partial"===n,p=d.createElement(e.a,{type:m},Object(k.f)(o,c),h&&d.createElement(f.c,{icon:h})),q=hasPaymentIntent(b)?Object(k.g)(b,c):Object(k.h)(b,c);return q?d.createElement(g.a,{delay:0,type:"description",trigger:p,placement:"top"},q):p}},"/Z1S":function(a,b,c){"use strict";c.d(b,"a",function(){return CreatedCellContent});var d=c("0qsp"),e=c("QoRZ");const CreatedCellContent=a=>{let{invoice:b}=a;return d.createElement(e.b,{format:"medium-datetime",timestamp:b.created})}},"0YUX":function(a,b,c){"use strict";c.d(b,"b",function(){return useCustomColumns});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("sq1Y");function useCustomColumns(a,b,c){const d=c.filter(a=>!a.hidden).map(a=>a.id),{loading:h,state:i,setState:j}=Object(g.a)(a,b,{visibleColumnIds:d}),k=f.useMemo(()=>{if(h)return[];if(!Array.isArray(null==i?void 0:i.visibleColumnIds))return c;const a=i.visibleColumnIds;return c.map(b=>e()(e()({},b),{},{hidden:!a.includes(b.id)})).sort((b,c)=>a.indexOf(b.id)-a.indexOf(c.id))},[c,i,h]),l=f.useCallback(a=>{const b=a.filter(a=>!a.hidden).map(a=>a.id);j({visibleColumnIds:b})},[j]);return{loading:h,columns:k,onColumnsSelected:l}}b.a=useCustomColumns},"1YWO":function(a,b,c){"use strict";c.d(b,"a",function(){return CustomerDescriptionCellContent});var d=c("0qsp"),e=c("FYRY");const CustomerDescriptionCellContent=a=>{let{invoice:b}=a;return b.customer_description?d.createElement(d.Fragment,null,b.customer_description):d.createElement(e.a,null)}},"1ivO":function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("aAzf"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"customer-email",label:f.a.columnCustomerEmail}},"2phA":function(a,b,c){"use strict";c.d(b,"a",function(){return useRetrieveLinkPaymentMethodDetailsLazyQuery});var d=c("bPOr"),e=c("81gb");const f=d.a`
            query RetrieveLinkPaymentMethodDetailsLazyQuery($input:OpenapiGetAjaxConsumerRetrieveLinkPaymentMethodDetailsInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"5adc31997c"){result:ajaxConsumerRetrieveLinkPaymentMethodDetails(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["id" "card.id" "card.brand" "card.last4" "bank_account.id" "bank_account.last4" "bank_account.bank_name" "type"]fragments:[]nodeLookupMap:[{nodes:["id" "type"]parentPath:"ROOT"}{nodes:["id" "brand" "last4"]parentPath:"card"}{nodes:["id" "last4" "bank_name"]parentPath:"bank_account"}]predicates:{})@rest(type:"OpenapiRetrieveLinkPaymentMethodDetails" method:"GET" pathBuilder:$pathBuilder runtimePath:"/ajax/consumer/retrieve_link_payment_method_details" queryName:"result"){id card@type(name:"OpenapiRetrieveLinkPaymentMethodDetailsCard"){id brand last4}bank_account@type(name:"OpenapiRetrieveLinkPaymentMethodDetailsBankAccount"){id last4 bank_name}type}}
          `,g=f,h={expectedErrors:[]};function useRetrieveLinkPaymentMethodDetailsLazyQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(e.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"31JN":function(a,b,c){"use strict";c.d(b,"a",function(){return usePaymentMethodBillingSupportQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query PaymentMethodBillingSupportQuery($v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"a43446292b"){ajaxLegacyGraphqlPaymentMethodsWithBillingSupport(v1Context:$v1Context)@params(expand:[]includeOnly:["payment_methods_with_billing_support"]fragments:[]nodeLookupMap:[{nodes:["payment_methods_with_billing_support"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiInvoicesResourcePaymentMethodsWithBillingSupport" method:"GET" pathBuilder:$pathBuilder runtimePath:"/ajax/legacy_graphql/payment_methods_with_billing_support" queryName:"ajaxLegacyGraphqlPaymentMethodsWithBillingSupport"){paymentMethodsWithBillingSupport:payment_methods_with_billing_support}}
          `,g=f,h={expectedErrors:["api_error","multi_region_routing_target_not_found"]};function usePaymentMethodBillingSupportQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"3HTY":function(a,b,c){"use strict";c.d(b,"a",function(){return f}),c.d(b,"b",function(){return g}),c.d(b,"c",function(){return formatExpireIn}),c.d(b,"d",function(){return getClockedOrDefaultAsOf}),c.d(b,"f",function(){return shouldShowClockIconColumn}),c.d(b,"e",function(){return isOutsideRange});var d=c("xLaQ"),e=c.n(d);const f=3,g=6,formatExpireIn=a=>{const b=e()(),c=e.a.unix(a),d=30-b.diff(c,"days"),f=d<=1?"day":"days";return`${d} ${f}`},getClockedOrDefaultAsOf=(a,b)=>a&&"object"==typeof a&&"frozen_time"in a&&"number"==typeof a.frozen_time?e.a.unix(a.frozen_time):b,shouldShowClockIconColumn=a=>void 0!==a&&a.some(a=>"test_clock"in a&&a.test_clock),isOutsideRange=(a,b,c,d)=>d?a.isBefore(e.a.unix(c).startOf(b))||a.isAfter(e.a.unix(d).endOf(b)):a.isBefore(e.a.unix(c).startOf(b))},"3KPn":function(a,b,c){"use strict";var d=c("0qsp"),e=c("bHWS"),f=c("HyUj"),g=c("wO8l"),h=c("z/jA"),i=c("YDvS"),j=c("TMhk"),k=c("Vavk"),l=c("K+RN"),m=c("jxW/"),n=c("fisF"),o=c("WQQD"),p=c("zxZq"),q=c("Ib3m");const r=Object(k.a)({heading:{id:"reviseInvoiceControllerModal.heading",defaultMessage:"Existing draft available"},body:{id:"reviseInvoiceControllerModal.body",defaultMessage:"Previous unfinalized changes were saved to a draft. Would you like to resume editing this draft or create a new one?"},newDraft:{id:"reviseInvoiceControllerModal.newDraft",defaultMessage:"New draft"},continueEditing:{id:"reviseInvoiceControllerModal.continueEditing",defaultMessage:"Continue editing"},createError:{id:"reviseInvoiceControllerModal.createError",defaultMessage:"Unable to create revision."}}),ReviseInvoiceControllerModal=a=>{var b,c;let{invoice:k,reviseInvoice:s}=a;const[t,u]=Object(p.a)(),[v,w]=d.useState(!1),[x,y]=d.useState(null),[z,A]=d.useState(!1),[B]=Object(m.a)(),{data:C,loading:D}=Object(o.a)({variables:{input:{invoice:k.id}}}),E=null==C?void 0:null===(b=C.list)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.find(a=>"draft"===a.status),handleContinueClick=()=>{if(E){var a;u(Object(q.a)({name:"INVOICES_EDIT_DETAIL",params:{id:E.id},searchSafe:{secret:null!==(a=E.secret)&& void 0!==a?a:void 0}}))}},handleNewClick=async()=>{w(!0);try{if(E){var a,b;const c=await B({awaitRefetchQueries:!0,refetchQueries:[o.b],variables:{input:{invoice:E.id}}});null!=c&&null!==(a=c.data)&& void 0!==a&&null!==(b=a.deleteV1InvoicesInvoice)&& void 0!==b&&b.id?await s(k,{skipToastRender:!0}):(w(!1),A(!0))}}catch(d){w(!1),y(d.message),A(!0)}};return d.createElement(j.b,{width:"medium"},d.createElement(j.f,{title:d.createElement(l.a,r.heading)}),d.createElement(j.c,null,z&&d.createElement(h.b,null,d.createElement(i.a,{type:"error"},x||d.createElement(l.a,r.createError))),D?d.createElement(j.g,null):d.createElement(f.default,{padding:20},d.createElement(e.Body,null,d.createElement(l.a,r.body)))),d.createElement(j.e,{end:d.createElement(g.ButtonGroup,null,d.createElement(n.b,{disabled:D||v,label:d.createElement(l.a,r.newDraft),onClick:handleNewClick,pending:v}),d.createElement(n.b,{color:"blue",disabled:D||v,label:d.createElement(l.a,r.continueEditing),onClick:handleContinueClick}))}))};b.a=ReviseInvoiceControllerModal},"3pFq":function(a,b,c){"use strict";var d=c("8iSO");c.d(b,"a",function(){return d.a});var e=c("Rrwn");c.d(b,"b",function(){return e.a}),c.d(b,"l",function(){return e.b});var f=c("4H/W");c.d(b,"c",function(){return f.a});var g=c("1ivO");c.d(b,"d",function(){return g.a});var h=c("80oO");c.d(b,"e",function(){return h.a});var i=c("oUZc");c.d(b,"f",function(){return i.a});var j=c("Sy8Y");c.d(b,"g",function(){return j.a});var k=c("k5Sb");c.d(b,"h",function(){return k.a});var l=c("hHYN");c.d(b,"i",function(){return l.a});var m=c("RfK1");c.d(b,"j",function(){return m.a});var n=c("HN+Q");c.d(b,"k",function(){return n.a});var o=c("XuJF");c.d(b,"m",function(){return o.a});var p=c("qMwa");c.d(b,"n",function(){return p.a})},"4H/W":function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("1YWO"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),hidden:!0,id:"customer-description",label:f.a.columnCustomerDescription}},"4eIA":function(a,b,c){"use strict";c.d(b,"c",function(){return getDefaultPaymentInstrumentForObject}),c.d(b,"j",function(){return getPaymentInstruments}),c.d(b,"b",function(){return getDefaultPaymentInstrument}),c.d(b,"e",function(){return getDefaultPaymentMethodId}),c.d(b,"a",function(){return getApolloDefaultPaymentMethodId}),c.d(b,"o",function(){return shouldUsePaymentMethod}),c.d(b,"i",function(){return getPaymentInstrumentTypeFromCardType}),c.d(b,"h",function(){return getPaymentInstrumentType}),c.d(b,"g",function(){return getPaymentInstrumentRank}),c.d(b,"n",function(){return mergePaymentMethodsAndSources}),c.d(b,"f",function(){return getEnableIncompletePayments}),c.d(b,"d",function(){return getDefaultPaymentInstrumentPayload}),c.d(b,"m",function(){return makeRetrieveBillingPaymentMethodsParams}),c.d(b,"p",function(){return useBillingRetrievePaymentMethodsParams}),c.d(b,"q",function(){return usePaymentMethodsSupportedOnInvoices}),c.d(b,"l",function(){return hasChargeablePaymentMethodsEnabled}),c.d(b,"k",function(){return getPreferredInitialPaymentInstrument});var d=c("9M0T"),e=c.n(d),f=c("szBP"),g=c("31JN"),h=c("oIaF"),i=c("XgKR"),j=c("hsgQ");function extractPaymentMethod(a){return"customer"===a.object?a.invoice_settings&&a.invoice_settings.default_payment_method?a.invoice_settings.default_payment_method:null:"guest_customer"===a.object?a.payment_method?a.payment_method:null:"subscription_schedule"===a.object?a.default_settings&&"default_payment_method"in a.default_settings?a.default_settings.default_payment_method:null:(0,a.default_payment_method)}function extractPaymentMethodApollo(a){var b;if("customer"===a.object){var c,d;return null===(c=a.invoice_settings)|| void 0===c?void 0:null===(d=c.default_payment_method)|| void 0===d?void 0:d.id}return null===(b=a.default_payment_method)|| void 0===b?void 0:b.id}function getDefaultPaymentInstrumentForObject(a){const b=extractPaymentMethod(a);if(b)return b;if("customer"===a.object&&a.default_source){if("object"==typeof a.default_source)return a.default_source;if(a.sources&&a.sources.data)return a.sources.data.find(b=>b.id===a.default_source)}return"subscription_schedule"===a.object&&a.default_settings?"default_source"in a.default_settings?a.default_settings.default_source:null:"subscription"===a.object&&a.default_source?a.default_source:"subscription"===a.object&&a.customer_default_payment_method?a.customer_default_payment_method:"subscription"===a.object&&a.customer_default_source?a.customer_default_source:"string"!=typeof a&&"default_source"in a&&a.default_source||null}function getDefaultPaymentMethodForObject(a){const b=extractPaymentMethod(a);return b&&"object"==typeof b?b:null}const getPaymentInstruments=a=>{let{customer:b,invoice:c,paymentInstruments:d,subscription:f,subscriptionSchedule:g}=a;const h=[];return b&&(b.sources&&Array.isArray(b.sources.data)&&h.push(...b.sources.data),"object"==typeof b.default_source&&null!==b.default_source&&h.push(b.default_source),b.invoice_settings&&"object"==typeof b.invoice_settings.default_payment_method&&null!==b.invoice_settings.default_payment_method&&h.push(b.invoice_settings.default_payment_method)),!f||("object"==typeof f.default_source&&null!==f.default_source&&h.push(f.default_source),"object"==typeof f.default_payment_method&&null!==f.default_payment_method&&h.push(f.default_payment_method),"object"==typeof f.customer_default_payment_method&&null!==f.customer_default_payment_method&&h.push(f.customer_default_payment_method),"object"==typeof f.customer_default_source&&null!==f.customer_default_source&&h.push(f.customer_default_source),b||"object"!=typeof f.customer||null===f.customer||"deleted"in f.customer||h.push(...getPaymentInstruments({customer:f.customer}))),g&&("default_source"in g.default_settings&&g.default_settings.default_source&&"string"!=typeof g.default_settings.default_source&&h.push(g.default_settings.default_source),"default_payment_method"in g.default_settings&&"object"==typeof g.default_settings.default_payment_method&&null!==g.default_settings.default_payment_method&&h.push(g.default_settings.default_payment_method),!b&&"object"==typeof g.customer&&"deleted"in g.customer&&!g.customer.deleted&&h.push(...getPaymentInstruments({customer:g.customer}))),c&&("object"==typeof c.default_source&&null!==c.default_source&&h.push(c.default_source),"object"==typeof c.default_payment_method&&null!==c.default_payment_method&&h.push(c.default_payment_method)),d&&h.push(...d),e()(h,"id")},getDefaultPaymentInstrument=a=>{const{customer:b,invoice:c,subscription:d,subscriptionSchedule:e,phase:f}=a,g=c&&getDefaultPaymentInstrumentForObject(c)||f&&getDefaultPaymentInstrumentForObject(f)||d&&getDefaultPaymentInstrumentForObject(d)||e&&getDefaultPaymentInstrumentForObject(e)||b&&getDefaultPaymentInstrumentForObject(b);if("object"==typeof g)return g;if("string"==typeof g){const h=getPaymentInstruments({customer:b,invoice:c,subscription:d,subscriptionSchedule:e}),i=h.find(a=>a.id===g);if(i)return i}},getDefaultPaymentMethodId=a=>{const{customer:b,invoice:c,subscription:d}=a,e=c&&getDefaultPaymentMethodForObject(c)||d&&getDefaultPaymentMethodForObject(d)||b&&getDefaultPaymentMethodForObject(b);return e&&Object(i.b)(e)},getApolloDefaultPaymentMethodId=a=>{const{customer:b,invoice:c,subscription:d}=a;return c&&extractPaymentMethodApollo(c)||d&&extractPaymentMethodApollo(d)||b&&extractPaymentMethodApollo(b)},convertCustomer=a=>{var b,c,d,e,f;return{object:"customer",sources:{data:null!==(b=null===(c=a.sources)|| void 0===c?void 0:c.data)&& void 0!==b?b:[]},default_source:"object"==typeof a.default_source?a.default_source:null,invoice_settings:{default_payment_method:"string"!=typeof(null===(d=a.invoice_settings)|| void 0===d?void 0:d.default_payment_method)&&null!==(e=a.invoice_settings)&& void 0!==e&&e.default_payment_method?null===(f=a.invoice_settings)|| void 0===f?void 0:f.default_payment_method:null}}},convertSubscription=a=>({object:"subscription",default_source:"object"==typeof a.default_source?a.default_source:null,default_payment_method:"string"!=typeof a.default_payment_method&&a.default_payment_method?a.default_payment_method:null,customer_default_payment_method:"string"!=typeof a.customer_default_payment_method&&a.customer_default_payment_method?a.customer_default_payment_method:null,customer_default_source:"object"==typeof a.customer_default_source?a.customer_default_source:null,customer:"string"==typeof a.customer||"deleted"in a.customer?null:convertCustomer(a.customer)}),shouldUsePaymentMethod=a=>"__typename"in a?!!getApolloDefaultPaymentMethodId({customer:"deleted"in a.customer?void 0:a.customer,subscription:a.subscription,invoice:a}):!!getDefaultPaymentMethodId({customer:"string"==typeof a.customer||"deleted"in a.customer?void 0:convertCustomer(a.customer),subscription:null!=a.subscription&&"string"!=typeof a.subscription?convertSubscription(a.subscription):void 0,invoice:a}),getPaymentInstrumentTypeFromCardType=a=>{switch(a){case"card_source":case"legacy_card":return"hybrid";case"card_payment_method":return"payment_method";default:return Object(f.t)("getPaymentInstrumentTypeFromCardType called with unexpected card type","invoice_payment",{extra:{cardType:a}}),"payment_method"}},getPaymentInstrumentType=a=>"payment_method"===a.object?a.card_type?getPaymentInstrumentTypeFromCardType(a.card_type):"payment_method":"source",getPaymentInstrumentRank=a=>{const{paymentInstrument:b,customer:c,subscription:d,invoice:e}=a;return e&&(e.default_source&&"string"!=typeof e.default_source&&e.default_source.id===b.id||e.default_payment_method&&"string"!=typeof e.default_payment_method&&e.default_payment_method.id===b.id)?0:d&&(d.default_source&&"string"!=typeof d.default_source&&d.default_source.id===b.id||d.default_payment_method&&"string"!=typeof d.default_payment_method&&d.default_payment_method.id===b.id)?1:c&&(c.default_source&&"string"!=typeof c.default_source&&c.default_source.id===b.id||c.invoice_settings&&c.invoice_settings.default_payment_method&&"string"!=typeof c.invoice_settings.default_payment_method&&c.invoice_settings.default_payment_method.id===b.id)?2:1/0},mergePaymentMethodsAndSources=(a,b)=>e()(a.concat(b),"id"),getEnableIncompletePayments=a=>{let{paymentInstrument:b}=a;return null!=b&&"payment_method"===b.object&&("boleto"===b.type||"oxxo"===b.type||"konbini"===b.type)},getDefaultPaymentInstrumentPayload=a=>{let{currentDefaultInstrument:b,customerDefaultInstrument:c,paymentInstrument:d,updateRequest:e}=a;if(!d||d.id===(c&&c.id)&&d.id!==(b&&b.id))return e?{default_payment_method:"",default_source:""}:{};const f={};switch(getPaymentInstrumentType(d)){case"payment_method":f.default_payment_method=d.id,e&&(f.default_source="");break;case"hybrid":case"source":e&&(f.default_payment_method=""),f.default_source=d.id}return f},makeRetrieveBillingPaymentMethodsParams=a=>{var b;return{type:"card",types:(null===(b=a.ajaxLegacyGraphqlPaymentMethodsWithBillingSupport)|| void 0===b?void 0:b.paymentMethodsWithBillingSupport)||[]}},useBillingRetrievePaymentMethodsParams=()=>{const{data:a}=Object(g.a)({fetchPolicy:"cache-first"});return a?makeRetrieveBillingPaymentMethodsParams(a):null},usePaymentMethodsSupportedOnInvoices=()=>{var a;const{data:b,loading:c,error:d}=Object(g.a)({fetchPolicy:"cache-first"});return c||d?h.i:[...new Set([...h.i,...(null==b?void 0:null===(a=b.ajaxLegacyGraphqlPaymentMethodsWithBillingSupport)|| void 0===a?void 0:a.paymentMethodsWithBillingSupport)||[]])]},hasChargeablePaymentMethodsEnabled=(a,b)=>{const c=Object(h.f)(b),d=Object.keys(a).filter(b=>!0===a[b]&&!c.includes(b));return d.length>0},getPreferredInitialPaymentInstrument=a=>{var b;let{defaultPaymentInstrument:c,paymentInstruments:d}=a;return c&&Object(j.c)(c)?c:null!==(b=d.find(j.c))&& void 0!==b?b:null}},"4iQV":function(a,b,c){"use strict";var d=c("0qsp"),e=c("nPYo"),f=c("RU97"),g=c("FfI9"),h=c("lbsd"),i=c("HOsA"),j=c("Ib3m"),k=c("SVa1"),l=c("RVZe"),m=c("aA7Y"),n=c("vyEF"),o=c("afBP"),p=c("U2Da"),q=c("Wfl3"),r=c("ZDF3"),s=c("xhKK");const t={createNewTitle:Object(o.a)({id:"sigma.modal.create_new.title",defaultMessage:"Create a custom report"}),createNewDescription:Object(o.a)({id:"sigma.modal.create_new.description",defaultMessage:"Write a SQL query to analyze your data in Stripe."}),modalHeader:Object(o.a)({id:"sigma.analyze.header.v3",defaultMessage:"Analyze data with AI and SQL"}),modalDescription:Object(o.a)({id:"sigma.analyze.description.v3",defaultMessage:"Use {SigmaLink} to explore your data with AI or custom SQL. Choose a report to start analyzing your {entryPointTitle} data."})},SigmaAnalyzeModal=a=>{let{onClose:b,originId:c,entryPointTitle:o}=a;const u=Object(q.a)(),v=Object(p.a)(),w=Object(r.a)(),{prefill:x,templateOptions:y}=Object(m.kb)(o),z=Object(d.useCallback)(a=>u.action("sigma_analyze_modal_option",{additional_analytics:{modal:o,template_name:a}}),[u,o]),A=Object(d.useCallback)(a=>Object(j.a)({name:"SIGMA_QUERIES_TEMPLATES_DETAIL",params:{title:a},search:{originId:c,autorun:s.w.userSelected}}),[c]);if(!y)throw new Error(`Invalid entry point title: ${o}`);const renderOptions=()=>d.createElement(e.a.div,{css:{stack:"y",gap:"medium",marginTop:"medium",marginBottom:"small"}},y.map(a=>d.createElement(d.Fragment,null,a.title.defaultMessage&&d.createElement(n.a,{href:A(a.template),icon:a.icon,key:a.title.defaultMessage,title:a.title,description:a.description,onPress(){z(a.template)}}))),!w&&d.createElement(n.a,{href:Object(j.a)({name:"SIGMA_QUERIES",search:{prefill:x}}),icon:k.a,title:t.createNewTitle,description:t.createNewDescription,onPress(){z(t.createNewTitle.defaultMessage)}}));return d.createElement(f.a,{onClose:b,size:"large"},d.createElement(e.a.div,{css:{padding:"small"}},d.createElement(e.a.div,{css:{gap:"small",stack:"x"}},d.createElement(e.a.div,{css:{width:"95%"}},d.createElement(e.a.p,{css:{font:"body.large.emphasized"}},v.formatMessage(t.modalHeader)),d.createElement(e.a.p,{css:{font:"body.medium"}},v.formatMessage(t.modalDescription,{SigmaLink:d.createElement(g.a,{css:{display:"inline",stack:"x"},onPress(){u.action("sigma_analyze_modal_sigma_link")},type:"secondary",target:"_blank",rel:"noopener noreferrer",href:"https://stripe.com/sigma"},"Sigma"),entryPointTitle:o}))),d.createElement(h.a,{"data-db-analytics-name":"sigma_analyze_modal_back_button","aria-label":"Close",onPress:b,css:{alignSelfY:"top",marginLeft:"small"}},d.createElement(i.c,{icon:l.a,size:"xsmall"}))),renderOptions()))};b.a=SigmaAnalyzeModal},"5NeE":function(a,b,c){"use strict";c.d(b,"a",function(){return ScheduledFinalizationCellContent});var d=c("0qsp"),e=c("FYRY"),f=c("QoRZ");const formatDate=a=>a&&d.createElement(f.b,{format:"medium-datetime",timestamp:a}),ScheduledFinalizationCellContent=a=>{let{invoice:b}=a;return d.createElement(d.Fragment,null,formatDate(b.automatically_finalizes_at)||d.createElement(e.a,null))}},"5tkv":function(a,b,c){"use strict";c.d(b,"a",function(){return getFileDownloadUrl});var d=c("mZbg");async function getFileDownloadUrl(a){const b=await Object(d.a)({url:a,omitStripeAccountHeader:!0,dataType:"html"}),c=JSON.parse(b);if(c){if(c.file_url)return c.file_url;throw new Error("No file_url property on result")}throw new Error("No result found")}},"5xND":function(a,b,c){"use strict";var d=c("2+7o"),e=c("a5Zs");b.a=Object(e.f)(d.f)},"6WTW":function(a,b,c){"use strict";c.d(b,"b",function(){return i}),c.d(b,"a",function(){return j}),c.d(b,"f",function(){return k}),c.d(b,"e",function(){return formattedAPMStatus}),c.d(b,"d",function(){return formatMissingAPMName});var d=c("TSMA"),e=c("N+AB"),f=c("ofgD"),g=c("EvnM"),h=c("szBP");const i={card:f.a.filterPaymentSourceTypeCard,alipay_account:f.a.filterPaymentSourceTypeAlipay,bank_account:f.a.filterPaymentSourceTypeBank,bitcoin_receiver:f.a.filterPaymentSourceTypeBitcoin,stripe_account:f.a.filterPaymentSourceTypeStripe},j={ach_credit_transfer:e.a.apm_ach_credit_transfer,ach_debit:e.a.apm_ach_debit,acss_debit:e.a.apm_acss_debit,affirm:e.a.apm_affirm,afterpay_clearpay:e.a.apm_afterpay_clearpay,alipay:e.a.apm_alipay,alma:e.a.apm_alma,amazon_pay:e.a.apm_amazon_pay,amex_express_checkout:e.a.apm_amex_express_checkout,android_pay:e.a.apm_google_pay,apple_pay:e.a.apm_apple_pay,au_becs_debit:e.a.apm_au_becs_debit,nz_bank_account:e.a.apm_nz_bank_account,bancontact:e.a.apm_bancontact,bacs_debit:e.a.apm_bacs_debit,bitcoin_source:e.a.apm_bitcoin_source,bitcoin:e.a.apm_bitcoin,blik:e.a.apm_blik,boleto:e.a.apm_boleto,boleto_pilot:e.a.apm_boleto,card_present:e.a.apm_card_present,card:e.a.apm_card,cashapp:e.a.apm_cashapp,crypto:e.a.apm_crypto,customer_balance:e.a.apm_bank_transfer,demo_pay:e.a.apm_demo_pay,dummy_passthrough_card:e.a.apm_dummy_passthrough_card,gbp_credit_transfer:e.a.apm_gbp_credit_transfer,google_pay:e.a.apm_google_pay,eps:e.a.apm_eps,fpx:e.a.apm_fpx,giropay:e.a.apm_giropay,grabpay:e.a.apm_grabpay,ideal:e.a.apm_ideal,id_bank_transfer:e.a.apm_id_bank_transfer,id_credit_transfer:e.a.apm_id_credit_transfer,jp_credit_transfer:e.a.apm_jp_credit_transfer,interac_present:e.a.apm_interact_present,kakao_pay:e.a.apm_kakao_pay,klarna:e.a.apm_klarna,konbini:e.a.apm_konbini,kr_card:e.a.apm_kr_card,kr_market:e.a.apm_kr_market,link:e.a.apm_link,masterpass:e.a.apm_masterpass,mb_way:e.a.apm_mb_way,meta_pay:e.a.apm_meta_pay,multibanco:e.a.apm_multibanco,mobilepay:e.a.apm_mobilepay,naver_pay:e.a.apm_naver_pay,netbanking:e.a.apm_netbanking,ng_bank:e.a.apm_ng_bank,ng_bank_transfer:e.a.apm_ng_bank_transfer,ng_card:e.a.apm_ng_card,ng_market:e.a.apm_ng_market,ng_ussd:e.a.apm_ng_ussd,vipps:e.a.apm_vipps,oxxo:e.a.apm_oxxo,p24:e.a.apm_p24,payto:e.a.apm_payto,pay_by_bank:e.a.apm_pay_by_bank,paper_check:e.a.apm_paper_check,payco:e.a.apm_payco,paynow:e.a.apm_paynow,paypal:e.a.apm_paypal,pix:e.a.apm_pix,promptpay:e.a.apm_promptpay,revolut_pay:e.a.apm_revolut_pay,samsung_pay:e.a.apm_samsung_pay,sepa_credit_transfer:e.a.apm_sepa_credit_transfer,sepa_debit:e.a.apm_sepa_debit,sofort:e.a.apm_sofort,south_korea_market:e.a.apm_south_korea_market,swish:e.a.apm_swish,twint:e.a.apm_twint,three_d_secure:e.a.apm_three_d_secure,three_d_secure_2:e.a.apm_three_d_secure_2,three_d_secure_2_eap:e.a.apm_three_d_secure_2_eap,upi:e.a.apm_upi,us_bank_account:e.a.apm_us_bank_account,visa_checkout:e.a.apm_visa_checkout,wechat:e.a.apm_wechat,wechat_pay:e.a.apm_wechat,zip:e.a.apm_zip},k={canceled:{id:"apms.status_canceled",description:"Status badge for an alternative payment method indicating that it is canceled.",defaultMessage:"Canceled"},chargeable:{id:"apms.status_chargeable",description:"Status badge for an alternative payment method indicating that it is chargeable.",defaultMessage:"Chargeable"},consumed:{id:"apms.status_consumed",description:"Status badge for an alternative payment method indicating that it is consumed.",defaultMessage:"Consumed"},failed:{id:"apms.status_failed",description:"Status badge for an alternative payment method indicating that it is failed.",defaultMessage:"Failed"},pending:{id:"apms.status_pending",description:"Status badge for an alternative payment method indicating that it is pending.",defaultMessage:"Pending"}},formattedAPMStatus=a=>k[a]?k[a]:(Object(h.T)("Tried to format missing APM status","lpm_adoption",{extra:{status:a}}),a),formatMissingAPMName=a=>(Object(h.T)(`Attempted to format an unknown APM type: ${a}`,"lpm_adoption"),Object(d.a)(a)),formattedAPMName=a=>{const b=j[a];return b?Object(g.a)(b):formatMissingAPMName(a)};b.c=formattedAPMName},"6h03":function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Al4q"),h=c("a5Zs");const FooterButtonGroup=a=>f.createElement(h.a,null,b=>{let{footerDirection:c}=b;const d="vertical"===c;return f.createElement(g.default,e()({},a,{alignItems:d?"stretch":"center",direction:c,spacing:d?12:8,style:d?{width:"100%"}:void 0}),d?f.Children.toArray(a.children).reverse():a.children)});b.a=FooterButtonGroup},"73BN":function(a,b,c){"use strict";var d=c("OogH"),e=c.n(d),f=c("4Iso"),g=c.n(f),h=c("xLaQ"),i=c.n(h);const j={includes:g.a,last:e.a},isUnescalatedRetrieval=a=>a.status.startsWith("warning_"),isEscalatedRetrieval=a=>!!a.escalated_at,isArbitrationEligible=(a,b)=>!!(a&&b.arbitration_state&&"arb_needs_response"===b.arbitration_state),isArbitrationEscalated=(a,b)=>{if(!a)return!1;const{arbitration_state:c,arbitration_filing_evidence:d}=b;return"arb_under_review"===c||!!d},isPartialAmount=(a,b)=>!(a.currency===b.currency&&a.amount===b.amount),needsResponse=a=>j.includes(["needs_response","warning_needs_response"],a.status),isUnderReview=a=>j.includes(["under_review","warning_under_review"],a.status),isClosed=a=>j.includes(["won","lost","warning_closed"],a.status),k=90,hasCurrentEvidence=a=>a.evidence_details.submission_count>0&&(!a.escalated_at||j.last(a.evidence_submitted_at)>a.escalated_at),hasLateEvidence=a=>j.last(a.evidence_submitted_at)>a.evidence_details.due_by,submissionsRemaining=(a,b)=>(a.evidence_details.submission_limit||b.session.maxDisputeSubmissions)-a.evidence_details.submission_count,willBeResolvedBy=a=>{if(a.can_finalize_at)return a.can_finalize_at;if(a.estimated_will_close_before)return a.estimated_will_close_before;if(a.evidence_submitted_at){const b=j.last(a.evidence_submitted_at);if(!b)return null;const c=i.a.unix(b).add(k,"days").unix();return c}return null},daysToEstimatedResolvedBy=a=>{const b=a.can_finalize_at||a.estimated_will_close_before;if(!isUnderReview(a)||!b)return 0;const c=i()(),d=i.a.unix(b);return d.diff(c,"days")},daysToRespond=a=>{var b;if(!needsResponse(a)||!(null!==(b=a.evidence_details)&& void 0!==b&&b.due_by))return -1;const c=i()(),d=i.a.unix(a.evidence_details.due_by);return d.diff(c,"days")},daysToRespondArb=a=>{if(!a.arbitration_state||!a.user_arbitration_action_due_by)return -1;const b=i()(),c=i.a.unix(a.user_arbitration_action_due_by);return c.diff(b,"days")},fundsPulledBack=a=>"won"!==a.status&&!isUnescalatedRetrieval(a),originalAmount=a=>{var b;return null!==(b=a.balance_transactions)&& void 0!==b&&b[0]?-1*a.balance_transactions[0].amount:0},finalAmount=a=>-1*(a.balance_transactions||[]).map(a=>a.amount).reduce((a,b)=>a+b,0),originalFee=a=>{var b;return null!==(b=a.balance_transactions)&& void 0!==b&&b[0]?a.balance_transactions[0].fee:0},finalFee=a=>(a.balance_transactions||[]).map(a=>a.fee).reduce((a,b)=>a+b,0),isDisputeProtected=a=>!!(a.covered_by_dispute_protection||a.dispute_protection_result&&a.dispute_protection_result.is_covered),protectedFee=a=>{if(isDisputeProtected(a)){var b;return(null===(b=a.dispute_protection_result)|| void 0===b?void 0:b.protected_dispute_fee_amount)||0}return 0},protectedFeeCurrency=a=>{if(isDisputeProtected(a)){var b;return null===(b=a.dispute_protection_result)|| void 0===b?void 0:b.protected_dispute_fee_currency}},isResponsePastDue=a=>!!needsResponse(a)&&0>daysToRespond(a),decidedByBrand=a=>j.includes(["American Express","Discover","JCB","Diners Club"],a),disputeCurrency=a=>{var b;return null!==(b=a.balance_transactions)&& void 0!==b&&b[0]?a.balance_transactions[0].currency:a.currency};function getVisaCompellingEvidence3PriorPayments(a){var b;const c=(null==a?void 0:null===(b=a.evidence)|| void 0===b?void 0:b.prior_undisputed_payments)||[],d=[...c].filter(a=>"visa_ce3_autowin_qualified"===a.compelling_evidence_qualification);return d}function isVisaCompellingEvidence3AutowinEligible(a){var b;const{chargePaymentMethodDetails:c,dispute:d}=a,e=null==c?void 0:null===(b=c.card)|| void 0===b?void 0:b.brand;if("visa"!==e)return!1;const f=null==d?void 0:d.reason;if("fraudulent"!==f)return!1;const g=null==d?void 0:d.status;if("needs_response"!==g)return!1;const h=getVisaCompellingEvidence3PriorPayments(d);return h.length>=2}function getVisaCompellingEvidence3AutowinIndicators(a){var b;if(!isVisaCompellingEvidence3AutowinEligible(a))return{emailIndicator:!1,shippingAddressIndicator:!1};const{dispute:c}=a,d=null==c?void 0:null===(b=c.evidence)|| void 0===b?void 0:b.customer_email_address,e=getVisaCompellingEvidence3PriorPayments(c),f=e.every(a=>{const b=null==a?void 0:a.email_address;return!!b&&!!d&&a.email_address.trim().toLowerCase()===d.trim().toLowerCase()}),g=!f;return{emailIndicator:f,shippingAddressIndicator:g}}const l={isUnescalatedRetrieval,isEscalatedRetrieval,isArbitrationEligible,isArbitrationEscalated,isPartialAmount,needsResponse,isUnderReview,isClosed,hasCurrentEvidence,hasLateEvidence,submissionsRemaining,willBeResolvedBy,fundsPulledBack,originalAmount,finalAmount,originalFee,finalFee,decidedByBrand,isDisputeProtected,disputeCurrency,daysToEstimatedResolvedBy,daysToRespond,daysToRespondArb,isResponsePastDue,isVisaCompellingEvidence3AutowinEligible,getVisaCompellingEvidence3AutowinIndicators,protectedFee,protectedFeeCurrency};b.a=l},"7EjZ":function(a,b,c){"use strict";c.d(b,"a",function(){return finalizeInvoiceToast}),c.d(b,"b",function(){return genericErrorToast});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("PrTq"),h=c("Vavk"),i=c("K+RN"),j=c("bHWS"),k=c("NBIi");c("QoRZ");const l=Object(h.a)({draftTestInvoiceCreated:{id:"invoices.toasts.draftTestInvoiceCreated",defaultMessage:"Draft test invoice created"},draftInvoiceCreated:{id:"invoices.toasts.draftInvoiceCreated",defaultMessage:"Draft invoice created"},invoiceCreated:{id:"invoices.toasts.invoiceCreated",defaultMessage:"Invoice created"},testInvoiceCreated:{id:"invoices.toasts.testInvoiceCreated",defaultMessage:"Test invoice created"},testInvoiceMultipleEmailed:{id:"invoices.toasts.testInvoiceMultipleEmailed",defaultMessage:"Test invoice sent to {email} and {ccCount} {ccCount, plural, one {other} other {others}}"},testInvoiceEmailed:{id:"invoices.toasts.testInvoiceEmailed",defaultMessage:"Test invoice sent to {email}"},invoiceMultipleEmailed:{id:"invoices.toasts.invoiceMultipleEmailed",defaultMessage:"Invoice sent to {email} and {ccCount} {ccCount, plural, one {other} other {others}}"},invoiceEmailed:{id:"invoices.toasts.invoiceEmailed",defaultMessage:"Invoice sent to {email}"},genericError:{id:"invoices.toasts.genericError",defaultMessage:"Something went wrong."},invoiceScheduled:{id:"invoices.toasts.invoiceScheduled",defaultMessage:"Invoice scheduled for {scheduledFinalizationTime}"}});function finalizeInvoiceToast(a,b,c,d){let h,m="";if(b){if(b){const n=b.length>20?`${b.slice(0,20)}...`:b;h=c&&c>0?f.createElement(i.a,e()({},a?l.invoiceMultipleEmailed:l.testInvoiceMultipleEmailed,{values:{email:f.createElement(j.BodyAlt,{color:"white"},n),ccCount:c}})):f.createElement(i.a,e()({},a?l.invoiceEmailed:l.testInvoiceEmailed,{values:{email:f.createElement(j.BodyAlt,{color:"white"},n)}}))}}else h=f.createElement(i.a,a?l.invoiceCreated:l.testInvoiceCreated),m="invoicing.toast_action.invoice_created.copy_link";return Object(g.d)({id:"FinalizeInvoiceToast",type:"GENERIC_TOAST",data:{message:h,icon:"checkmark",color:"green",action:d?f.createElement(k.a,{analyticsActionName:m,linkUrl:d}):void 0,onActionClick:d?()=>{navigator.clipboard.writeText(d)}:void 0},timeOnScreen:"long"})}function genericErrorToast(){return Object(g.d)({id:"GenericInvoiceErrorToast",type:"GENERIC_TOAST",data:{message:f.createElement(i.a,l.genericError),icon:"cross",color:"red"},timeOnScreen:"long"})}},"7mqa":function(a,b,c){"use strict";c.d(b,"a",function(){return SharedToastStacker});var d=c("TfDI"),e=c.n(d),f=c("0qsp"),g=c("5WME"),h=c("kKD7");const i=[];class SharedToastStacker extends f.Component{constructor(){super(...arguments),e()(this,"state",{isRenderer:!1,toasts:[]}),e()(this,"rendererId",Object(h.a)())}componentDidMount(){i.push(this),1===i.length&&this.setState({isRenderer:!0}),this.props.toast&&i[0].addOrReplace({toast:this.props.toast,rendererId:this.rendererId})}componentDidUpdate(a){if(a.toast===this.props.toast)return;const b=i[0];this.props.toast?b.addOrReplace({toast:this.props.toast,rendererId:this.rendererId}):b.remove(this.rendererId)}componentWillUnmount(){const a=i.findIndex(a=>this.rendererId===a.rendererId);i.splice(a,1),i.length>0&&(this.state.isRenderer?i[0].setIsRenderer(this._removeFromToasts(this.state.toasts,this.rendererId)):i[0].remove(this.rendererId))}addOrReplace(a){this.setState(b=>{let{toasts:c}=b;if(!c)return{toasts:[a]};{const d=c.findIndex(b=>{let{rendererId:c}=b;return c===a.rendererId});let e=c;return{toasts:-1===d?[...c,a]:[...c.slice(0,d),a,...c.slice(d+1)]}}})}remove(a){this.setState(b=>{let{toasts:c}=b;return{toasts:this._removeFromToasts(c,a)}})}_removeFromToasts(a,b){const c=a.findIndex(a=>a.rendererId===b);return c> -1?[...a.slice(0,c),...a.slice(c+1)]:a}setIsRenderer(a){this.setState({isRenderer:!0,toasts:a})}render(){const{isRenderer:a,toasts:b}=this.state;return a&&b&&b.length>0?f.createElement(g.b,null,b.map(a=>{let{toast:b,rendererId:c}=a;return f.createElement(f.Fragment,{key:c},b)})):null}}},"7s0J":function(a,b,c){"use strict";var d=c("1XeG");c.d(b,"b",function(){return d.a});var e=c("tiOu");c.d(b,"d",function(){return e.a});var f=c("D/Vi");c.d(b,"a",function(){return f.a});var g=c("EFkr");c.d(b,"c",function(){return g.a});var h=c("I4JA");c.d(b,"e",function(){return h.a});var i=c("LbLL");c.d(b,"f",function(){return i.a});var j=c("QWDW");c.d(b,"g",function(){return j.a})},"7yp6":function(a,b,c){"use strict";c.d(b,"a",function(){return unsafeStringify});var d=c("WqEb");const e=[];for(let f=0;f<256;++f)e.push((f+256).toString(16).slice(1));function unsafeStringify(a,b=0){return e[a[b+0]]+e[a[b+1]]+e[a[b+2]]+e[a[b+3]]+"-"+e[a[b+4]]+e[a[b+5]]+"-"+e[a[b+6]]+e[a[b+7]]+"-"+e[a[b+8]]+e[a[b+9]]+"-"+e[a[b+10]]+e[a[b+11]]+e[a[b+12]]+e[a[b+13]]+e[a[b+14]]+e[a[b+15]]}},"80oO":function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("oG3U"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"due",label:f.a.columnPaymentDue}},"8iSO":function(a,b,c){"use strict";c.d(b,"a",function(){return f});var d=c("0qsp"),e=c("ARuk");const f={cellContent:a=>null!=a.test_clock&&d.createElement(e.a,{testClock:a.test_clock}),hideHeaderLabel:!0,id:"clock-icon",label:"Fake Timers"}},ARuk:function(a,b,c){"use strict";c.d(b,"a",function(){return ClockIconCellContent});var d=c("0qsp"),e=c("rVfY"),f=c("HOsA"),g=c("n2FO"),h=c("EBmv");function ClockIconCellContent(a){let{testClock:b}=a;const c=d.createElement(f.c,{icon:e.a,size:"xsmall",css:{fill:"action.primary"},"data-testid":"simulation-icon"});return d.createElement(g.a,{trigger:c,type:"description"},d.createElement(h.a,{testClock:b}))}},Ad9t:function(a,b,c){"use strict";c.d(b,"a",function(){return EmptyState});var d=c("0qsp"),e=c("K+RN"),f=c("nPYo"),g=c("FfI9"),h=c("vlpX"),i=c("UoE0"),j=c("09jD");const EmptyState=()=>{const a=Object(j.g)();return d.createElement(f.a.div,{css:{stack:"y",alignX:"center",gap:"small"}},Object(h.b)(Object(i.a)(),!0),d.createElement(g.a,{href:a.site("/docs/billing/invoices/overview")},d.createElement(e.a,h.a.learnMoreLink)))}},Aiv7:function(a,b,c){"use strict";var d=c("0qsp"),e=c("Q9PI"),f=c("+qCB"),g=c("37Gt"),h=c("AgjR");const i=d.memo(a=>{const{bankName:b,className:c,size:i=32,inSource:j=!1,fallbackToDefault:k=!0}=a,l=Object(g.a)(b);if("default"===l&&!k)return null;const m=Object(f.a)(b),n=Object(e.a)(c,{"bs-Source-icon":j});return d.createElement(h.a,{icon:l,size:i,title:m,className:n})});b.a=i},Ao24:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("Al4q"),i=c("b/fh"),j=c("qz1g"),k=c("K+RN"),l=c("Askm");const CustomerBalanceItem=a=>{let{customerBalance:b,width:c,style:d}=a,m=70,n=120;return c&&c>330&&(m=140,n=150),f.createElement(h.default,{direction:"horizontal",spacing:12,style:d},f.createElement(g.default,{style:{width:`${m}px`}},f.createElement(i.default,null,f.createElement(k.a,l.a.cashBalance))),f.createElement(g.default,{style:{width:`${n}px`},flex:{direction:"row-reverse"}},f.createElement(i.default,null,f.createElement(k.a,e()({},l.a.cashBalanceAmountAvailable,{values:{amount:Object(j.c)(b.amount,b.currency,{showCurrency:!0,showSymbol:!0})}})))))};b.a=CustomerBalanceItem},AovY:function(a,b,c){"use strict";c.d(b,"a",function(){return ContentTab});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("XEwC"),i=c("bHWS"),j=c("iHXD"),k=c("FnOx");b.b=h.b;const ContentTab=function(a){const b=Object(j.d)();return b&&"large"===a.size?f.createElement(g.default,{margin:{right:16}},f.createElement(k.a,e()({},a,{flexGrow:!0,size:"small"}),f.createElement(g.default,{padding:{bottom:4}},f.createElement(i.BodyAlt,{color:"inherit"},a.children)))):f.createElement(k.a,a)};ContentTab.defaultProps=k.a.defaultProps},Askm:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("Vavk");const e=Object(d.a)({alipay:{id:"payment_instrument_select.alipay",defaultMessage:"Alipay {username}"},chooseLabel:{id:"payment_instrument_select.chooseLabel",defaultMessage:"Choose a payment method…"},emptyMessage:{id:"payment_instrument_select.emptyMessage",defaultMessage:"No chargeable payment methods found"},cashBalance:{id:"payment_instrument_select.cashBalance",defaultMessage:"Cash Balance"},cashBalanceAmountAvailable:{id:"payment_instrument_select.cashBalanceAmountAvailable",defaultMessage:"{amount} available"}})},At4X:function(a,b,c){"use strict";var d=c("akKQ");const getBankFormalName=a=>a?d.a[a]||a:"";b.a=getBankFormalName},"C+vc":function(a,b,c){"use strict";c.d(b,"a",function(){return g}),c.d(b,"b",function(){return useConsumerUIContext});var d=c("0qsp"),e=c("Wfl3");const f=d.createContext(!1);f.displayName="ConsumerUIContext",f.Consumer;const g=f.Provider,useConsumerUIContext=()=>{const a=Object(e.a)(),b=d.useContext(f);return d.useEffect(()=>{b||a.viewed("ark_consumer_ui_off")},[a,b]),b}},CyVb:function(a,b,c){"use strict";var d=c("0qsp"),e=c("CXEy");const f=["children","className"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function _objectWithoutProperties(a,b){if(null==a)return{};var c=_objectWithoutPropertiesLoose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}const g=d.forwardRef(function(a,b){const{children:c,className:g}=a,h=_objectWithoutProperties(a,f),i=Object(e.a)("Table-row",g);return d.createElement("tr",_extends({ref:b,className:i},h),c)});g.displayName="TableRow",b.a=g},"D/Vi":function(a,b,c){"use strict";c.d(b,"a",function(){return useColumns});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("3pFq"),h=c("3HTY"),i=c("0YUX"),j=c("Zdg3");const k=[],useColumns=function(a){let b=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];const c=a.data&&Object(h.f)(a.data.v1Invoices.data),d=Object(g.m)(),l=Object(g.n)();return e()({primaryColumn:g.i,statusColumn:g.k},Object(i.b)(j.c,j.b,f.useMemo(()=>[g.f,g.h,...b?[g.d]:k,...b?[g.c]:k,g.g,g.e,...c?[g.a]:k,g.b,g.j,...d||k,...l||k],[b,c,d,l])))}},DQ8M:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("+ET8");const e={global:Object(d.a)({"*":a=>`${a}`}).global}},DaCB:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("R2uK"),j=c("TB5T"),k=c("U/5g"),l=c("HyUj"),m=c("KMTT");const n=["children","collapsed","color","icon","iconPosition","align","className","tooltipContents","tooltipProps"],BadgeCell=a=>{const{children:b,collapsed:c,color:d,icon:f,iconPosition:o,align:p,className:q,tooltipContents:r,tooltipProps:s}=a,t=g()(a,n),u=h.createElement(k.default,{icon:f,iconPosition:o||"right",color:d,label:b,collapsed:c}),v=r?h.createElement(m.TooltipContainer,e()({},s,{context:u,tooltipContents:r})):u;return h.createElement(i.a,e()({},t,{className:q,align:p}),h.createElement(l.default,{flex:{alignItems:"center"},style:{minHeight:"20px"}},h.createElement(j.a,{reference:t.style},v)))};BadgeCell.defaultProps={color:"gray",align:"left"},b.a=h.memo(BadgeCell)},E34A:function(a,b,c){"use strict";var d=c("0qsp"),e=c("CXEy");class TableBody extends d.Component{render(){const{className:a,children:b,"data-testid":c}=this.props,f=Object(e.a)("Table-body",a);return d.createElement("tbody",{className:f,"data-testid":c},b)}}b.a=TableBody},EBmv:function(a,b,c){"use strict";c.d(b,"a",function(){return TestClockIconTooltipContent});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("01k4"),h=c("nPYo"),i=c("09jD"),j=c("QoRZ"),k=c("Vavk"),l=c("K+RN"),m=c("c2RQ"),n=c("NCOC");const o=Object(k.a)({content:{id:"billing.components.test_clock_icon.content",defaultMessage:"The associated test clock has a simulated time of {date}."},contentForDeletedTestClock:{id:"billing.components.test_clock_icon.contentForDeletedTestClock",defaultMessage:"The associated test clock has been deleted."},contentForFallback:{id:"billing.components.test_clock_icon.contentForFallback",defaultMessage:"This item has an associated test clock."}});function TestClockIconTooltipContent(a){var b;let{testClock:c}=a;const d="object"==typeof c?c.id:c,k="object"==typeof c?c.frozen_time:null,p=Object(i.x)(),{data:q,loading:r,error:s}=Object(m.a)({variables:{testClockId:d},skip:!!k});if(r)return f.createElement(g.a,{size:"small"});if(!r&&s){var t;const{code:u}=Object(n.a)(null===(t=s.graphQLErrors)|| void 0===t?void 0:t[0]);return f.createElement(h.a.p,null,f.createElement(l.a,"resource_missing"===u?o.contentForDeletedTestClock:o.contentForFallback))}const v=null!=k?k:null==q?void 0:null===(b=q.v1TestHelpersTestClocksTestClock)|| void 0===b?void 0:b.frozen_time;return f.createElement(h.a.p,null,v?f.createElement(l.a,e()({},o.content,{values:{date:f.createElement(h.a.strong,null,f.createElement(j.b,{format:"long-date",timestamp:v,timezone:p.timezone}))}})):f.createElement(l.a,o.contentForFallback))}},EFkr:function(a,b,c){"use strict";c.d(b,"a",function(){return useFiltersAndActions});var d=c("0qsp"),e=c("I/MV"),f=c("OeZM"),g=c("lYU8"),h=c("09jD"),i=c("JGPK"),j=c("TYMe");const useFiltersAndActions=()=>{var a,b;const c=Object(h.a)(),k=!!(null!==(a=Object(g.a)().data)&& void 0!==a&&null!==(b=a.v1AccountsAccount)&& void 0!==b&&b.invoice_settings.allow_scheduled_payments),l=Object(e.a)(["billing_prebilling_subscription_api","invoice_refund_and_dispute_status_filters"]),m=d.useMemo(()=>{const a=["total","status","due_date","created","scheduled_finalization"];k&&a.push("scheduled_payment"),l&&a.push("scheduled_finalization");const b=c;return{suggestedFilters:a,analyticsService:b}},[c,l,k]),n=d.useMemo(()=>({scheduledPaymentsAreEnabled:k}),[k]),o=d.useMemo(()=>Object(f.a)(l,n),[l,n]),p=d.useMemo(()=>{const a=[d.createElement(i.a,{key:"export",object:"invoice",initializeFilters:o,sentryProject:"invoices"}),d.createElement(j.a,{key:"sigma",originId:"invoices_list",entryPointTitle:"Invoices"})];return a},[o]);return{actions:p,filters:m,initializeFilters:o}}},EZbU:function(a,b,c){"use strict";var d=c("0qsp"),e=c("CXEy");const f=["align","children","className","colSpan","minWidth","maxWidth","rowSpan","style","vAlign","width","wrap"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ownKeys(Object(c),!0).forEach(function(b){_defineProperty(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function _defineProperty(a,b,c){return(b=_toPropertyKey(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==typeof b?b:String(b)}function _toPrimitive(a,b){if("object"!=typeof a||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}function _objectWithoutProperties(a,b){if(null==a)return{};var c=_objectWithoutPropertiesLoose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}class TableCell extends d.Component{render(){const a=this.props,{align:b,children:c,className:g,colSpan:h,minWidth:i=null,maxWidth:j=null,rowSpan:k,style:l={},vAlign:m,width:n,wrap:o}=a,p=_objectWithoutProperties(a,f),q=Object(e.a)("Table-cell",{"Table-cell--align--center":"center"===b,"Table-cell--align--left":"left"===b,"Table-cell--align--right":"right"===b,"Table-cell--maxWidth--auto":"auto"===j,"Table-cell--maxWidth--maximized":"maximized"===j,"Table-cell--maxWidth--minimized":"minimized"===j,"Table-cell--minWidth--auto":"auto"===i,"Table-cell--minWidth--maximized":"maximized"===i,"Table-cell--minWidth--minimized":"minimized"===i,"Table-cell--verticalAlign--bottom":"bottom"===m,"Table-cell--verticalAlign--middle":"middle"===m,"Table-cell--verticalAlign--top":"top"===m,"Table-cell--width--auto":"auto"===n,"Table-cell--width--maximized":"maximized"===n,"Table-cell--width--minimized":"minimized"===n,"Table-cell--wrap--noWrap":!1===o,"Table-cell--wrap--wrap":!0===o},g);let r={};return"number"==typeof n&&(r={maxWidth:`${n}px`,minWidth:`${n}px`,width:`${n}px`}),"number"==typeof j&&(r.maxWidth=`${j}px`),"number"==typeof i&&(r.minWidth=`${i}px`),d.createElement("td",_extends({},p,{className:q,colSpan:h,rowSpan:k,style:_objectSpread(_objectSpread({},l),r)}),c)}}TableCell.defaultProps={align:"left",vAlign:"top",width:"auto",wrap:!0},b.a=TableCell},Ebse:function(a,b,c){"use strict";c.d(b,"a",function(){return useRetrieveReceiptEmailLinkLazyQuery});var d=c("bPOr"),e=c("81gb");const f=d.a`
            query RetrieveReceiptEmailLinkQuery($input:OpenapiGetAjaxEmailsGetCustomerReceiptLinkInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"31eed059e0"){ajaxEmailsGetCustomerReceiptLink(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["last_sent_time" "path" "url"]fragments:[]nodeLookupMap:[{nodes:["last_sent_time" "path" "url"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiReceiptEmailLink" method:"GET" pathBuilder:$pathBuilder runtimePath:"/ajax/emails/get_customer_receipt_link" queryName:"ajaxEmailsGetCustomerReceiptLink"){last_sent_time path url}}
          `,g=f,h={expectedErrors:["unexpected_api_error"]};function useRetrieveReceiptEmailLinkLazyQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(e.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},EgBn:function(a,b,c){"use strict";c.d(b,"a",function(){return InvoiceMetadataCellContent});var d=c("0qsp"),e=c("FYRY");const InvoiceMetadataCellContent=a=>{var b,c;let{invoice:f,metadataField:g}=a;return null!==(b=f.metadata)&& void 0!==b&&b[g]?d.createElement(d.Fragment,null,null===(c=f.metadata)|| void 0===c?void 0:c[g]):d.createElement(e.a,null)}},Egrs:function(a,b,c){"use strict";var d=c("At0j"),e=c("a5Zs");b.a=Object(e.f)(d.d)},EvnM:function(a,b,c){"use strict";c.d(b,"a",function(){return deprecatedFormatMessage});var d=c("e48S");const deprecatedFormatMessage=(a,b)=>{if(!a||!a.id)throw new Error("Cannot send deprecatedFormatMessage an empty `definedMessage` object. Please check to make sure you are using the correct key and have access to the @messages object.");return d.c.formatMessage(a,b)}},EzAa:function(a,b,c){"use strict";c.d(b,"a",function(){return d}),c.d(b,"d",function(){return getPreviousURLParams}),c.d(b,"b",function(){return getNextURLParams}),c.d(b,"c",function(){return getPageNumber});const d=20,getPreviousURLParams=function(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;const b=a-d;return b> -1?{offset:`${b}`}:null},getNextURLParams=function(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:0;const c=a+d;return b>c?{offset:`${c}`}:null},getPageNumber=function(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;const b=Math.max(a,1);return b<d?1:1+Math.floor(b/d)}},F5St:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("Q9PI"),i=c("0qsp"),j=c("W4i2"),k=c("a5Zs"),l=c("Y0ZD");const m=["className"],ContentBlock=a=>{let{className:b}=a,c=g()(a,m);const d=Object(l.b)(),{background:f}=i.useContext(k.e),n=d?{divider:!1}:{};return i.createElement(j.a,e()({background:f,className:Object(h.a)(b,d&&"db-ConsumerUIContentBlock")||void 0},n,c))};b.a=ContentBlock},FE9U:function(a,b,c){"use strict";c.d(b,"h",function(){return getCustomerID}),c.d(b,"k",function(){return getFrozenCustomerFromInvoice}),c.d(b,"e",function(){return formatCustomerName}),c.d(b,"d",function(){return formatCustomerDisplayFromSubscription}),c.d(b,"c",function(){return formatCustomerDisplay}),c.d(b,"f",function(){return formatGuestCustomerDisplay}),c.d(b,"a",function(){return contactDetailsFromCustomer}),c.d(b,"g",function(){return formatShortCustomerDisplay}),c.d(b,"i",function(){return getCustomerIdentifier}),c.d(b,"m",function(){return primitivesFromSubscription}),c.d(b,"l",function(){return primitivesFromCustomer}),c.d(b,"b",function(){return customerIdentifierFromPrimitives}),c.d(b,"j",function(){return getCustomerTimezone});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Vavk"),h=c("K+RN");const i=Object(g.a)({customerDisplay:{id:"formatCustomer.customerDisplay",defaultMessage:"{name} — {id}"},unnamedGuest:{id:"formatCustomer.unnamedGuest",defaultMessage:"Unnamed guest"}}),getCustomerID=a=>a?"string"==typeof a?a:a.id||"":"",getFrozenCustomerFromInvoice=a=>{let b=null;return a.customer&&(b="object"==typeof a.customer?a.customer.id:a.customer),{id:b,email:a.customer_email,name:a.customer_name,description:a.customer_description,address:a.customer_address,phone:a.customer_phone,shipping:a.customer_shipping||a.customer&&"object"==typeof a.customer&&a.customer.shipping||void 0,tax_exempt:a.customer_tax_exempt}},formatCustomerName=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(!a.deleted){if("guest_customer"===a.object&&a.contact)return a.contact.name;var c;return a.name||"string"==typeof(null===(c=a.shipping)|| void 0===c?void 0:c.name)&&a.shipping.name||(b?null:a.description)}},formatCustomerNameFromSubscription=a=>a.customer_name||a.customer_shipping_name||a.customer_description,formatCustomerDisplayFromSubscription=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];const c=b?formatCustomerNameFromSubscription(a)||a.customer_email:a.customer_email||formatCustomerNameFromSubscription(a);return c?f.createElement(h.a,e()({},i.customerDisplay,{values:{name:c,id:getCustomerID(a.customer)}})):getCustomerID(a.customer)},formatCustomerDisplay=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];if(a.deleted)return a.id;const c=b?formatCustomerName(a)||a.email:a.email||formatCustomerName(a);return c?f.createElement(h.a,e()({},i.customerDisplay,{values:{name:c,id:a.id}})):a.id||""},formatGuestCustomerDisplay=a=>{const b=a.contact.email||a.contact.name;return b||f.createElement(h.a,i.unnamedGuest)},contactDetailsFromCustomer=a=>{const{name:b,email:c}="guest_customer"===a.object?a.contact:a;return{name:b,email:c}},formatShortCustomerDisplay=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return a.deleted?a.id:b?formatCustomerName(a)||a.email||a.id||"":a.email||formatCustomerName(a)||a.id||""},getCustomerIdentifier=(a,b)=>a?"string"==typeof a?a:formatShortCustomerDisplay(a,b):"",primitivesFromSubscription=a=>({deleted:!1,description:a.customer_description,email:a.customer_email,id:"string"==typeof a.customer?a.customer:a.customer.id,name:a.customer_name,shippingName:a.customer_shipping_name}),primitivesFromCustomer=a=>a?"string"==typeof a?{id:a}:"deleted"in a?{id:a.id,deleted:!0}:{deleted:!1,description:a.description,email:a.email,id:a.id,name:a.name,shippingName:a.shipping?a.shipping.name:""}:{id:void 0},customerIdentifierFromPrimitives=a=>{const{deleted:b,description:c,email:d,id:e,name:f,shippingName:g}=a;return e?b?e:d||f||g||c||e:""},getCustomerTimezone=a=>a&&"object"==typeof a&&!a.deleted?a.timezone:null},FYRY:function(a,b,c){"use strict";c.d(b,"a",function(){return PlaceholderCell});var d=c("0qsp"),e=c("nPYo");const PlaceholderCell=()=>d.createElement(e.a.span,{css:{textColor:"subdued"}},"—")},GHBg:function(a,b,c){"use strict";c.d(b,"b",function(){return useRetrieveLinkPaymentMethodDetailsWithPaymentMethod}),c.d(b,"a",function(){return processPaymentMethods});var d=c("8OBj"),e=c.n(d),f=c("cnxD"),g=c("2phA"),h=c("8pk8"),i=c("09jD");const useRetrieveLinkPaymentMethodDetailsWithPaymentMethod=a=>{var b;let{paymentMethod:c}=a;const d=Object(f.b)(g.a,{componentName:"FormattedInstrument",owner:"dashboard_foundation",serviceName:"retrieveLinkPaymentMethodDetails"}),e=Object(h.a)("expose_link_payment_method_payment_details")&&c===Object(c)&&"type"in c&&("link"===c.type||"card"===c.type&&(null===(b=c.card)|| void 0===b?void 0:b.brand)==="link");if(Object(i.y)(()=>{e&&d.action({payment_method_or_card:c.id},{ifLoading:"override"})}),e){if(d.isLoading||d.isErrored)return null;if(d.isCompleted){var j,k,l,m;const n=d.value;return{card:{last4:(null===(j=n.card)|| void 0===j?void 0:j.last4)||null,brand:(null===(k=n.card)|| void 0===k?void 0:k.brand)||null},bank_account:{last4:(null===(l=n.bank_account)|| void 0===l?void 0:l.last4)||null,bank_name:(null===(m=n.bank_account)|| void 0===m?void 0:m.bank_name)||null},type:n.type}}}return null},processPaymentMethods=a=>{var b,c,d,f,g,h,i,j,k;const l=null==a?void 0:null===(b=a.data)|| void 0===b?void 0:b.paymentMethods,m=(null==l?void 0:l.data.filter(a=>{var b;return"card"===a.type&&(null===(b=a.card)|| void 0===b?void 0:b.brand)!=="link"}))||[],n=(null==l?void 0:l.data.filter(a=>"sepa_debit"===a.type))||[],o=(null==l?void 0:l.data.filter(a=>"bacs_debit"===a.type))||[],p=(null==l?void 0:l.data.filter(a=>"au_becs_debit"===a.type))||[],q=(null==l?void 0:l.data.filter(a=>"id_bank_transfer"===a.type))||[],r=(null==l?void 0:l.data.filter(a=>"paypal"===a.type))||[],s=(null==l?void 0:l.data.filter(a=>"revolut_pay"===a.type))||[],t=(null==l?void 0:l.data.filter(a=>"demo_pay"===a.type))||[],u=(null==l?void 0:l.data.filter(a=>"amazon_pay"===a.type))||[],v=(null==l?void 0:l.data.filter(a=>"kr_market"===a.type))||[],w=(null==l?void 0:l.data.filter(a=>"kr_card"===a.type))||[],x=(null==l?void 0:l.data.filter(a=>"kakao_pay"===a.type))||[],y=(null==l?void 0:l.data.filter(a=>"naver_pay"===a.type))||[],z=(null==l?void 0:l.data.filter(a=>"payco"===a.type))||[],A=(null==l?void 0:l.data.filter(a=>"samsung_pay"===a.type))||[],B=(null==l?void 0:l.data.filter(a=>"ng_market"===a.type))||[],C=(null==l?void 0:l.data.filter(a=>"ng_bank"===a.type))||[],D=(null==l?void 0:l.data.filter(a=>"ng_bank_transfer"===a.type))||[],E=(null==l?void 0:l.data.filter(a=>"ng_card"===a.type))||[],F=(null==l?void 0:l.data.filter(a=>"ng_ussd"===a.type))||[],G=(null==l?void 0:l.data.filter(a=>"boleto"===a.type))||[],H=(null==l?void 0:l.data.filter(a=>{var b;return"link"===a.type||"card"===a.type&&(null===(b=a.card)|| void 0===b?void 0:b.brand)==="link"}))||[],I=(null==l?void 0:l.data.filter(a=>"nz_bank_account"===a.type))||[],J=(null==l?void 0:l.data.filter(a=>"afterpay_clearpay"===a.type))||[],K=(null==l?void 0:l.data.filter(a=>"cashapp"===a.type))||[],L=(null==l?void 0:l.data.filter(a=>"upi"===a.type))||[],M=(null==l?void 0:l.data.filter(a=>"klarna"===a.type))||[],N=(null==l?void 0:l.data.filter(a=>"alipay"===a.type))||[],O=(null==l?void 0:l.data.filter(a=>"custom"===a.type))||[],P=(null==l?void 0:l.data.filter(a=>"stripe_balance"===a.type))||[],Q=(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.sourcesWithoutCardsOrBankAccounts)|| void 0===d?void 0:d.data.map(a=>e()(e()({},a),{},{object:"source"})))||[],R=a.banks.isCompleted?a.banks.value.data:[];return{allCards:m,sources:Q,sepaDebitPaymentMethods:n,bacsDebitPaymentMethods:o,auBecsDebitPaymentMethods:p,idBankTransferPaymentMethods:q,payPalPaymentMethods:r,revolutPayPaymentMethods:s,demoPayPaymentMethods:t,amazonPayPaymentMethods:u,krMarketPaymentMethods:v,krCardPaymentMethods:w,kakaoPayPaymentMethods:x,naverPayPaymentMethods:y,paycoPaymentMethods:z,samsungPayPaymentMethods:A,ngMarketPaymentMethods:B,ngBankPaymentMethods:C,ngBankTransferPaymentMethods:D,ngCardPaymentMethods:E,ngUssdPaymentMethods:F,boletoPaymentMethods:G,linkPaymentMethods:H,nzBankTransferPaymentMethods:I,afterpayClearpayPaymentMethods:J,cashappPaymentMethods:K,upiPaymentMethods:L,klarnaPaymentMethods:M,alipayPaymentMethods:N,customPaymentMethods:O,stripeBalancePaymentMethods:P,hasNoPaymentMethods:!(null!=m&&m.length)&&!(null!=R&&R.length)&&!(null!=Q&&Q.length)&&!(null!=n&&n.length)&&!(null!=o&&o.length)&&!(null!=p&&p.length)&&!(null!=a&&null!==(f=a.data)&& void 0!==f&&null!==(g=f.acssDebitPaymentMethods)&& void 0!==g&&null!==(h=g.data)&& void 0!==h&&h.length)&&!(null!=a&&null!==(i=a.data)&& void 0!==i&&null!==(j=i.usBankAccountPaymentMethods)&& void 0!==j&&null!==(k=j.data)&& void 0!==k&&k.length)&&!(null!=q&&q.length)&&!a.hasCashAvailable&&!(null!=r&&r.length)&&!(null!=s&&s.length)&&!(null!=u&&u.length)&&!(null!=t&&t.length)&&!(null!=v&&v.length)&&!(null!=w&&w.length)&&!(null!=x&&x.length)&&!(null!=y&&y.length)&&!(null!=z&&z.length)&&!(null!=A&&A.length)&&!(null!=B&&B.length)&&!(null!=C&&C.length)&&!(null!=D&&D.length)&&!(null!=E&&E.length)&&!(null!=F&&F.length)&&!(null!=G&&G.length)&&!(null!=H&&H.length)&&!(null!=I&&I.length)&&!(null!=J&&J.length)&&!(null!=L&&L.length)&&!(null!=N&&N.length)&&!(null!=K&&K.length)&&!(null!=M&&M.length)&&!(null!=O&&O.length)&&!(null!=P&&P.length)}}},Gj37:function(a,b,c){"use strict";c.d(b,"a",function(){return useDetermineInvoicesError});var d=c("xGRT"),e=c("4Qii");const useDetermineInvoicesError=(a,b)=>{const{formatMessage:c}=Object(d.a)(),{error:f}=a,g=null==f?void 0:f.graphQLErrors[0],h=(null==g?void 0:g.code)==="resource_missing"&&(null==g?void 0:g.param)==="customer";return h?{error:c(e.a.filterCustomerInputError)}:f&&{error:f,refetch:b}||null}},HBQ0:function(a,b,c){"use strict";c.d(b,"b",function(){return g}),c.d(b,"a",function(){return h});var d=c("K/IU");const e={interactions:{}},f=Object(d.a)(e),g=f.useSelector,h=f.setValue},"HN+Q":function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("/6UX"),f=c("XyP4");const g={id:"badge",cellContent:a=>d.createElement(e.a,{invoice:a}),label:f.a.amount,hideHeaderLabel:!0}},I4JA:function(a,b,c){"use strict";c.d(b,"a",function(){return usePagination});var d=c("0qsp"),e=c("Wfl3"),f=c("zxZq"),g=c("vsVm"),h=c("wp8T");const paginationCursorFromItem=a=>a?a.id:"",usePaginationRoutes=(a,b,c)=>{var i;const j=Object(e.a)(),[k]=Object(f.a)(),l=null!==(i=null==a?void 0:a.has_more)&& void 0!==i&&i,[m,n]=[paginationCursorFromItem(null==a?void 0:a.data[a.data.length-1]),paginationCursorFromItem(null==a?void 0:a.data[0])],{nextURLParams:o,previousURLParams:p}=d.useMemo(()=>({nextURLParams:m?Object(h.a)({starting_after:b,ending_before:c},l,m):void 0,previousURLParams:n?Object(h.b)({starting_after:b,ending_before:c},l,n):void 0}),[c,n,l,m,b]);return d.useMemo(()=>({nextRoute:o?Object(g.a)(k,o):null,previousRoute:p?Object(g.a)(k,p):null,handleNext:o?()=>j.action("invoices_list_next_page"):void 0,handlePrevious:p?()=>j.action("invoices_list_previous_page"):void 0}),[j,k,o,p])},usePagination=a=>{var b,c,d;const{input:e}=a.variables||{};return usePaginationRoutes(null===(b=a.data)|| void 0===b?void 0:b.v1Invoices,null!==(c=null==e?void 0:e.starting_after)&& void 0!==c?c:null,null!==(d=null==e?void 0:e.ending_before)&& void 0!==d?d:null)}},JGPK:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("TfDI"),g=c.n(f),h=c("0qsp"),i=c("9hpp"),j=c.n(i),k=c("1EgK"),l=c("K+RN"),m=c("Yj1E"),n=c("8pk8"),o=c("zw7C"),p=c("5j3V"),q=c("7Hnw"),r=c("HOsA"),s=c("kfQY"),t=c("1nIT"),u=c("km5s"),v=c("m3Ws"),w=c("FLYH"),x=c("ZN2h");const ModalWrapper=a=>{let{modalOpen:b,onClose:c,children:d}=a;const e=Object(n.a)("enable_export_modal_sail_date_picker");return e?h.createElement(o.a,null,b?d:null):h.createElement(s.a,{shown:b,onWashClick:c,onEscape:c},d)};class ExportModalButton extends h.PureComponent{constructor(){super(...arguments),g()(this,"state",{modalOpen:!1,exportData:null}),g()(this,"handleOpen",()=>{this.props.skipStraightToExportUseDefaults?this.handleSubmit({}):(this.props.onOpen&&this.props.onOpen(),this.setState({modalOpen:!0}))}),g()(this,"handleClose",()=>this.setState({modalOpen:!1})),g()(this,"handleSubmit",a=>{const{object:b}=this.props,c=Object(u.g)(b);this.setState({exportData:e()({export_name:c},a)})}),g()(this,"canRenderButton",()=>this.props.globals.hasPermission(w.a.manage_export))}render(){const{additionalArgs:a,globals:b,disabled:d,estimatedCount:f,intl:g,initializeFilters:i,object:k,buttonMessage:m,searchExport:n,exportFieldFilterFn:o,exportFieldsToHide:s,onDismiss:v,render:w,ignoreQueryString:y,sentryProject:z="dashboard_foundation",description:A}=this.props,{search:B}=b.routing.location;let C=null;i&&(C=i({queryString:j.a.parse(B,{ignoreQueryPrefix:!0}),globals:b,intl:g}));const D=k in u.a;if(!this.canRenderButton()||!D)return null;{let E=null;return E=this.state.exportData?h.createElement(t.a,{childName:"modals_ExportStatusContainer",fetchNamespace:()=>Promise.all([c.e("vendors~dashboard~modals"),c.e("emerald-statement-list-new~modals"),c.e("modals")]).then(c.bind(null,"27fE")),importPath:"src/platform/modals/ExportStatusContainer",owner:"dashboard_foundation",childProps:{shown:!0,exportData:this.state.exportData,createExport:this.props.createExport,loadExport:this.props.loadExport,deleteExport:this.props.deleteExport,requestExportNotification:this.props.requestExportNotification,downloadExport:this.props.downloadExport,emailEnabled:this.props.emailEnabled,onClose:()=>{this.setState({exportData:null}),this.handleClose(),void 0!==v&&v()},objectName:u.b[k]||"objects"},loadingView:()=>null,generatedBoundaryId:"605285067",generatedCallsiteIdentifier:"components_ExportModalButton#0"}):h.createElement(ModalWrapper,{modalOpen:this.state.modalOpen,onClose:this.handleClose},h.createElement(t.a,{childName:"modals_CreateExportFilterModal",fetchNamespace:()=>Promise.all([c.e("vendors~dashboard~modals"),c.e("emerald-statement-list-new~modals"),c.e("modals")]).then(c.bind(null,"eXDh")),importPath:"src/platform/modals/CreateExportFilterModal",owner:"dashboard_foundation",childProps:e()({activeFilters:Object(u.e)(C),additionalArgs:a,estimatedCount:f,exportObject:k,onCancel:this.handleClose,searchExport:n,onSubmit:this.handleSubmit,exportFieldFilterFn:o,exportFieldsToHide:s,ignoreQueryString:y,sentryProject:z,renderActiveFilters:this.props.renderActiveFilters,description:A},Object(u.h)(C,k)),loadingView:()=>null,generatedBoundaryId:"605285068",generatedCallsiteIdentifier:"components_ExportModalButton#1"})),h.createElement("div",null,w&&"function"==typeof w?w({openModal:this.handleOpen}):h.createElement(q.a,{"data-testid":"export-modal-button",disabled:d,"data-db-analytics-name":"list_views.header.export.filter","data-db-analytics-export-type":this.props.object,onPress:this.handleOpen,type:this.props.buttonType},h.createElement(r.c,{icon:this.props.exportButtonIcon||p.a}),m?h.createElement(l.a,m):h.createElement(l.a,x.a.exportButton)),E)}}}b.a=Object(k.compose)(m.a,v.b)(ExportModalButton)},Jtrw:function(a,b,c){"use strict";var d=c("K+RN"),e=c("0qsp"),f=c("HyUj"),g=c("Al4q"),h=c("bHWS"),i=c("KJUv"),j=c("MKji"),k=c("AgjR"),l=c("IKpl");const CardItem=a=>{let{card:b,style:c,showExpiry:m=!0}=a;const n=b.brand||"",o=Object(l.a)(n,void 0);return e.createElement(g.default,{direction:"horizontal",spacing:12,style:c},e.createElement(f.default,{flex:{alignItems:"center"},style:{height:"100%"}},e.createElement(k.a,{icon:n,size:20})),e.createElement(f.default,{flex:{alignItems:"center"},style:{height:"100%"}},Object(j.b)(n,o)),e.createElement(f.default,{flex:{alignItems:"center"},style:{height:"100%"}},Object(l.h)(b)),m&&e.createElement(f.default,{flex:{alignItems:"center"},style:{height:"100%"}},Object(l.f)(b)),(null==b?void 0:b.creation_source)&&(null==b?void 0:b.creation_source)==="dashboard"&&e.createElement(f.default,{flex:{alignItems:"center"},style:{marginLeft:40,height:"100%"}},e.createElement(h.Text,{color:"gray"},e.createElement(d.a,i.a.manuallyEntered))))};b.a=CardItem},K4WY:function(a,b,c){"use strict";var d=c("Rio9"),e=c("a5Zs");b.a=Object(e.f)(d.default)},KJUv:function(a,b,c){"use strict";const d={manuallyEntered:{id:"manualPayment.cardItemSelect.manuallyEnteredCard",description:"Text used to indicate that card number was previously entered manually into the dashboard",defaultMessage:"Manually entered"}};b.a=d},Ktx2:function(a,b,c){"use strict";c.d(b,"b",function(){return PrimaryCellContent}),c.d(b,"a",function(){return Addon});var d=c("0qsp"),e=c("nPYo"),f=c("2n1E");const PrimaryCellContent=a=>{let{amount:b,currency:c}=a;return d.createElement(f.c,{amount:b,currency:c,parenthesizeNegatives:!0})},Addon=a=>{let{currency:b}=a;return d.createElement(e.a.span,{css:{fontWeight:"regular",textColor:"subdued"}},b.toLocaleUpperCase())}},KxJw:function(a,b,c){"use strict";c.d(b,"b",function(){return J}),c.d(b,"a",function(){return O}),c.d(b,"c",function(){return ActionFiltersWithOverflow});var d=c("QbI9"),e=c.n(d),f=c("8OBj"),g=c.n(f),h=c("9u8d"),i=c.n(h),j=c("0qsp"),k=c("Q9PI"),l=c("BUIJ"),m=c.n(l),n=c("jB6r"),o=c("zw7C"),p=c("hJ0f"),q=c("DQ8M"),r=c("90qB"),s=c("nOHY"),t=c("s0sU"),u=c("zxZq"),v=c("ye9F"),w=c("bbq+"),x=c("nPYo"),y=c("Olvt"),z=c("dJ5Y"),A=c("7Hnw"),B=c("HOsA"),C=c("XEwC"),D=c("0msP"),E=c("P1r8"),F=c("FnOx");const G=["children"],H=["inherits"],I=["tabCount","flexGrow"],J=j.createContext(!0),K=Object(v.c)({name:"ActionFilters",context:!1,element:!0,props:{}}),L={borderRadius:"rounded",position:"relative","::after":{display:"block",content:'""',position:"absolute",inset:"-10px"},[n.a.query("(any-pointer: coarse)")]:{display:"none"}},M=Object(w.createView)(a=>{const{children:b}=a,c=i()(a,G),[d,e]=j.useState(null),f=j.useMemo(()=>({current:d}),[d]),{canScrollLeft:h,canScrollRight:k,scrollRight:l,scrollLeft:m}=Object(E.a)(f);return j.createElement("div",c,j.createElement(x.a.div,{ref:a=>e((null==a?void 0:a.firstElementChild)||null),css:{minWidth:"space.0"},uses:[!!h&&Object(y.b)({"--rs-fade-l":"15%",[n.a.down(z.a.viewport.medium)]:{"--rs-fade-l":"12%"}}),!!k&&Object(y.b)({"--rs-fade-r":"85%",[n.a.down(z.a.viewport.medium)]:{"--rs-fade-r":"88%"}})]},b),j.createElement(o.a,null,h?j.createElement(A.a,{type:"secondary",css:L,"aria-hidden":!0,tabIndex:-1,onClick:m,onPress:m,uses:[p.a.in({opacity:0,duration:250,transform:"translateX(-100%)",easing:"ease-out"}),p.a.out({opacity:0,duration:100,transform:"translateX(-50%)",easing:"ease-out"})]},j.createElement(B.c,{icon:r.a,size:"xsmall"})):null),j.createElement(o.a,null,k?j.createElement(A.a,{type:"secondary","aria-hidden":!0,tabIndex:-1,css:g()(g()({},L),{},{alignSelfX:"end"}),onClick:l,onPress:l,uses:[p.a.in({opacity:0,duration:250,transform:"translateX(100%)",easing:"ease-out"}),p.a.out({opacity:0,duration:100,transform:"translateX(50%)",easing:"ease-out"})]},j.createElement(B.c,{icon:s.a,size:"xsmall"})):null))},{css:{stack:"z",width:"fill",alignY:"center"}}),N=K.createView(a=>{var b;let{inherits:c}=a,d=i()(a,H);const f=null===(b=j.useContext(J))|| void 0===b||b,g=j.createElement(C.b,e()({},d,{ref(a){var b,c;const e=(null===(b=d.className)|| void 0===b?void 0:b.split(" ").filter(Boolean))||[];null==a||null===(c=a.node)|| void 0===c||c.classList.add(...e)}}));return f?j.createElement(M,{css:{marginBottom:"space.150"}},g):g},{css:{width:"calc(100% + 8px)",boxShadow:"none",gapX:"small",overflow:"auto",padding:"xsmall",bleed:"xsmall"},uses:[Object(y.b)({scrollSnapType:"x mandatory",overscrollBehaviorX:"contain",scrollbarWidth:"none","-webkit-overflow-scrolling":"touch","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"},"mask-image":`linear-gradient(
          to right,
          rgba(0, 0, 0, 0%) 0%,
          rgba(0, 0, 0, 100%) var(--rs-fade-l, 0%),
          rgba(0, 0, 0, 100%) var(--rs-fade-r, 100%),
          rgba(0, 0, 0, 0%) 100%
        )`})]}),O=Object(w.createView)(a=>{let{tabCount:b,flexGrow:c}=a,d=i()(a,I);const f=Object(k.a)("ActionFilter",{"ActionFilter--active":d.active});return j.createElement(F.a,e()({},d,{className:f,padding:{all:0}}),d.children,"string"==typeof b&&j.createElement(x.a.div,{css:{height:"space.250",marginTop:"xsmall",fontSize:"16px",fontWeight:"bold"}},""===b?j.createElement(D.a,{height:"20px"}):b))},{css:{backgroundColor:"surface",transition:"box-shadow 0.1s ease-in-out",borderRadius:"medium",boxShadow:"0 0 0 var(--filter-border-width) var(--filter-border-color)",color:"subdued",minWidth:"space.1000"},forward:{active:!0},variants:{active:{true:{css:{color:"action.primary",fontWeight:"semibold"}}}},uses:[Object(y.b)({flex:"1 0 12em",scrollSnapAlign:"start",scrollMargin:"20px",[n.a.down(z.a.viewport.medium)]:{flex:"1 0 auto"},":first-child":{scrollSnapAlign:"center"}}),y.b.global({".ActionFilter .ContentTab-link:focus-visible":{focusRing:"focus",borderRadius:"medium"}}),q.a.global({".ActionFilter":{"--filter-border-width":"1px","--filter-border-color":z.a.color.neutral[100].toString()},".ActionFilter > div, .ActionFilter > div > div":{height:"100%"},".ActionFilter .ContentTab-link":{width:"100%"},".ActionFilter .ContentTab-inner":{padding:"11px",display:"flex",flexDirection:"column"},".ActionFilter .ContentTab-chip":{display:"none"},".ActionFilter:hover":{"--filter-border-color":z.a.color.border.action.primary.toString()},".ActionFilter.ActionFilter--active":{"--filter-border-width":"1.5px","--filter-border-color":z.a.color.border.action.primary.toString()},".ActionFilter span":{textAlign:"inherit",fontWeight:"inherit",color:"inherit"},".ActionFilter .ContentTab-text":{textWrap:"wrap",boxShadow:"none"},[n.a.down(z.a.viewport.large)]:{".ActionFilter .ContentTab-text":{textWrap:"nowrap"}}})]});Object.assign(O,{displayName:"ActionFilter"});const ActionFilterMemoWrapper=a=>{const{active:b,tab:c,href:d,label:e,handleTabClick:f,tabCount:g}=a,h=j.useMemo(()=>null==f?void 0:f(c),[c,f]);return j.createElement(O,{active:b,name:c,href:d,onClick:h,tabCount:g},e)},ActionFiltersWithOverflow=a=>{let{tabsData:b,handleTabClick:c,selectedTab:d}=a;const e=Object(t.a)(),[f]=Object(u.a)(),h=j.useCallback(a=>d?a.id===d:!!a.href&&e(g()(g()({},f),{},{search:m()(f.search,["limit","include","starting_after","ending_before","page_number"])}),a.href),[f,e,d]);return b.length<2?null:j.createElement(N,{"data-testid":"action-filters-with-overflow",size:"medium"},b.map(a=>j.createElement(ActionFilterMemoWrapper,{active:h(a),tab:a.id,href:a.href,label:a.label,handleTabClick:c,key:a.id,tabCount:a.tabCount})))};b.d=N},"LJx+":function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("Q9PI"),g=c("0qsp"),h=c("HyUj"),i=c("VOmC");const CellContent=a=>{const{children:b,route:c,compartmentAccountId:d,renderCompartmentLink:j,boxProps:k,canLink:l,canSort:m,onClick:n,target:o,edgePadding:p}=a,q=Object(f.a)("ListViewItem-cellContent","none"===p&&"ListViewItem-cellContent--noneEdgePadding","small"===p&&"ListViewItem-cellContent--smallEdgePadding","medium"===p&&"ListViewItem-cellContent--mediumEdgePadding","large"===p&&"ListViewItem-cellContent--largeEdgePadding",k?k.className:null),r=k&& void 0!==k.padding?k.padding:8;if(l&&c){if(d&&j){const s=j;return g.createElement(s,{route:c,compartmentAccountId:d,onClick:n},a=>{let{handleClick:c,href:d,forceRefresh:f}=a;return g.createElement(i.b,{className:"ListViewItem-link",href:d,target:o||void 0,forceRefresh:f,onClick:c},g.createElement(h.default,e()({},k,{className:q,padding:r}),b))})}return g.createElement(i.b,{className:"ListViewItem-link",href:c,target:o||void 0,onClick:n},g.createElement(h.default,e()({},k,{className:q,padding:r}),b))}return m?g.createElement("button",{className:"ListViewItem-link ListViewItem-link--sortable",onClick:n,type:"button"},g.createElement(h.default,e()({},k,{className:q,padding:r}),b)):g.createElement(h.default,e()({},k,{className:q,padding:r,onClick:n}),b)};CellContent.defaultProps={canLink:!0,target:"",edgePadding:"large"},b.a=CellContent},LbLL:function(a,b,c){"use strict";c.d(b,"a",function(){return useResultsContent});var d=c("KuwK"),e=c.n(d),f=c("0qsp"),g=c("WcjA"),h=c("Zdg3"),i=c("09jD"),j=c("EzAa");const useChangeType=(a,b)=>{var c;const d=e()(null===(c=Object(i.F)(a))|| void 0===c?void 0:c.variables,a.variables)?b.loading&&"loading"||"none":"filterChanged",g=f.useRef(d);return g.current="none"===d||"none"===g.current?d:g.current,g.current},useCountStatus=(a,b)=>{var c,d,e,g;const h=!b.data&&a.data&&a.data.v1Invoices.data.length<(null!==(c=null===(d=a.variables)|| void 0===d?void 0:null===(e=d.input)|| void 0===e?void 0:e.limit)&& void 0!==c?c:0)?a.data.v1Invoices.data.length:null===(g=b.data)|| void 0===g?void 0:g.v1Invoices.total_count,i="loading"===useChangeType(b,a)?h:a.data&&h,j=!!(b.error||a.error);return f.useMemo(()=>"number"==typeof i?{type:"done",count:i}:j&&{type:"unavailable"}||{type:"loading"},[i,j])},useResultsContent=(a,b)=>{var c;const d=useCountStatus(a,b);return f.useMemo(()=>{var a,c;return f.createElement(g.c,{countStatus:d,currentPage:1,limitedCountBound:h.a,pageSize:j.a,countSpecificity:"number"==typeof(null===(a=b.data)|| void 0===a?void 0:a.v1Invoices.total_count)&&(null===(c=b.data)|| void 0===c?void 0:c.v1Invoices.total_count)<=j.a?"exact":"estimate"})},[null===(c=b.data)|| void 0===c?void 0:c.v1Invoices.total_count,d])}},MEy2:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Vavk"),h=c("jXsh"),i=c("cnxD"),j=c("xi1E");const k=Object(g.a)({header:{id:"draftInvoiceDeleteConfirmationDialog.header",defaultMessage:"Delete draft invoice"},body:{id:"draftInvoiceDeleteConfirmationDialog.body",defaultMessage:"Are you sure you want to permanently delete this draft invoice? This cannot be undone."},confirm:{id:"draftInvoiceDeleteConfirmationDialog.confirm",defaultMessage:"Delete draft"}}),l=Object(h.a)({deleteMessage:k.confirm,heading:k.header,warning:k.body,propLink:a=>({invoice:a.model.id})}),DraftInvoiceDeleteConfirmationDialog=a=>f.createElement(l,e()({},a,{deleteState:Object(i.c)(j.a,{componentName:"DraftInvoiceDeleteConfirmationDialog",owner:"billing_dashboard",serviceName:"deleteState"})}));b.a=DraftInvoiceDeleteConfirmationDialog},MKji:function(a,b,c){"use strict";c.d(b,"a",function(){return g}),c.d(b,"c",function(){return getCardBrandMessage});var d=c("Vavk"),e=c("e48S"),f=c("szBP");const g=Object(d.a)({cardBrand_visa:{id:"card.brand.formatted.visa",defaultMessage:"Visa"},cardBrand_amex:{id:"card.brand.formatted.amex",defaultMessage:"American Express"},cardBrand_american_express:{id:"card.brand.formatted.american_express",defaultMessage:"American Express"},cardBrand_mastercard:{id:"card.brand.formatted.mastercard",defaultMessage:"Mastercard"},cardBrand_carnet:{id:"card.brand.formatted.carnet",defaultMessage:"Carnet"},cardBrand_cartes_bancaires_visa:{id:"card.brand.formatted.cartes_bancaires_visa",defaultMessage:"CB / Visa"},cardBrand_cartes_bancaires_mastercard:{id:"card.brand.formatted.cartes_bancaires_mastercard",defaultMessage:"CB / Mastercard"},cardBrand_discover:{id:"card.brand.formatted.discover",defaultMessage:"Discover"},cardBrand_eftpos_australia:{id:"card.brand.formatted.eftpos_au",defaultMessage:"Eftpos Australia"},cardBrand_eftpos_australia_visa:{id:"card.brand.formatted.eftpos_au_visa",defaultMessage:"Eftpos Australia / Visa"},cardBrand_eftpos_australia_mastercard:{id:"card.brand.formatted.eftpos_au_mastercard",defaultMessage:"Eftpos Australia / Mastercard"},cardBrand_jcb:{id:"card.brand.formatted.jcb",defaultMessage:"JCB"},cardBrand_link:{id:"card.brand.formatted.link",defaultMessage:"Link"},cardBrand_diners:{id:"card.brand.formatted.diners_club_alternate",defaultMessage:"Diners Club"},cardBrand_diners_club:{id:"card.brand.formatted.diners_club",defaultMessage:"Diners Club"},cardBrand_interac:{id:"card.brand.formatted.interac",defaultMessage:"Interac"},cardBrand_unionpay:{id:"card.brand.formatted.unionpay",defaultMessage:"UnionPay"},cardBrand_accel:{id:"card.brand.formatted.accel",defaultMessage:"Accel"},cardBrand_nyce:{id:"card.brand.formatted.nyce",defaultMessage:"NYCE"},cardBrand_pulse:{id:"card.brand.formatted.pulse",defaultMessage:"PULSE"},cardBrand_star:{id:"card.brand.formatted.star",defaultMessage:"STAR"},cardBrand_unknown:{id:"card.brand.formatted.unknown",defaultMessage:"Unknown"},cardBrand_girocard:{id:"card.brand.formatted.girocard",defaultMessage:"Girocard"},cardBrand_girocard_visa:{id:"card.brand.formatted.girocard_visa",defaultMessage:"Girocard / Visa"},cardBrand_girocard_mastercard:{id:"card.brand.formatted.girocard_mastercard",defaultMessage:"Girocard / Mastercard"}}),getCardBrandMessage=a=>{const b=null!=a?a:"Unknown",c=b.toLowerCase().replace(/\s+/g,"_"),d=g[`cardBrand_${c}`];return d||Object(f.T)("Invalid card brand used","payins_dashboard",{extra:{brandKey:b}}),g[`cardBrand_${c}`]||g.cardBrand_unknown},getCardBrandAndNetworkMessage=function(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"Unknown",b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"Unknown";const c=a.toLowerCase().replace(/\s+/g,"_"),d=b.toLowerCase().replace(/\s+/g,"_"),e=`cardBrand_${d}_${c}`,h=g[e];return h||Object(f.T)("Invalid card brand and network combination used","payins_dashboard",{extra:{brandKey:a,networkKey:b,messageKey:e}}),g[e]||g.cardBrand_unknown},formattedCardBrand=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null;const c=null!=a?a:"Unknown";return b&&b!==c&&["Cartes Bancaires","Eftpos Australia","Girocard"].includes(b)?e.c.formatMessage(getCardBrandAndNetworkMessage(c,b)):e.c.formatMessage(getCardBrandMessage(c))};b.b=formattedCardBrand},N18k:function(a,b,c){"use strict";c.d(b,"a",function(){return useEventTracker});var d=c("0qsp"),e=c("Wfl3"),f=c("knyT"),g=c("HBQ0");const getInteractionId=a=>{if(!a)return;const b=Object(f.a)();return`${a}:${b}:${Date.now()}`},useEventTracker=a=>{const b=Object(e.a)(),c=Object(g.b)(b=>a?b.interactions[a]:void 0),f=null==c?getInteractionId(a):void 0;Object(d.useEffect)(()=>{f&&a&&Object(g.a)(b=>{b.interactions[a]=f})},[f,a]);const h=null!=c?c:f,i=Object(d.useCallback)((c,d,e)=>{a&&(b.action(c,{interaction_id:h,experience_name:a,...d}),e&&null!=h&&Object(g.a)(b=>{b.interactions[a]=null}))},[h,a,b]);return{track:i,interactionId:h}}},NBIi:function(a,b,c){"use strict";var d=c("0qsp"),e=c("Vavk"),f=c("K+RN"),g=c("bHWS"),h=c("Wfl3");const{useState:i}=d,j=Object(e.a)({copyLink:{id:"invoices.toasts.copied",defaultMessage:"Copy link"},copied:{id:"invoices.toasts.copyLink",defaultMessage:"Copied"}}),CopyLinkButton=a=>{let{linkUrl:b,analyticsActionName:c}=a;const[e,k]=i(!1),l=Object(h.a)();return d.createElement("button",{type:"button",style:{background:"none",color:"inherit",border:"none",padding:0,font:"inherit",outline:"inherit"},onClick(){navigator.clipboard.writeText(b),k(!0),null!=c&&""!==c&&l.action(c)}},d.createElement(g.BodyAlt,{color:"white"},e?d.createElement(f.a,j.copied):d.createElement(f.a,j.copyLink)))};b.a=CopyLinkButton},NCOC:function(a,b,c){"use strict";c.d(b,"a",function(){return parseGraphQlError});const parseGraphQlError=a=>a?{message:a.message,code:"code"in a?a.code:void 0,messageCode:"message_code"in a?a.message_code:void 0}:{message:"Unknown error"}},NF9v:function(a,b,c){"use strict";var d=c("0qsp"),e=c("CXEy");class TableHead extends d.Component{render(){const{className:a,children:b,"data-testid":c}=this.props,f=Object(e.a)("Table-head",a);return d.createElement("thead",{className:f,"data-testid":c},b)}}b.a=TableHead},NOgj:function(a,b,c){"use strict";var d=c("0qsp"),e=c("TMhk"),f=c("a5Zs");const DialogFooter=a=>{let{direction:b,end:c,reverse:g,start:h}=a;const{footerDirection:i}=d.useContext(f.e),j=b||i;let k="row";return k="vertical"===j?g?"column-reverse":"column":g?"row-reverse":"row",d.createElement(e.e,{direction:k,start:h,end:c})};b.a=DialogFooter},"OG+f":function(a,b,c){"use strict";c.d(b,"a",function(){return useBentoInvoicesTableDuplicateInvoiceMutation});var d=c("GhF0"),e=c("bPOr");const f=e.a`
            mutation BentoInvoicesTableDuplicateInvoiceMutation($input:OpenapiPostAjaxInvoicesDuplicateInvoiceInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"20f995f7f6"){ajaxInvoicesDuplicateInvoice(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["id"]fragments:[]nodeLookupMap:[{nodes:["id"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiInvoice" method:"POST" pathBuilder:$pathBuilder runtimePath:"/ajax/invoices/duplicate_invoice" queryName:"ajaxInvoicesDuplicateInvoice" bodyBuilder:$bodyBuilder){id}}
          `,g=f,h={};function useBentoInvoicesTableDuplicateInvoiceMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},OWtO:function(a,b,c){"use strict";b.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},OeZM:function(a,b,c){"use strict";c.d(b,"a",function(){return initializeInvoicesTableFilters});var d=c("8qL/"),e=c("4Qii");const initializeInvoicesTableFilters=(a,b)=>c=>{var f;let{queryString:g={},globals:h,intl:i}=c;const j=g;let k;a.billing_prebilling_subscription_api&&(k=d.j.fromAPI({name:"prebilled",label:i.formatMessage(e.a.filterPrebilledLabel),value:j.prebilled,options:{true:i.formatMessage(e.a.filterPrebilledYes),false:i.formatMessage(e.a.filterPrebilledNo)}}));let l,m;if(a.invoice_refund_and_dispute_status_filters){const n=j.dispute_statuses;l=d.g.fromAPI({name:"dispute_statuses",label:i.formatMessage(e.a.filterDisputeStatus),fields:{needs_response:i.formatMessage(e.a.filterDisputeStatus_needsResponse),under_review:i.formatMessage(e.a.filterDisputeStatus_underReview),won:i.formatMessage(e.a.filterDisputeStatus_won),lost:i.formatMessage(e.a.filterDisputeStatus_lost)},params:{needs_response:null==n?void 0:n.includes("needs_response").toString(),warning_needs_response:null==n?void 0:n.includes("needs_response").toString(),under_review:null==n?void 0:n.includes("under_review").toString(),warning_under_review:null==n?void 0:n.includes("under_review").toString(),won:null==n?void 0:n.includes("won").toString(),lost:null==n?void 0:n.includes("lost").toString()},mapValueToQueryString:a=>({dispute_statuses:Object.keys(a).filter(b=>!!a[b])}),filterType:"defaultChecked"});const o=j.refund_statuses;m=d.g.fromAPI({name:"refund_statuses",label:i.formatMessage(e.a.filterRefundStatus),fields:{partial:i.formatMessage(e.a.filterRefundStatus_partial),full:i.formatMessage(e.a.filterRefundStatus_full)},params:{full:null==o?void 0:o.includes("full").toString(),partial:null==o?void 0:o.includes("partial").toString()},mapValueToQueryString:a=>({refund_statuses:Object.keys(a).filter(b=>!!a[b])}),filterType:"defaultChecked"})}let p;if(b.scheduledPaymentsAreEnabled){var q;p=d.g.fromAPI({name:"scheduled_payment",label:i.formatMessage(e.a.filterPaymentScheduled),fields:{true:i.formatMessage(e.a.filterPaymentScheduled_yes)},params:{true:null===(q=j.scheduled_payment)|| void 0===q?void 0:q.toString()},mapValueToQueryString:a=>({scheduled_payment:a.true}),filterType:"defaultUnchecked"})}return[d.j.fromAPI({name:"type",label:i.formatMessage(e.a.filterFrequency),value:j.type,options:{subscription:i.formatMessage(e.a.filterFrequency_subscriptionInvoice),manual:i.formatMessage(e.a.filterFrequency_oneOffInvoice)}}),d.j.fromAPI({name:"status",label:i.formatMessage(e.a.filterStatus),value:j.status,options:{draft:i.formatMessage(e.a.filterStatus_draft),open:i.formatMessage(e.a.filterStatus_open),paid:i.formatMessage(e.a.filterStatus_paid),void:i.formatMessage(e.a.filterStatus_void),uncollectible:i.formatMessage(e.a.filterStatus_uncollectible)}}),...[m].filter(Boolean),...[l].filter(Boolean),d.b.fromAPI({name:"created",label:i.formatMessage(e.a.filterDate),value:j.created,merchantTimezone:h.merchant.timezone}),d.b.fromAPI({name:"due_date",label:i.formatMessage(e.a.filterDueDate),value:j.due_date,merchantTimezone:h.merchant.timezone}),d.b.fromAPI({name:"scheduled_finalization",label:i.formatMessage(e.a.filterScheduledFinalization),value:j.scheduled_finalization,merchantTimezone:h.merchant.timezone}),d.b.fromAPI({name:"outstanding_date",label:i.formatMessage(e.a.filterOutstandingDate),value:j.outstanding_date,merchantTimezone:h.merchant.timezone}),d.k.fromAPI({name:"customer",label:i.formatMessage(e.a.filterCustomer),value:j.customer,placeholder:"cus_123"}),d.k.fromAPI({name:"subscription",label:i.formatMessage(e.a.filterSubscription),value:j.subscription,placeholder:"sub_123"}),d.a.fromAPI({name:"total",label:i.formatMessage(e.a.columnAmount),value:j.total,currency:h.merchant.default_currency}),...[p].filter(Boolean),...[k].filter(Boolean),d.j.fromAPI({name:"collection_method",label:i.formatMessage(e.a.filterBilling),value:j.collection_method,options:{charge_automatically:i.formatMessage(e.a.filterBilling_auto),send_invoice:i.formatMessage(e.a.filterBilling_invoice)}}),d.j.fromAPI({name:"attempted",label:i.formatMessage(e.a.filterAttempted),value:j.attempted,options:{true:i.formatMessage(e.a.filterAttempted_attempted),false:i.formatMessage(e.a.filterAttempted_unattempted)}}),d.j.fromAPI({name:"auto_advance",label:i.formatMessage(e.a.filterAutoAdvance),value:j.auto_advance,options:{true:i.formatMessage(e.a.filterAutoAdvance_on),false:i.formatMessage(e.a.filterAutoAdvance_off)}}),d.j.fromAPI({name:["automatic_tax","enabled"],label:i.formatMessage(e.a.filterAutomaticTaxLabel),value:null===(f=j.automatic_tax)|| void 0===f?void 0:f.enabled,options:{true:i.formatMessage(e.a.filterAutomaticTaxValue_enabled),false:i.formatMessage(e.a.filterAutomaticTaxValue_disabled)}})]}},Opdy:function(a,b,c){"use strict";c.d(b,"a",function(){return Downloader});var d=c("0qsp"),e=c("szBP"),f=c("cb9J"),g=c("7mqa");const h=5e3,i=2e3;function Downloader(a){let{children:b}=a;const[c,j]=d.useState("initial"),[k,l]=d.useState(null),m=d.useCallback(()=>{j("initial")},[]),n=d.useRef(c);n.current=c;const o=d.useCallback(async a=>{if("initial"===n.current){l(a);try{let b;const c=a.url;if("function"==typeof c){j("preparing");const d=Date.now();b=await c();const f=Date.now()-d;f<i?setTimeout(m,i-f):m()}else b=a.url;downloadFile(b,a.filename)}catch(g){j("error"),setTimeout(m,h),Object(e.T)("problem getting download url",a.project||"invoices",{extra:{errorMessage:g.message}})}}},[m]);return d.createElement(d.Fragment,null,b({startDownload:o}),d.createElement(g.a,{toast:d.createElement(f.a,{status:c,downloadSpecs:k})}))}function downloadFile(a,b){window.location=a}},P1r8:function(a,b,c){"use strict";c.d(b,"a",function(){return usePosition});var d=c("0qsp"),e=c("iBc3"),f=c.n(e);function getPrevElement(a){const b=a[0].previousElementSibling;if(b instanceof HTMLElement)return b}function getNextElement(a){const b=a[a.length-1].nextElementSibling;if(b instanceof HTMLElement)return b}function usePosition(a){const[b,c]=Object(d.useState)(),[e,g]=Object(d.useState)();Object(d.useEffect)(()=>{const b=a.current;if(!b)return;const d=f()(()=>{const a=b.getBoundingClientRect(),d=Array.from(b.children).filter(b=>{const c=b.getBoundingClientRect();return c.left>=a.left&&c.right<=a.right});d.length>0&&(c(getPrevElement(d)),g(getNextElement(d)))},200);return d(),window.addEventListener("resize",d,{passive:!0}),b.addEventListener("scroll",d,{passive:!0}),b.addEventListener("scrollend",d,{passive:!0}),()=>{window.addEventListener("resize",d),b.removeEventListener("scroll",d),b.removeEventListener("scrollend",d)}});const h=Object(d.useCallback)(b=>{const c=a.current;if(!c||!b)return;const d=b.offsetLeft+b.getBoundingClientRect().width/2-c.getBoundingClientRect().width/2;c.scroll({left:d,behavior:"smooth"})},[a]),i=Object(d.useCallback)(()=>h(e),[h,e]),j=Object(d.useCallback)(()=>h(b),[h,b]);return{canScrollLeft:Boolean(b),canScrollRight:Boolean(e),scrollRight:i,scrollLeft:j}}},PE0L:function(a,b,c){"use strict";var d=c("Vavk");const e=Object(d.a)({actions:{id:"invoices.list_view.item.actions",defaultMessage:"Actions"},connections:{id:"invoices.list_view.item.connections",defaultMessage:"Connections"},actionViewSubscription:{id:"invoices.list_view.item.actionMenu.viewSubscription",defaultMessage:"View subscription"},actionViewCustomer:{id:"invoices.list_view.item.actionMenu.viewCustomer",defaultMessage:"View customer"},actionDeleteDraftInvoice:{id:"invoices.list_view.item.actionMenu.deleteDraft",defaultMessage:"Delete draft invoice"},actionDuplicateInvoice:{id:"invoices.list_view.item.actionMenu.duplicateInvoice",defaultMessage:"Duplicate invoice"},actionRecordPayment:{id:"invoices.list_view.item.actionMenu.recordPayment",defaultMessage:"Record payment"},actionAllocatePayment:{id:"invoices.list_view.item.actionMenu.allocatePayment",defaultMessage:"Allocate payment"},actionDownloadInvoicePDF:{id:"invoices.list_view.item.actionMenu.downloadInvoicePDF",defaultMessage:"Download PDF"},actionEditInvoice:{id:"invoices.list_view.item.actionMenu.editInvoice",defaultMessage:"Edit invoice"},actionEditInvoiceDraft:{id:"invoices.list_view.item.actionMenu.editInvoiceDraft",defaultMessage:"Edit draft"}});b.a=e},PVEn:function(a,b,c){"use strict";c.d(b,"a",function(){return f}),c.d(b,"b",function(){return buildInvoiceTabRoute});var d=c("8OBj"),e=c.n(d);const f={all:{},outstanding:{status:"open"},draft:{status:"draft"},paid:{status:"paid"},pastDue:{past_due:"true"}},buildInvoiceTabRoute=function(a,b){let c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};const d=Object.entries(f[b]).reduce((a,b)=>{let[c,d]=b;return Object.assign(a,{[c]:d})},{}),g=e()(e()({},d),c);return a({name:"INVOICES",search:g})}},QUmj:function(a,b,c){"use strict";var d=c("0qsp"),e=c("aWD3"),f=c("uRmK"),g=c("09jD");const InvoicesListViewTab=a=>{var b;let{route:c,label:h,onClick:i}=a;const j=Object(g.G)(),k=null!==(b=null==c?void 0:c.search)&& void 0!==b?b:{},l=Object.keys(k).length;let m=!1;if(l>0){for(const n of(m=!0,Object.keys(k)))if(!(m=m&&j.get(n)===k[n]))break}else m=0===[...j.keys()].length;return d.createElement(f.a,{route:c},a=>{let{handleClick:b}=a;return d.createElement(e.a,{active:m,flexGrow:!0,onClick(a){i(),b(a)}},h)})};b.a=InvoicesListViewTab},QWDW:function(a,b,c){"use strict";c.d(b,"a",function(){return useRowActions});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("TYwI"),h=c("oeEh"),i=c("Ib3m"),j=c("x1P9"),k=c("OG+f"),l=c("aW18"),m=c("xZW5"),n=c("09jD"),o=c("PrTq"),p=c("s8Xu");const useOnClickDuplocateInvoice=a=>{const b=Object(g.d)(),c=Object(n.H)(),[d,{error:e,data:h}]=Object(k.a)(),j=f.useCallback(function(){return b(Object(o.d)(...arguments))},[b]),m=f.useCallback(function(){return b(Object(o.g)(...arguments))},[b]);return f.useEffect(()=>{e&&Object(l.b)({status:"error",addToast:j,removeToast:m,message:e.message,type:"duplicate"})},[j,b,e,m]),f.useEffect(()=>{null!=h&&h.ajaxInvoicesDuplicateInvoice&&(Object(l.b)({status:"initial",removeToast:m,type:"duplicate"}),c.navigate(Object(i.a)({name:"INVOICES_EDIT_DETAIL",params:{id:h.ajaxInvoicesDuplicateInvoice.id}})))},[null==h?void 0:h.ajaxInvoicesDuplicateInvoice,m,c]),()=>{Object(l.b)({status:"duplicating",addToast:j,type:"duplicate"}),d({variables:{input:{invoice:a.id}}})}},useRowActions=a=>{const{startDownload:b,reviseInvoiceOrEditDraft:c,onClickDeleteDraftInvoice:d}=f.useContext(j.a),{editDraftInvoice:g}=Object(p.a)();return Object(m.a)({canDuplicateOverride:void 0,invoice:a,onClickDuplicateInvoice:useOnClickDuplocateInvoice(a),onClickDeleteDraftInvoice:d(a),reviseInvoiceOrEditDraft:c,editDraftInvoice:g,startDownload:b}).map(a=>({id:a.key,label:a.name,actions:a.contents.filter(a=>{let{showMenuItem:b}=a;return!!b}).map(a=>e()({disabled:a.disabled,"data-test":a["data-test"],id:a.key,label:a.label,"aria-label":a.key,href:a.connection?a.route:void 0,type:a.isDestructive?"destructive":"default",onAction(){var b;a.connection||null===(b=a.onClick)|| void 0===b||b.call(a)}},a.buttonIcon&&!a.disabled&&{quickAction:!0,icon:h[a.buttonIcon]}))}))}},R2uK:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("8OBj"),g=c.n(f),h=c("9u8d"),i=c.n(h),j=c("Q9PI"),k=c("0qsp"),l=c("r2KO"),m=c("szBP"),n=c("LJx+");const o=["children","style","route","target","className","column","wrap","boxProps","width","minWidth","maxWidth","truncate","vAlign","align","order","onClick","onSort","canSort","canLink","edgePadding","compartmentAccountId","renderCompartmentLink"];let p=null;const getCellHeight=()=>{if(null===p){const a=new m.r(window.navigator.userAgent);p="Firefox"===a.getBrowser().name?"100%":"1px"}return p},Cell=a=>{const{children:b,style:c,route:d,target:f,className:h,column:m={},wrap:p,boxProps:q,width:r,minWidth:s,maxWidth:t,truncate:u,vAlign:v,align:w,order:x,onClick:y,onSort:z,canSort:A,canLink:B,edgePadding:C,compartmentAccountId:D,renderCompartmentLink:E}=a,F=i()(a,o),G=a.height||getCellHeight(),handleClick=a=>{if(A){if("function"==typeof z){let b="desc";x&&(b="desc"===x?"asc":null),z(b,a)}}else B||a.stopPropagation();"function"==typeof y&&y(a)},H={align:w||m.align||"left",maxWidth:t||m.maxWidth||void 0,minWidth:s||m.minWidth||void 0,vAlign:v||m.vAlign||"top",width:r||m.width||"minimized"},I=Object(j.a)("ListViewItem-cell",h,{"ListViewItem-cell--truncate":!!u,"ListViewItem-cell--breakWord":p});return k.createElement(l.c,e()({wrap:p,className:I,style:g()({height:G},c)},H,F),k.createElement(n.a,{route:d,boxProps:q,canLink:B,canSort:A,onClick:handleClick,target:f,edgePadding:C,compartmentAccountId:D,renderCompartmentLink:E},b))};Cell.defaultProps={canLink:!0,wrap:!1},b.a=Cell},RfK1:function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("5NeE"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"scheduled-finalization",label:f.a.columnFinalizationScheduled}},Rrwn:function(a,b,c){"use strict";c.d(b,"a",function(){return h}),c.d(b,"b",function(){return useCreatedColumn});var d=c("0qsp"),e=c("/Z1S"),f=c("XyP4"),g=c("xGRT");const h={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"created-short",label:f.a.created};function useCreatedColumn(){const{formatMessage:a}=Object(g.a)();return{cellContent:a=>d.createElement(e.a,{invoice:a}),id:"created-short",label:a(f.a.created)}}},Sxr0:function(a,b,c){"use strict";var d=c("0qsp"),e=c("l6eX"),f=c("bzlK"),g=c("1nIT"),h=c("09jD");function NoticesResult(a){var b,h;let{dismissedNoticeIds:i,handleDismiss:j,types:k}=a;const[l]=Object(e.a)(),m=Object(f.a)({variables:{types:k}}),{error:n,refetch:o}=m;if(n)return null;const p=(null==m?void 0:null===(b=m.data)|| void 0===b?void 0:null===(h=b.ajaxLegacyGraphqlNotices)|| void 0===h?void 0:h.notices)||[],q=p.filter(a=>!i.includes(a.id)).map(a=>{let b;try{b=JSON.parse(a.data)}catch(c){return}const d={type:a.type,data:b,key:a.key};return{id:a.id,input:d}}).filter(Boolean);return d.createElement(d.Fragment,null,!!q.length&&d.createElement(d.Fragment,null,q.map(a=>{let{id:b,input:e}=a;return d.createElement(g.a,{childName:"notices_NoticeRenderer",fetchNamespace:()=>Promise.all([c.e("ydBN-01"),c.e("VrGM-01"),c.e("p_FD-01"),c.e("I-Cx-01"),c.e("notices")]).then(c.bind(null,"rgph")),importPath:"src/discovery/components/NoticeList/NoticeRenderer",owner:"dashboard_discovery",childProps:{id:b,input:e,type:e.type,onDismiss:()=>j(l,b,e.type,o),includeCard:!0},loadingView:()=>null,generatedBoundaryId:"-1202020019",generatedCallsiteIdentifier:"components_NoticeList#0"})})))}const NoticeList=a=>{const{types:b}=a,c=Object(h.a)(),[e,f]=d.useState([]),handleDismiss=(a,b,d,g)=>{c.action(`dashboard.home.notice_list.${d}.dismiss_button`),f(e.concat(b)),a({variables:{noticeId:b}}).then(()=>g())};return d.createElement(NoticesResult,{dismissedNoticeIds:e,handleDismiss:handleDismiss,types:b})};b.a=NoticeList},Sy8Y:function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("U/L8"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),hidden:!0,id:"line-items",label:f.a.columnLineItems}},"T0S/":function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("bHWS"),i=c("uw1c");const j={margin:{top:8},style:{maxWidth:420,lineHeight:"1.5"}},k={divider:{width:1,color:"light",side:"bottom"},padding:{bottom:12}},ConsumerUIHeader=a=>{let{title:b,description:c,descriptionStyle:d={},size:l="large",divider:m=!1}=a,n=i.a,o=16,p;"medium"===l?(n=h.Heading,o=13,p={top:48,bottom:12}):"small"===l&&(n=h.Subheading,o=13,p={top:32,bottom:12});const q=b?f.createElement(n,null,b):null,r=q&&m?f.createElement(g.default,k,q):q,s={margin:e()({},j.margin),style:e()(e()({},j.style),d)};return f.createElement(g.default,{className:"db-ConsumerUIContentHeader",margin:p},r,c&&f.createElement(g.default,s,f.createElement(h.Text,{size:o},c)))};b.a=ConsumerUIHeader},TSMA:function(a,b,c){"use strict";c.d(b,"a",function(){return formatMissingAPMName});const formatMissingAPMName=a=>a.split("_").map(a=>a[0].toUpperCase()+a.substring(1).toLowerCase()).join(" ")},TYMe:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("afBP"),g=c("U2Da"),h=c("7Hnw"),i=c("HOsA"),j=c("UdBX"),k=c("C9fe"),l=c("Wfl3"),m=c("4iQV"),n=c("8pk8"),o=c("de4r"),p=c("ZDF3");const q={analyzeButton:Object(f.a)({id:"sigma.analyze",defaultMessage:"Analyze"}),analyzeButtonTertiary:Object(f.a)({id:"sigma.analyze.tertiary",defaultMessage:"Analyze in Sigma"})},r=["invoices_list","subscriptions_list"];function SigmaAnalyzeButton(a){const{originId:b,entryPointTitle:c}=a,{formatMessage:f}=Object(g.a)(),s=Object(l.a)(),t=Object(p.a)(),u=Object(n.a)("dashboard_sigma_analyze_with_ai"),v=Object(d.useCallback)(()=>s.action("sigma_analyze_button_click"),[s]),[w,x]=Object(d.useState)(!1),y=Object(d.useMemo)(()=>u&&r.includes(b)&&!t,[u,b,t]),z=y?o.a:m.a;return e.a.createElement(e.a.Fragment,null,e.a.createElement(h.a,{"data-testid":"sigma-explore-button",onClick:()=>x(!0),css:{font:"label.medium.emphasized","@media print":{display:"none"}},onPress:v},e.a.createElement(i.c,{icon:y?j.a:k.a}),f(q.analyzeButton)),w&&e.a.createElement(z,{originId:b,onClose:()=>x(!1),entryPointTitle:c}))}b.a=SigmaAnalyzeButton},"U/L8":function(a,b,c){"use strict";c.d(b,"a",function(){return LineItemsCellContent});var d=c("0qsp"),e=c("FYRY");const LineItemsCellContent=a=>{let{invoice:b}=a;const c=3,f=b.lines.data.slice(0,c),g=b.lines.data.length>c,h=f.reduce((a,b)=>{const c=b.short_description||b.description,d=a?", ":"";return c?a+d+c:a},"");return f.length&&h?d.createElement(d.Fragment,null,h,g?"…":null):d.createElement(e.a,null)}},U3eF:function(a,b,c){"use strict";var d=c("0qsp"),e=c("HyUj"),f=c("Al4q"),g=c("b/fh"),h=c("Aiv7"),i=c("XB93"),j=c("+qCB");const BankAccountItem=a=>{let{bankAccount:b,width:c,style:k}=a,l=100;return c&&c>300&&(l=150),d.createElement(f.default,{direction:"horizontal",spacing:12,style:k},d.createElement(f.default,{direction:"horizontal",spacing:12},d.createElement(e.default,null,d.createElement(h.a,{bankName:b.bank_name||"",size:20,inSource:!0})),d.createElement(e.default,{style:{width:`${l}px`}},d.createElement(g.default,null,Object(j.a)(b.bank_name)))),d.createElement(e.default,null,Object(i.a)(b)))};b.a=BankAccountItem},UoE0:function(a,b,c){"use strict";c.d(b,"a",function(){return useCurrentTabNameFromFilters});var d=c("zxZq"),e=c("t5xp"),f=c("PVEn");const useCurrentTabNameFromFilters=()=>{const{search:{status:a,past_due:b}}=Object(d.a)()[0];return e.a.find(c=>{const d=f.a[c];return d.status===a&&d.past_due===b})}},UzR4:function(a,b,c){"use strict";c.d(b,"a",function(){return RowActionsProvider});var d=c("0qsp"),e=c("kfQY"),f=c("x1P9"),g=c("Opdy"),h=c("p3Pk"),i=c("MEy2");const j=d.memo(a=>{let{children:b,refetch:c,startDownload:g}=a;const{ReviseInvoiceControllerModal:j,reviseInvoiceOrEditDraft:k}=Object(h.a)(),[l,m]=d.useState(null),[n,o]=d.useState(null),p=d.useCallback(a=>(m(a),k(a)),[k]),q=d.useCallback(a=>()=>{o(a)},[]),r=d.useCallback(()=>{o(null)},[]),s=d.useCallback(()=>{o(null),c()},[c]);return d.createElement(f.a.Provider,{value:d.useMemo(()=>({startDownload:g,reviseInvoiceOrEditDraft:p,onClickDeleteDraftInvoice:q}),[g,p,q])},b,l&&d.createElement(j,{invoice:l}),d.createElement(e.a,{shown:!!n,onWashClick:r,onEscape:r},n?d.createElement(i.a,{model:n,onCancel:r,onDelete:s}):null))}),RowActionsProvider=a=>{let{children:b,refetch:c}=a;return d.createElement("div",{style:{marginTop:-2,marginBottom:-2}},d.createElement(g.a,null,a=>{let{startDownload:e}=a;return d.createElement(j,{refetch:c,startDownload:e},b)}))}},VOmC:function(a,b,c){"use strict";c("L+mI");var d=c("fisF");c.d(b,"b",function(){return d.m}),c.d(b,"a",function(){return d.b})},Vyor:function(a,b,c){"use strict";var d=c("2+7o"),e=c("a5Zs");Object(e.f)(d.c)},WQQD:function(a,b,c){"use strict";c.d(b,"b",function(){return g}),c.d(b,"a",function(){return useInvoiceRevisionsQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query InvoiceRevisionsQuery($input:OpenapiGetV1InvoicesInvoiceRevisionsInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"d5085a0326"){list:v1InvoicesInvoiceRevisions(input:$input v1Context:$v1Context)@params(expand:["data.customer" "data.payment_intent" "data.revisability"]includeOnly:["data.id" "data.object" "data.amount_paid" "data.amount_remaining" "data.attempted" "data.auto_advance" "data.billing_reason" "data.collection_method" "data.created" "data.customer.id" "data.customer.cache_context_key" "data.customer.object" "data.customer_email" "data.currency" "data.deleted" "data.due_date" "data.finalized_payment_method_types" "data.livemode" "data.next_payment_attempt" "data.number" "data.paid" "data.payment_intent.id" "data.payment_intent.next_action.type" "data.payment_intent.status" "data.payment_pending" "data.prebilling_data.subscription_schedule" "data.revisability" "data.scheduled_payment.created" "data.secret" "data.send_next_confirmation_reminder_at" "data.status" "data.subscription" "data.subscription_status" "data.total" "has_more" "object" "url"]fragments:[]nodeLookupMap:[{nodes:["id" "object" "amount_paid" "amount_remaining" "attempted" "auto_advance" "billing_reason" "collection_method" "created" "customer_email" "currency" "deleted" "due_date" "finalized_payment_method_types" "livemode" "next_payment_attempt" "number" "paid" "payment_pending" "revisability" "secret" "send_next_confirmation_reminder_at" "status" "subscription" "subscription_status" "total"]parentPath:"data"}{nodes:["id" "cache_context_key" "object"]parentPath:"data.customer"}{nodes:["id" "status"]parentPath:"data.payment_intent"}{nodes:["type"]parentPath:"data.payment_intent.next_action"}{nodes:["subscription_schedule"]parentPath:"data.prebilling_data"}{nodes:["created"]parentPath:"data.scheduled_payment"}{nodes:["has_more" "object" "url"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiGetV1InvoicesInvoiceRevisions" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/invoices/:invoice/revisions" queryName:"list"){data@type(name:"OpenapiInvoice"){id object amount_paid amount_remaining attempted auto_advance billing_reason collection_method created customer@type(name:"OpenapiCustomer_or_OpenapiDeletedCustomer"){...on OpenapiCustomer{id cache_context_key object:object}}customer_email currency deleted due_date finalized_payment_method_types livemode next_payment_attempt number paid payment_intent@type(name:"OpenapiPaymentIntent"){id next_action@type(name:"OpenapiPaymentIntentNextAction"){type}status}payment_pending prebilling_data@type(name:"OpenapiPrebillingData"){subscription_schedule@type(name:"OpenapiSubscriptionSchedule"){id}}revisability scheduled_payment@type(name:"OpenapiInvoicesResourceScheduledPayment"){created}secret send_next_confirmation_reminder_at status subscription@type(name:"OpenapiSubscription"){id}subscription_status total}has_more object url}}
          `,g=f,h={expectedErrors:["api_error"]};function useInvoiceRevisionsQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},WcjA:function(a,b,c){"use strict";c.d(b,"a",function(){return m}),c.d(b,"b",function(){return n});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("bHWS"),h=c("4Nc9"),i=c("Vavk"),j=c("xGRT"),k=c("plqV");const l=20,m=1e4,n=1e3,o=Object(i.a)({listViewResultsExactCount:{id:"listviewcounts.exact",defaultMessage:"{count, plural, one {**1** result} other {**{formattedCount}** results}}"},listViewResultsLimitedCount:{id:"listviewcounts.limited",defaultMessage:"Over {lowerBound, plural, other {**{lowerBound}** results}}"},listViewResultsApproximateCount:{id:"listviewcounts.approximate",defaultMessage:"{count, plural, one {**1** result} other {About **{flooredCount}** results}}"},listViewResultsMimimumCount:{id:"listviewcounts.minimum",defaultMessage:"Viewing **{start}**–**{end}** results"},listViewResultsMimimumWithApproximateCount:{id:"listviewcounts.minimum_with_approximation",defaultMessage:"Viewing **{start}**–**{end}** of about **{flooredCount}** results"},listViewResultsMimimumWithLimitedCount:{id:"listviewcounts.minimum.limited",defaultMessage:"Viewing **{start}**–**{end}** of over **{lowerBound}** results"},listViewPaginatedWithExactCount:{id:"listviewcounts.pagination_with_exact_count",defaultMessage:"Viewing **{start}**–**{end}** of **{exactCount}** results"}}),floorNumber=a=>{if(a<10)return a;const b=a>1e3,c=b?-2:-1,d=`${a}`.slice(0,c),e=`${d}${b?"00":"0"}`;return parseInt(e,10)},ListViewCountText=a=>{const{count:b,specificity:c,currentPage:d,pageSize:g,limitedCountBound:h}=a,i=Object(j.a)(),l=(d-1)*g+1,m="number"==typeof b&&b<=d*g,n=1===l&&m,p=b<h;if("exact"===c&&p||n||"limited"===c&&p)return f.createElement(k.a,e()({},o.listViewResultsExactCount,{values:{count:b,formattedCount:i.formatNumber(b)}}));if("estimate"===c&&p){const q=i.formatNumber(floorNumber(b));return f.createElement(k.a,e()({},o.listViewResultsApproximateCount,{values:{count:b,flooredCount:q}}))}if("limited"===c||"exact"===c||"estimate"===c){const r=i.formatNumber(floorNumber(h));return f.createElement(k.a,e()({},o.listViewResultsLimitedCount,{values:{lowerBound:r}}))}const s=i.formatNumber(l),t=Math.min(d*g,b),u=i.formatNumber(t);if("paginatedExact"===c&&p||t===b)return f.createElement(k.a,e()({},o.listViewPaginatedWithExactCount,{values:{start:s,end:u,exactCount:i.formatNumber(b)}}));if(b===t+1)return f.createElement(k.a,e()({},o.listViewResultsMimimumCount,{values:{start:s,end:u}}));if(p){const v=i.formatNumber(floorNumber(b));return f.createElement(k.a,e()({},o.listViewResultsMimimumWithApproximateCount,{values:{start:s,end:u,flooredCount:v}}))}const w=i.formatNumber(floorNumber(h));return f.createElement(k.a,e()({},o.listViewResultsMimimumWithLimitedCount,{values:{start:s,end:u,lowerBound:w}}))},ListViewCount=a=>{const{countStatus:b}=a;if("loading"===b.type)return f.createElement(h.default,null);if("unavailable"===b.type)return null;const{countSpecificity:c,currentPage:d,pageSize:e}=a,i=a.limitedCountBound||m;return f.createElement(g.Body,null,f.createElement(ListViewCountText,{count:b.count,currentPage:d,pageSize:e,specificity:c,limitedCountBound:i}))};ListViewCount.defaultProps={currentPage:1,countSpecificity:"minimum",pageSize:l,limitedCountBound:m},b.c=ListViewCount},WqEb:function(a,b,c){"use strict";var d=c("OWtO");function validate(a){return"string"==typeof a&&d.a.test(a)}b.a=validate},X76O:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("xGRT"),h=c("zxZq"),i=c("09jD"),j=c("xAuL"),k=c("ubz5");const FiltersContextProvider=a=>{const b=Object(i.a)(),c=Object(i.k)(),d=Object(i.H)(),[l]=Object(h.a)(),m=Object(g.a)(),{initializeFiltersFromQueryString:n,fetchDataForFilters:o,updateDependentFilters:p,onApplyFilters:q}=a,r=f.useCallback(a=>{const b=l.search;let d=n({queryString:b,globals:c,intl:m});return o&&(d=o(d)),null!=a&&a.updateDependents&&p&&(d=p(b,d)),d},[l.search,n,c,m,o,p]),s=f.useMemo(()=>r({updateDependents:!0}),[r]),[t,u]=f.useState(s),[v,w]=f.useState(s);f.useEffect(()=>{u(s),w(s)},[s]);const x=f.useCallback((c,e)=>{Object(k.d)(c,e,d,l,b,a.customConvertFilterToApi),q&&q(e),w(e)},[d,l,b,a.customConvertFilterToApi,q]),y=f.useMemo(()=>({modifyFilters(a,b){let c=a;return p&&(c=p(l.search,c)),u(c),b&&x(v,c),c},clearFilters(a){let b=r();return b=b.map(a=>e()(e()({},a),{},{checked:!1})),u(b),a&&x(v,b),b},getCurrentFilters:()=>t,getAppliedFilters:()=>v,initialized:!0}),[v,x,t,l.search,p,r]);return f.createElement(j.a.Provider,{value:y},a.children)};b.a=FiltersContextProvider},XB93:function(a,b,c){"use strict";c.d(b,"b",function(){return extractLast4FromAccountNumber});const d=/^•+/,extractLast4FromAccountNumber=a=>a.replace(d,""),formatBankAccountNumber=a=>{if(a){const{account_number:b,last4:c}=a,e="••••";if(b)return b.replace(d,e);if(c)return`${e}${c}`}return""};b.a=formatBankAccountNumber},XuJF:function(a,b,c){"use strict";c.d(b,"a",function(){return useCustomerMetadataColumns});var d=c("0qsp"),e=c("tsOc"),f=c("d/2O");const useCustomerMetadataColumns=()=>{var a,b,c;return null===(a=Object(e.a)().data)|| void 0===a?void 0:null===(b=a.ajaxCustomColumns)|| void 0===b?void 0:null===(c=b.metadata_fields)|| void 0===c?void 0:c.map(a=>({cellContent:b=>d.createElement(f.a,{invoice:b,metadataField:a}),id:`metadata.${a}`,label:a,dataSource:"metadata",hidden:!0}))}},XyP4:function(a,b,c){"use strict";var d=c("Vavk");b.a=Object(d.a)({amount:{id:"searchResultsColumnLabel.amount",defaultMessage:"Amount"},amountDue:{id:"searchResultsColumnLabel.amountDue",defaultMessage:"Amount Due"},balance:{id:"searchResultsColumnLabel.balance",defaultMessage:"Balance"},capabilities:{id:"searchResultsColumnLabel.capabilities",defaultMessage:"Capabilities"},connectedOn:{id:"searchResultsColumnLabel.connectedOn",defaultMessage:"Connected"},taxCode:{id:"searchResultsColumnLabel.taxCode",defaultMessage:"Tax Code"},created:{id:"searchResultsColumnLabel.created",defaultMessage:"Created"},depositedDate:{id:"searchResultsColumnLabel.depositedDate",defaultMessage:"Deposited Date"},description:{id:"searchResultsColumnLabel.description",defaultMessage:"Description"},requirementsPastDue:{id:"searchResultsColumnLabel.requirementsPastDue",defaultMessage:"Information needed"},onboardingInformationNeeded:{id:"searchResultsColumnLabel.onboardingInformationNeeded",defaultMessage:"Onboarding information needed"},onboardingInformationEventuallyNeeded:{id:"searchResultsColumnLabel.onboardingInformationEventuallyNeeded",defaultMessage:"Onboarding information eventually needed"},futureRequirementsCurrentlyDue:{id:"searchResultsColumnLabel.futureRequirementsCurrentlyDue",defaultMessage:"Future information needed"},placeholder:{id:"searchResultsColumnLabel.placeholder",defaultMessage:"---"},customer:{id:"searchResultsColumnLabel.customer",defaultMessage:"Customer"},payment_method:{id:"searchResultsColumnLabel.payment_method",defaultMessage:"Payment method"},etaDate:{id:"searchResultsColumnLabel.etaDate",defaultMessage:"ETA Date"},date:{id:"searchResultsColumnLabel.date",defaultMessage:"Date"},invoiceId:{id:"searchResultsColumnLabel.invoiceId",defaultMessage:"Invoice"},subscription:{id:"searchResultsColumnLabel.subscription",defaultMessage:"Subscription"},billingPeriod:{id:"searchResultsColumnLabel.billingPeriod",defaultMessage:"Billing period"},plan:{id:"searchResultsColumnLabel.plan",defaultMessage:"Plan"},item:{id:"searchResultsColumnLabel.item",defaultMessage:"Items"},email:{id:"searchResultsColumnLabel.email",defaultMessage:"Email"},id:{id:"searchResultsColumnLabel.id",defaultMessage:"ID"},price:{id:"searchResultsColumnLabel.price",defaultMessage:"Price"},cost:{id:"searchResultsColumnLabel.cost",defaultMessage:"Cost"},coupon:{id:"searchResultsColumnLabel.coupon",defaultMessage:"Coupon"},name:{id:"searchResultsColumnLabel.name",defaultMessage:"Name"},skus:{id:"searchResultsColumnLabel.skus",defaultMessage:"SKU"},product:{id:"searchResultsColumnLabel.product",defaultMessage:"Product"},fraudTier:{id:"searchResultsColumnLabel.fraud_tier",defaultMessage:"Fraud tier"},account:{id:"searchResultsColumnLabel.account",defaultMessage:"Account"},type:{id:"searchResultsColumnLabel.type",defaultMessage:"Type"},source:{id:"searchResultsColumnLabel.source",defaultMessage:"Source Type"},status:{id:"searchResultsColumnLabel.status",defaultMessage:"Status"},due:{id:"searchResultsColumnLabel.due",defaultMessage:"Due"},dueDate:{id:"searchResultsColumnLabel.dueDate",defaultMessage:"Due date"},spend:{id:"searchResultsColumnLabel.spend",defaultMessage:"Spend"},spendTooltip:{id:"searchResultsColumnLabel.spend.tooltip",defaultMessage:"The amount a customer has spent, after refunds and disputes. This value is calculated once per day."},lastCharge:{id:"searchResultsColumnLabel.lastCharge",defaultMessage:"Last charge"},lastChargeTooltip:{id:"searchResultsColumnLabel.lastCharge.tooltip",defaultMessage:"The date of the customer's last charge attempt."},businessType:{id:"listviews.column.businessType",defaultMessage:"Business type"},invoicePaid:{id:"listviews.columns.invoicePaid",defaultMessage:"Paid"},overflowMenu:{id:"listviews.columns.overflowMenu",defaultMessage:"More"},country:{id:"listviews.columns.country",defaultMessage:"Country"},currency:{id:"listviews.columns.currency",defaultMessage:"Currency"},pricing:{id:"listviews.columns.pricing",defaultMessage:"Pricing"},terms:{id:"listviews.columns.terms",defaultMessage:"Terms"},expiration:{id:"listviews.columns.expiration",defaultMessage:"Expiration"},redemptions:{id:"listviews.columns.redemptions",defaultMessage:"Redemptions"},volume:{id:"searchResultsColumnLabel.volume",defaultMessage:"Volume"},reason:{id:"searchResultsColumnLabel.reason",defaultMessage:"Reason"},rejectedReason:{id:"searchResultsColumnLabel.rejectedReason",defaultMessage:"Reason"},pendingReason:{id:"searchResultsColumnLabel.pendingReason",defaultMessage:"Reason"},number:{id:"searchResultsColumnLabel.number",defaultMessage:"Number"},dateIssued:{id:"searchResultsColumnLabel.dateIssued",defaultMessage:"Date issued"},statementDescriptor:{id:"listviews.columns.statementDescriptor",defaultMessage:"Statement Descriptor"},statementDescriptorCompatibilityHeader:{id:"listviews.columns.statementDescriptorCompatibility",defaultMessage:"Statement Descriptor"},path:{id:"listviews.columns.path",defaultMessage:"Path"},chargeType:{id:"listviews.columns.chargeType",defaultMessage:"Charge type"},applicationFeeParamters:{id:"listviews.columns.applicationFeeAmountParameter",defaultMessage:"Application fee"},apiVersion:{id:"listviews.columns.apiVersion",defaultMessage:"API version"},transfersPastDue:{id:"listviews.columns.transfers.fieldsNeeded",defaultMessage:"Info needed for transfers"},cardPaymentsPastDue:{id:"listviews.columns.cardPayments.fieldsNeeded",defaultMessage:"Info needed for card_payments/transfers"},lastTransactionOn:{id:"listviews.columns.cardPayments.lastTransactionOn",defaultMessage:"Last transaction"},updated:{id:"listviews.columns.updated",defaultMessage:"Updated"},cardName:{id:"searchResultsColumnLabel.cardName",defaultMessage:"Card name"},cardLast4:{id:"searchResultsColumnLabel.cardLast4",defaultMessage:"Card"},declineReason:{id:"searchResultsColumnLabel.declineReason",defaultMessage:"Decline reason"},businessAccount:{id:"searchResultsColumnLabel.businessAccount",defaultMessage:"Account"},accountEmail:{id:"searchResultsColumnLabel.accountEmail",defaultMessage:"Account email"},accountName:{id:"searchResultsColumnLabel.accountName",defaultMessage:"Account name"},accountOwner:{id:"searchResultsColumnLabel.accountOwner",defaultMessage:"Account owner"},accountType:{id:"searchResultsColumnLabel.accountType",defaultMessage:"Account type"},stripeAccountId:{id:"searchResultsColumnLabel.stripeAccountId",defaultMessage:"Stripe account ID"},arrivalDate:{id:"searchResultsColumnLabel.arrivalDate",defaultMessage:"Arrive by"},terminalLocation:{id:"searchResultsColumnLabel.terminalLocation",defaultMessage:"Terminal location"},terminalReader:{id:"searchResultsColumnLabel.terminalReader",defaultMessage:"Terminal reader"},refundedDate:{id:"searchResultsColumnLabel.refundedDate",defaultMessage:"Refunded date"},disputeAmount:{id:"searchResultsColumnLabel.disputeAmount",defaultMessage:"Dispute amount"},disputedOn:{id:"searchResultsColumnLabel.disputedOn",defaultMessage:"Disputed on"},disputeReason:{id:"searchResultsColumnLabel.disputeReason",defaultMessage:"Dispute reason"},disputeStatus:{id:"searchResultsColumnLabel.disputeStatus",defaultMessage:"Dispute status"},disputeWinChance:{id:"searchResultsColumnLabel.disputeWinChance",defaultMessage:"Win likelihood"},evidenceSubmittedAt:{id:"searchResultsColumnLabel.disputeEvidenceSubmittedAt",defaultMessage:"Evidence submitted at"},evidenceDueBy:{id:"searchResultsColumnLabel.disputeEvidenceDueBy",defaultMessage:"Evidence due by"},recipient:{id:"searchResultsColumnLabel.recipient",defaultMessage:"Recipient"}})},Y0ZD:function(a,b,c){"use strict";var d=c("C+vc");c.d(b,"b",function(){return d.b}),c.d(b,"a",function(){return d.a})},Yfmh:function(a,b,c){"use strict";c.d(b,"a",function(){return d}),c.d(b,"c",function(){return e}),c.d(b,"b",function(){return f});const d=["charge","customer","customer.sources","customer.default_source","customer.invoice_settings.default_payment_method","default_payment_method","default_source","subscription","subscription.default_payment_method","subscription.default_source","subscription.items.data.plan","total_tax_amounts.tax_rate","payment_intent","payment_intent.latest_charge.dispute","payment_intent.latest_charge.refunds","rendering.summary_items","lines.data.price","lines.data.price.product","lines.data.price_details","lines.data.price.tiers","lines.data.tax_amounts.tax_rate","from_invoice.invoice","latest_revision","shipping_cost.shipping_rate","test_clock"],e={CREDIT_NOTE_EXISTS:"credit-note-exists",DRAFT_REVISION_EXISTS:"revision-exists",PAYMENT_SCHEDULED:"invoice-payment-scheduled",PI_NON_REVISABLE_STATE:"invoice-payment-processing",PRORATION_LINE_ITEMS:"proration-invoice",REVISABLE:"revisable",REVISION_EXISTS:"revision-exists",REVISION_HISTORY_TOO_LARGE:"revision-history-too-large",SUBSCRIPTION_LINE_ITEMS:"subscription-invoice"},f=["customer_balance","ach_credit_transfer","sepa_credit_transfer","jp_credit_transfer"]},YrWR:function(a,b,c){"use strict";var d=c("0qsp"),e=c("aWD3"),f=c("UoE0"),g=c("PVEn"),h=c("csOU"),i=c("nPYo");const InvoicesListViewTabFromFilters=a=>{let{label:b,onClick:c,tab:j,color:k}=a;return d.createElement(e.a,{active:Object(f.a)()===j,flexGrow:!0,href:Object(g.b)(Object(h.a)(),j),onClick(){c()}},d.createElement(i.a.div,{css:{stack:"x",gap:"xsmall",alignY:"center"}},k&&d.createElement(i.a.div,{css:{height:"small",width:"small",borderRadius:"small",backgroundColor:k,marginRight:"xsmall",".performance-tile-chart-chrome &":{borderRadius:"xxsmall"}}}),b))};b.a=InvoicesListViewTabFromFilters},ZDF3:function(a,b,c){"use strict";c.d(b,"a",function(){return useIsEligibleForSigmaTrial});var d=c("09jD"),e=c("KR53");function useIsEligibleForSigmaTrial(){const{sqid:a}=Object(d.M)();return Object(e.i)(null==a?void 0:a.status)}},ZIgk:function(a,b,c){"use strict";c.d(b,"a",function(){return NumberCellContent});var d=c("0qsp"),e=c("nPYo");const NumberCellContent=a=>{let{invoice:b}=a;return d.createElement(e.a.div,{css:{fontFamily:"monospace.family",fontSize:"13px"}},b.number||b.id)}},Zmve:function(a,b,c){"use strict";c.d(b,"a",function(){return PageNotice});var d=c("0qsp"),e=c("Sxr0"),f=c("ZjHi"),g=c("FLYH");const PageNotice=()=>d.createElement(f.b,{when:f.b.hasPermission(g.a.invoice_write)},d.createElement(e.a,{types:["japan_qualified_invoicing_tax_rounding"]}))},aA7Y:function(a,b,c){"use strict";c.d(b,"R",function(){return D}),c.d(b,"i",function(){return E}),c.d(b,"M",function(){return F}),c.d(b,"D",function(){return G}),c.d(b,"Y",function(){return H}),c.d(b,"B",function(){return I}),c.d(b,"a",function(){return J}),c.d(b,"b",function(){return K}),c.d(b,"ab",function(){return L}),c.d(b,"Z",function(){return M}),c.d(b,"S",function(){return N}),c.d(b,"j",function(){return O}),c.d(b,"k",function(){return P}),c.d(b,"c",function(){return Q}),c.d(b,"C",function(){return R}),c.d(b,"l",function(){return S}),c.d(b,"F",function(){return T}),c.d(b,"X",function(){return U}),c.d(b,"x",function(){return V}),c.d(b,"y",function(){return W}),c.d(b,"q",function(){return X}),c.d(b,"A",function(){return Y}),c.d(b,"N",function(){return Z}),c.d(b,"O",function(){return $}),c.d(b,"P",function(){return _}),c.d(b,"f",function(){return aa}),c.d(b,"g",function(){return ab}),c.d(b,"I",function(){return ac}),c.d(b,"H",function(){return ad}),c.d(b,"K",function(){return ae}),c.d(b,"J",function(){return af}),c.d(b,"L",function(){return ag}),c.d(b,"e",function(){return ah}),c.d(b,"Q",function(){return ai}),c.d(b,"r",function(){return aj}),c.d(b,"m",function(){return ak}),c.d(b,"E",function(){return al}),c.d(b,"s",function(){return am}),c.d(b,"h",function(){return an}),c.d(b,"z",function(){return ao}),c.d(b,"n",function(){return ap}),c.d(b,"o",function(){return aq}),c.d(b,"t",function(){return ar}),c.d(b,"u",function(){return as}),c.d(b,"W",function(){return at}),c.d(b,"w",function(){return au}),c.d(b,"v",function(){return av}),c.d(b,"G",function(){return aw}),c.d(b,"p",function(){return ax}),c.d(b,"V",function(){return ay}),c.d(b,"T",function(){return az}),c.d(b,"U",function(){return aA}),c.d(b,"d",function(){return aC}),c.d(b,"ib",function(){return getPrefillForTemplate}),c.d(b,"kb",function(){return useGetDetailsForEntrypoint}),c.d(b,"gb",function(){return getMRRTemplate}),c.d(b,"fb",function(){return getMRRDailyRollForwardTemplate}),c.d(b,"cb",function(){return getActiveSubscribersTemplate}),c.d(b,"db",function(){return getChurnedRevenueTemplate}),c.d(b,"bb",function(){return getActiveSubscribersGrowthTemplate}),c.d(b,"hb",function(){return getNewSubscribersTemplate}),c.d(b,"eb",function(){return getChurnedSubscribersTemplate}),c.d(b,"jb",function(){return isEntitlementView});var d=c("8OBj"),e=c.n(d),f=c("afBP"),g=c("C9fe"),h=c("IVHx"),i=c("Abqz"),j=c("ToIy"),k=c("uHI9"),l=c("CD0b"),m=c("BktM"),n=c("d567"),o=c("KMHG"),p=c("VOG7"),q=c("9Cxl"),r=c("GLcR"),s=c("2cfQ"),t=c("tfQc"),u=c("wShG"),v=c("r10l"),w=c("9Nzx"),x=c("vZLH"),y=c("zbKu"),z=c("hIgl"),A=c("xhKK"),B=c("KR53"),C=c("09jD");const D="Subscriptions by customer and quantity",E="Checkout conversion by week",F="Revenue by payment link",G="Order fulfillment",H="Total monthly recurring revenue (MRR)",I="Subscription metrics per day (MRR roll-forward)",J="Active subscribers over time",K="Active subscribers over time",L="Total subscription quantity by product",M="Total monthly recurring revenue (MRR) by product",N="Subscription trial conversion rate",O="Churned Customers",P="Churned revenue per day",Q="Active subscribers growth per day",R="New subscribers per day",S="Churned subscribers per day",T="Overdue invoice details",U="Top customers by amount invoiced",V="Invoice revenue",W="Itemized balance change from activity report",X="Daily balance",Y="Monthly summary and balance",Z="Recovery Breakdown",$="Recovery by method",_="Recovery Decline Code Breakdown",aa="Balance change from activity summary",ab="Balance summary",ac="Charges sent to review",ad="Blocked transactions",ae="Fraudulent dispute rate",af="Disputed Payments",ag="Recently paid out financing offers",ah="Average accepted offer size",ai="Revenue share earned per month",aj="Daily treasury balance",ak="Connected account financial accounts",al="Outbound transfer average monthly volume",am="Detailed payout reconciliation",an="Basic payout reconciliation",ao="Itemized payouts report",ap="3DS conversion attempts",aq="3DS conversion attempts by card country",ar="Disputed charges",as="Disputes summary",at="Tax liability by product",au="Inventory planning",av="Gross charge volume by month",aw="Payment card breakdown",ax="Daily activity",ay="Tax liability by month",az="Tax collected on paid invoices by month",aA="Tax liability by customer location",aB=[D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,ag,ah,ai,aj,ak,al,am,an,ao,ar,as,at,au,av,aw,ax,ay,az,aA],aC=[Z,$,_,aa,ab,ac,ad,ae,af,ap,aq],aD={subscriptionsByCustomerAndQuantityTitle:Object(f.a)({id:"sigma.subscriptions_modal.template1.title",defaultMessage:"Subscriptions by customer and quantity"}),subscriptionsByCustomerAndQuantityDescription:Object(f.a)({id:"sigma.subscriptions_modal.template1.description",defaultMessage:"Itemized subscription information for each customer and plan."}),subscriptionsByCustomerAndQuantityPrompt:Object(f.a)({id:"sigma.subscriptions_modal.template1.prompt",defaultMessage:"Show my subscriptions for each customer"}),totalMRRByProductTitle:Object(f.a)({id:"sigma.subscriptions_modal.template2.title",defaultMessage:"Total MRR by product"}),totalMRRByProductDescription:Object(f.a)({id:"sigma.subscriptions_modal.template2.description",defaultMessage:"Total monthly recurring revenue for the past two years, grouped by product."}),totalMRRByProductPrompt:Object(f.a)({id:"sigma.subscriptions_modal.template2.prompt",defaultMessage:"What is my monthly revenue by product"}),subscriptionTrialConversionRateTitle:Object(f.a)({id:"sigma.subscriptions_modal.template3.title",defaultMessage:"Subscription trial conversion rate"}),subscriptionTrialConversionRateDescription:Object(f.a)({id:"sigma.subscriptions_modal.template3.description",defaultMessage:"Percentage of trials that convert to paid subscriptions."}),subscriptionTrialConversionRatePrompt:Object(f.a)({id:"sigma.subscriptions_modal.template3.prompt",defaultMessage:"What percentage of trial subscriptions convert to paid"}),checkoutConversionByWeekTitle:Object(f.a)({id:"sigma.customers_modal.template2.title",defaultMessage:"Checkout conversion by week"}),checkoutConversionByWeekDescription:Object(f.a)({id:"sigma.customers_modal.template2.description",defaultMessage:"Customers who completed payment from Checkout."}),checkoutConversionByWeekPrompt:Object(f.a)({id:"sigma.customers_modal.template2.prompt",defaultMessage:"Find conversion rates for checkout sessions"}),revenueByPaymentLinkTitle:Object(f.a)({id:"sigma.entrypoints.revenue_payment_link.title",defaultMessage:"Revenue by payment link"}),revenueByPaymentLinkDescription:Object(f.a)({id:"sigma.entrypoints.revenue_payment_link.description",defaultMessage:"Amount of revenue generated by each payment link"}),revenueByPaymentLinkPrompt:Object(f.a)({id:"sigma.entrypoints.revenue_payment_link.prompt",defaultMessage:"How much revenue does each payment link generate"}),orderFulfillmentTitle:Object(f.a)({id:"sigma.entrypoints.orderFulfillment.title",defaultMessage:"Order fulfillment"}),orderFulfillmentDescription:Object(f.a)({id:"sigma.entrypoints.orderFulfillment.description",defaultMessage:"Breakdown of items purchased to fulfill customers orders"}),orderFulfillmentPrompt:Object(f.a)({id:"sigma.entrypoints.orderFulfillment.prompt",defaultMessage:"Show ordered items that need to be fulfilled"}),churnedCustomersTitle:Object(f.a)({id:"sigma.customers_modal.template3.title",defaultMessage:"Churned Customers"}),churnedCustomersDescription:Object(f.a)({id:"sigma.customers_modal.template3.description",defaultMessage:"Customers who cancelled their subscriptions."}),churnedCustomersPrompt:Object(f.a)({id:"sigma.customers_modal.template3.prompt",defaultMessage:"Get all customers who cancelled subscriptions"}),invoiceRevenueTitle:Object(f.a)({id:"sigma.invoices_modal.template1.title",defaultMessage:"Invoice revenue"}),invoiceRevenueDescription:Object(f.a)({id:"sigma.invoices_modal.template1.description",defaultMessage:"Total invoice revenue, including subscriptions and one-time payments"}),invoiceRevenuePrompt:Object(f.a)({id:"sigma.invoices_modal.template1.prompt",defaultMessage:"What is my cumulative revenue from invoices"}),overdueInvoiceDetailsTitle:Object(f.a)({id:"sigma.invoices_modal.template2.title",defaultMessage:"Overdue invoice details"}),overdueInvoiceDetailsDescription:Object(f.a)({id:"sigma.invoices_modal.template2.description",defaultMessage:"Aging report with invoice line item details"}),overdueInvoiceDetailsPrompt:Object(f.a)({id:"sigma.invoices_modal.template2.prompt",defaultMessage:"Show all current overdue invoices"}),topCustomersByAmountInvoicedTitle:Object(f.a)({id:"sigma.invoices_modal.template3.title",defaultMessage:"Top customers by amount invoiced"}),topCustomersByAmountInvoicedDescription:Object(f.a)({id:"sigma.invoices_modal.template3.description",defaultMessage:"Customer details sorted by total invoiced amount"}),topCustomersByAmountInvoicedPrompt:Object(f.a)({id:"sigma.invoices_modal.template3.prompt",defaultMessage:"Sort customer details by total invoiced amount"}),itemizedBalanceChangeFromActivityReportTitle:Object(f.a)({id:"sigma.analyze_modal.itemized_balance_change_from_activity_report.title",defaultMessage:"Itemized balance change from activity report"}),itemizedBalanceChangeFromActivityReportDescription:Object(f.a)({id:"sigma.analyze_modal.itemized_balance_change_from_activity_report.description",defaultMessage:"Breakdown of balance transactions by reporting category"}),itemizedBalanceChangeFromActivityReportPrompt:Object(f.a)({id:"sigma.analyze_modal.itemized_balance_change_from_activity_report.prompt",defaultMessage:"Break down balance transactions by reporting category"}),dailyBalanceTitle:Object(f.a)({id:"sigma.analyze_modal.daily_balance.title",defaultMessage:"Daily balance"}),dailyBalanceDescription:Object(f.a)({id:"sigma.analyze_modal.daily_balance.description",defaultMessage:"Account balance and activity summary"}),dailyBalancePrompt:Object(f.a)({id:"sigma.analyze_modal.daily_balance.prompt",defaultMessage:"What is my account balance and activity summary"}),monthlySummaryAndBalanceTitle:Object(f.a)({id:"sigma.analyze_modal.monthly_summary_and_balance.title",defaultMessage:"Monthly summary and balance"}),monthlySummaryAndBalanceDescription:Object(f.a)({id:"sigma.analyze_modal.monthly_summary_and_balance.description",defaultMessage:"Sales, refunds, gross, and net activity"}),monthlySummaryAndBalancePrompt:Object(f.a)({id:"sigma.analyze_modal.monthly_summary_and_balance.prompt",defaultMessage:"Summarize my sales, refunds, gross, and net activity"}),subscriptionsPlaceholder:Object(f.a)({id:"sigma.assistant.subscriptions.placeholder",defaultMessage:"e.g. How many new subscribers did we get last month"}),invoicesPlaceholder:Object(f.a)({id:"sigma.assistant.invoices.placeholder",defaultMessage:"e.g. What invoices were created in the last month"}),transactionsPlaceholder:Object(f.a)({id:"sigma.assistant.transactions.placeholder",defaultMessage:"e.g. What balance transactions would be made in the last month"}),paymentLinksPlaceholder:Object(f.a)({id:"sigma.assistant.payment_links.placeholder",defaultMessage:"e.g. How many times were my payment links used last month"}),customersPlaceholder:Object(f.a)({id:"sigma.assistant.customers.placeholder",defaultMessage:"e.g. How many new customers did we get last month"}),recentlyPaidOutFinancingOffersTitle:Object(f.a)({id:"sigma.financing_transactions_list.recently_paid_out_financing_offers",defaultMessage:"Recently paid out financing offers"}),recentlyPaidOutFinancingOffersDescription:Object(f.a)({id:"sigma.financing_transactions_list.recently_paid_out_financing_offers_description",defaultMessage:"Financing Offers that were paid out in the last two years"}),recentlyPaidOutFinancingOffersPrompt:Object(f.a)({id:"sigma.financing_transactions_list.recently_paid_out_financing_offers_prompt",defaultMessage:"Which financing offers were paid out recently"}),capitalPlaceholder:Object(f.a)({id:"sigma.assistant.capital.placeholder",defaultMessage:"e.g. How many new loans were approved last month"}),averageAcceptedOfferSizeTitle:Object(f.a)({id:"sigma.financing_transactions_list.average_accepted_offer_size",defaultMessage:"Average accepted offer size"}),averageAcceptedOfferSizeDescription:Object(f.a)({id:"sigma.financing_transactions_list.average_accepted_offer_size_description",defaultMessage:"Per-week time series of the mean principal amount for offers extended to accounts"}),averageAcceptedOfferSizePrompt:Object(f.a)({id:"sigma.financing_transactions_list.average_accepted_offer_size_prompt",defaultMessage:"What is the average principal amount of accepted offers"}),revenueShareEarnedPerMonthTitle:Object(f.a)({id:"sigma.financing_transactions_list.revenue_share_earned_per_month",defaultMessage:"Revenue share earned per month"}),revenueShareEarnedPerMonthDescription:Object(f.a)({id:"sigma.financing_transactions_list.revenue_share_earned_per_month_description",defaultMessage:"Per-month time series of revenue earned from Capital for Platforms"}),revenueShareEarnedPerMonthPrompt:Object(f.a)({id:"sigma.financing_transactions_list.revenue_share_earned_per_month_prompt",defaultMessage:"How much revenue share do I earn per month"}),dailyTreasuryBalanceTitle:Object(f.a)({id:"sigma.treasury.daily_treasury_balance",defaultMessage:"Daily treasury balance"}),dailyTreasuryBalanceDescription:Object(f.a)({id:"sigma.treasury.daily_treasury_balance_description",defaultMessage:"Daily Financial Account balance summary in minor units broken down by transaction type"}),dailyTreasuryBalancePrompt:Object(f.a)({id:"sigma.treasury.daily_treasury_balance_prompt",defaultMessage:"Get daily treasury balance by transaction type"}),connectedAccountFinancialAccountsTitle:Object(f.a)({id:"sigma.treasury.connected_account_financial_accounts",defaultMessage:"Connected account financial accounts"}),connectedAccountFinancialAccountsDescription:Object(f.a)({id:"sigma.treasury.connected_account_financial_accounts_description",defaultMessage:"List all Connected Account financial accounts and business names"}),connectedAccountFinancialAccountsPrompt:Object(f.a)({id:"sigma.treasury.connected_account_financial_accounts_prompt",defaultMessage:"Show all my connected account financial accounts"}),outboundTransferAverageMonthlyVolumeTitle:Object(f.a)({id:"sigma.treasury.outbound_transfer_average_monthly_volume",defaultMessage:"Outbound transfer average monthly volume"}),outboundTransferAverageMonthlyVolumeDescription:Object(f.a)({id:"sigma.treasury.outbound_transfer_average_monthly_volume_description",defaultMessage:"Average monthly volume for outbound treasury transfers"}),outboundTransferAverageMonthlyVolumePrompt:Object(f.a)({id:"sigma.treasury.outbound_transfer_average_monthly_volume_prompt",defaultMessage:"What is my monthly volume of outbound transfers"}),treasuryPlaceholder:Object(f.a)({id:"sigma.assistant.treasury.placeholder",defaultMessage:"e.g. What is my daily treasury balance today"}),basicPayoutReconciliationTitle:Object(f.a)({id:"sigma.basic_payout_reconciliation.title",defaultMessage:"Basic payout reconciliation"}),basicPayoutReconciliationDescription:Object(f.a)({id:"sigma.basic_payout_reconciliation.description",defaultMessage:"Itemized transactions for each automatic payout"}),basicPayoutReconciliationPrompt:Object(f.a)({id:"sigma.basic_payout_reconciliation.prompt",defaultMessage:"Show all transactions for each payout"}),detailedPayoutReconciliationTitle:Object(f.a)({id:"sigma.detailed_payout_reconciliation.title",defaultMessage:"Detailed payout reconciliation"}),detailedPayoutReconciliationDescription:Object(f.a)({id:"sigma.detailed_payout_reconciliation.description",defaultMessage:"Itemized breakdown for transaction, customer, and checkout info for each automatic payouts"}),detailedPayoutReconciliationPrompt:Object(f.a)({id:"sigma.detailed_payout_reconciliation.prompt",defaultMessage:"Get customer and checkout info for each payout transaction"}),itemizedPayoutsReportTitle:Object(f.a)({id:"sigma.itemized_payout_report.title",defaultMessage:"Itemized payouts report"}),itemizedPayoutsReportDescription:Object(f.a)({id:"sigma.itemized_payout_report.description",defaultMessage:"List of bank payouts in the previous month"}),itemizedPayoutsReportPrompt:Object(f.a)({id:"sigma.itemized_payout_report.prompt",defaultMessage:"Which bank payouts were made last month"}),payoutsPlaceholder:Object(f.a)({id:"sigma.payouts_list.placeholder",defaultMessage:"e.g. Which transactions were in my latest payout"}),disputesPlaceholder:Object(f.a)({id:"sigma.disputes_list.placeholder",defaultMessage:"e.g. What disputes are currently open"}),disputedChargesTitle:Object(f.a)({id:"sigma.disputed_charges_report.title",defaultMessage:"Disputed Charges"}),disputedChargesDescription:Object(f.a)({id:"sigma.disputed_charges_report.description",defaultMessage:"Itemized list of disputed charges for the past 30 days"}),disputedChargesPrompt:Object(f.a)({id:"sigma.disputed_charges_report.prompt",defaultMessage:"Show all disputed charges for the past 30 days"}),disputesSummaryTitle:Object(f.a)({id:"sigma.disputes_summary_report.title",defaultMessage:"Disputes Summary"}),disputesSummaryDescription:Object(f.a)({id:"sigma.disputes_summary_report.description",defaultMessage:"Dispute reason and status for all past disputes"}),disputesSummaryPrompt:Object(f.a)({id:"sigma.disputes_summary_report.prompt",defaultMessage:"Show all disputes and their status"}),taxLiabilityByProductTitle:Object(f.a)({id:"sigma.tax_liability_by_product.title",defaultMessage:"Tax liability by product"}),taxLiabilityByProductDescription:Object(f.a)({id:"sigma.tax_liability_by_product.description",defaultMessage:"Summarize tax transactions by product and currency"}),taxLiabilityByProductPrompt:Object(f.a)({id:"sigma.tax_liability_by_product.prompt",defaultMessage:"Calculate tax fees for each product"}),activeSubscribersByProductTitle:Object(f.a)({id:"sigma.active_subscribers_by_product.title",defaultMessage:"Active subscribers by product"}),activeSubscribersByProductDescription:Object(f.a)({id:"sigma.active_subscribers_by_product.description",defaultMessage:"Active subscribers by product on a monthly basis since the first subscription"}),activeSubscribersByProductPrompt:Object(f.a)({id:"sigma.active_subscribers_by_product.prompt",defaultMessage:"Get active subscribers for my products"}),totalSubscriptionQuantityByProductTitle:Object(f.a)({id:"sigma.total_subscription_quantity_by_product.title",defaultMessage:"Total subscription quantity by product"}),totalSubscriptionQuantityByProductDescription:Object(f.a)({id:"sigma.total_subscription_quantity_by_product.description",defaultMessage:"How many subscriptions each product has had over the past two years"}),totalSubscriptionQuantityByProductPrompt:Object(f.a)({id:"sigma.total_subscription_quantity_by_product.prompt",defaultMessage:"How many subscriptions does each product have"}),inventoryPlanningTitle:Object(f.a)({id:"sigma.inventory_planning.title",defaultMessage:"Inventory planning"}),inventoryPlanningDescription:Object(f.a)({id:"sigma.inventory_planning.description",defaultMessage:"How many of my top products am I selling each month (>100)?"}),inventoryPlanningPrompt:Object(f.a)({id:"sigma.inventory_planning.prompt",defaultMessage:"Show me the quantities of top products by sales"}),subscriptionProductsPlaceholder:Object(f.a)({id:"sigma.assistant.subscription_products.placeholder",defaultMessage:"e.g. How many new subscriptions were created last month"}),productsPlaceholder:Object(f.a)({id:"sigma.assistant.products.placeholder",defaultMessage:"e.g. How many products were sold last month"}),paymentsPlaceholder:Object(f.a)({id:"sigma.assistant.payments.placeholder",defaultMessage:"e.g. How many payments were processed last month"}),grossChargeVolumeByMonthTitle:Object(f.a)({id:"sigma.gross_charge_volume_by_month.title",defaultMessage:"Gross charge volume by month"}),grossChargeVolumeByMonthDescription:Object(f.a)({id:"sigma.gross_charge_volume_by_month.description",defaultMessage:"Total processing volume for each currency per month"}),grossChargeVolumeByMonthPrompt:Object(f.a)({id:"sigma.gross_charge_volume_by_month.prompt",defaultMessage:"What is my gross charge volume by month"}),paymentCardBreakdownTitle:Object(f.a)({id:"sigma.payment_card_breakdown.title",defaultMessage:"Payment card breakdown"}),paymentCardBreakdownDescription:Object(f.a)({id:"sigma.payment_card_breakdown.description",defaultMessage:"Charges and amounts for each card type by currency"}),paymentCardBreakdownPrompt:Object(f.a)({id:"sigma.payment_card_breakdown.prompt",defaultMessage:"Show me the breakdown of payment card charges"}),dailyActivityTitle:Object(f.a)({id:"sigma.daily_activity.title",defaultMessage:"Daily activity"}),dailyActivityDescription:Object(f.a)({id:"sigma.daily_activity.description",defaultMessage:"Sales, refunds, adjustments, and disputes"}),dailyActivityPrompt:Object(f.a)({id:"sigma.daily_activity.prompt",defaultMessage:"Show me my daily sales, refunds, and disputes"}),taxPlaceholder:Object(f.a)({id:"sigma.assistant.tax.placeholder",defaultMessage:"e.g. What is my tax liability for the last month"}),taxLiabilityByMonthTitle:Object(f.a)({id:"sigma.tax_liability_by_month.title",defaultMessage:"Tax liability by month"}),taxLiabilityByMonthDescription:Object(f.a)({id:"sigma.tax_liability_by_month.description",defaultMessage:"Summarize tax transactions by month and currency"}),taxLiabilityByMonthPrompt:Object(f.a)({id:"sigma.tax_liability_by_month.prompt",defaultMessage:"Calculate tax fees for each month"}),taxCollectedOnPaidInvoicesByMonthTitle:Object(f.a)({id:"sigma.tax_collected_on_paid_invoices_by_month.title",defaultMessage:"Tax collected on paid invoices by month"}),taxCollectedOnPaidInvoicesByMonthDescription:Object(f.a)({id:"sigma.tax_collected_on_paid_invoices_by_month.description",defaultMessage:"Summarize tax collected on paid invoices by month and currency"}),taxCollectedOnPaidInvoicesByMonthPrompt:Object(f.a)({id:"sigma.tax_collected_on_paid_invoices_by_month.prompt",defaultMessage:"How many taxes were collected on invoices"}),taxLiabilityByCustomerLocationTitle:Object(f.a)({id:"sigma.tax_liability_by_customer_location.title",defaultMessage:"Tax liability by customer location"}),taxLiabilityByCustomerLocationDescription:Object(f.a)({id:"sigma.tax_liability_by_customer_location.description",defaultMessage:"Summarize tax transactions by customer location and currency"}),taxLiabilityByCustomerLocationPrompt:Object(f.a)({id:"sigma.tax_liability_by_customer_location.prompt",defaultMessage:"Get taxes by each location"})};function getTemplatesForEntryPoint(a){switch(a){case"Subscriptions":return getSubscriptionsTemplateOptions();case"Customers":return getCustomersTemplateOptions();case"Payment Links":return getPaymentLinksTemplateOptions();case"Invoices":return getInvoicesTemplateOptions();case"Capital":return getCapitalTemplateOptions();case"Transactions":return getBalanceTemplateOptions();case"Treasury":return getTreasuryTemplateOptions();case"Payouts":return getPayoutsTemplateOptions();case"Products":return getProductsTemplateOptions();case"Subscription Products":return getSubscriptionProductsTemplateOptions();case"Payments":return getPaymentsTemplateOptions();case"Disputes":return getDisputesTemplateOptions();case"Tax":return getTaxRegistrationsTemplateOptions();default:throw new Error(`Unknown entry point: ${a}`)}}function useAnalyzeModalTemplateOptions(a){const{sqid:b}=Object(C.M)(),c=getTemplatesForEntryPoint(a);return Object(B.i)(null==b?void 0:b.status)?c:c.slice(0,2)}function getPrefillForTemplate(a,b){if(b&&(null==b?void 0:b.length)>0){const c=b.flatMap(a=>a.queries).find(b=>"title"in b&&b.title===a);if(c&&"sql"in c)return c.sql}return null}function getPrefillAndPlaceholderForEntryPoint(a){switch(a){case"Subscriptions":return{prefill:A.q.subscriptions,placeholder:aD.subscriptionsPlaceholder};case"Customers":return{prefill:A.q.customers,placeholder:aD.customersPlaceholder};case"Payment Links":return{prefill:A.q.paymentLinks,placeholder:aD.paymentLinksPlaceholder};case"Invoices":return{prefill:A.q.invoices,placeholder:aD.invoicesPlaceholder};case"Capital":return{prefill:A.q.capital,placeholder:aD.capitalPlaceholder};case"Transactions":return{prefill:A.q.transactions,placeholder:aD.transactionsPlaceholder};case"Treasury":return{prefill:A.q.treasury,placeholder:aD.treasuryPlaceholder};case"Payouts":return{prefill:A.q.payouts,placeholder:aD.payoutsPlaceholder};case"Disputes":return{prefill:A.q.disputes,placeholder:aD.disputesPlaceholder};case"Payments":return{prefill:A.q.payments,placeholder:aD.paymentsPlaceholder};case"Subscription Products":return{prefill:A.q.subscriptions,placeholder:aD.subscriptionProductsPlaceholder};case"Products":return{prefill:A.q.products,placeholder:aD.productsPlaceholder};case"Tax":return{prefill:A.q.tax,placeholder:aD.taxPlaceholder};default:throw new Error(`Unknown entry point: ${a}`)}}function useGetDetailsForEntrypoint(a){const b=useAnalyzeModalTemplateOptions(a),c=getPrefillAndPlaceholderForEntryPoint(a);return e()({templateOptions:b},c)}function getSubscriptionsTemplateOptions(){return[{template:D,title:aD.subscriptionsByCustomerAndQuantityTitle,description:aD.subscriptionsByCustomerAndQuantityDescription,prompt:aD.subscriptionsByCustomerAndQuantityPrompt,icon:g.a},{template:M,title:aD.totalMRRByProductTitle,description:aD.totalMRRByProductDescription,prompt:aD.totalMRRByProductPrompt,icon:h.a},{template:N,title:aD.subscriptionTrialConversionRateTitle,description:aD.subscriptionTrialConversionRateDescription,prompt:aD.subscriptionTrialConversionRatePrompt,icon:i.a}]}function getCustomersTemplateOptions(){return[{template:D,title:aD.subscriptionsByCustomerAndQuantityTitle,description:aD.subscriptionsByCustomerAndQuantityDescription,prompt:aD.subscriptionsByCustomerAndQuantityPrompt,icon:g.a},{template:E,title:aD.checkoutConversionByWeekTitle,description:aD.checkoutConversionByWeekDescription,prompt:aD.checkoutConversionByWeekPrompt,icon:j.a},{template:O,title:aD.churnedCustomersTitle,description:aD.churnedCustomersDescription,prompt:aD.churnedCustomersPrompt,icon:i.a}]}function getTreasuryTemplateOptions(){return[{template:aj,title:aD.dailyTreasuryBalanceTitle,description:aD.dailyTreasuryBalanceDescription,prompt:aD.dailyTreasuryBalancePrompt,icon:h.a},{template:ak,title:aD.connectedAccountFinancialAccountsTitle,description:aD.connectedAccountFinancialAccountsDescription,prompt:aD.connectedAccountFinancialAccountsPrompt,icon:k.a},{template:al,title:aD.outboundTransferAverageMonthlyVolumeTitle,description:aD.outboundTransferAverageMonthlyVolumeDescription,prompt:aD.outboundTransferAverageMonthlyVolumePrompt,icon:l.a}]}function getPaymentsTemplateOptions(){return[{template:av,title:aD.grossChargeVolumeByMonthTitle,description:aD.grossChargeVolumeByMonthDescription,prompt:aD.grossChargeVolumeByMonthPrompt,icon:m.a},{template:aw,title:aD.paymentCardBreakdownTitle,description:aD.paymentCardBreakdownDescription,prompt:aD.paymentCardBreakdownPrompt,icon:n.a},{template:ax,title:aD.dailyActivityTitle,description:aD.dailyActivityDescription,prompt:aD.dailyActivityPrompt,icon:h.a}]}function getBalanceTemplateOptions(){return[{template:Y,title:aD.monthlySummaryAndBalanceTitle,description:aD.monthlySummaryAndBalanceDescription,prompt:aD.monthlySummaryAndBalancePrompt,icon:g.a},{template:X,title:aD.dailyBalanceTitle,description:aD.dailyBalanceDescription,prompt:aD.dailyBalancePrompt,icon:h.a},{template:W,title:aD.itemizedBalanceChangeFromActivityReportTitle,description:aD.itemizedBalanceChangeFromActivityReportDescription,prompt:aD.itemizedBalanceChangeFromActivityReportPrompt,icon:o.a}]}function getTaxRegistrationsTemplateOptions(){return[{template:ay,title:aD.taxLiabilityByMonthTitle,description:aD.taxLiabilityByMonthDescription,prompt:aD.taxLiabilityByMonthPrompt,icon:p.a},{template:az,title:aD.taxCollectedOnPaidInvoicesByMonthTitle,description:aD.taxCollectedOnPaidInvoicesByMonthDescription,prompt:aD.taxCollectedOnPaidInvoicesByMonthPrompt,icon:q.a},{template:aA,title:aD.taxLiabilityByCustomerLocationTitle,description:aD.taxLiabilityByCustomerLocationDescription,prompt:aD.taxLiabilityByCustomerLocationPrompt,icon:r.a}]}function getPaymentLinksTemplateOptions(){return[{template:E,title:aD.checkoutConversionByWeekTitle,description:aD.checkoutConversionByWeekDescription,prompt:aD.checkoutConversionByWeekPrompt,icon:j.a},{template:F,title:aD.revenueByPaymentLinkTitle,description:aD.revenueByPaymentLinkDescription,prompt:aD.revenueByPaymentLinkPrompt,icon:s.a},{template:G,title:aD.orderFulfillmentTitle,description:aD.orderFulfillmentDescription,prompt:aD.orderFulfillmentPrompt,icon:t.a}]}function getSubscriptionProductsTemplateOptions(){return[{template:M,title:aD.totalMRRByProductTitle,description:aD.totalMRRByProductDescription,prompt:aD.totalMRRByProductPrompt,icon:h.a},{template:K,title:aD.activeSubscribersByProductTitle,description:aD.activeSubscribersByProductDescription,prompt:aD.activeSubscribersByProductPrompt,icon:u.a},{template:L,title:aD.totalSubscriptionQuantityByProductTitle,description:aD.totalSubscriptionQuantityByProductDescription,prompt:aD.totalSubscriptionQuantityByProductPrompt,icon:i.a}]}function getProductsTemplateOptions(){return[{template:at,title:aD.taxLiabilityByProductTitle,description:aD.taxLiabilityByProductDescription,prompt:aD.taxLiabilityByProductPrompt,icon:i.a},{template:au,title:aD.inventoryPlanningTitle,description:aD.inventoryPlanningDescription,prompt:aD.inventoryPlanningPrompt,icon:u.a},{template:G,title:aD.orderFulfillmentTitle,description:aD.orderFulfillmentDescription,prompt:aD.orderFulfillmentPrompt,icon:t.a}]}function getPayoutsTemplateOptions(){return[{template:an,title:aD.basicPayoutReconciliationTitle,description:aD.basicPayoutReconciliationDescription,prompt:aD.basicPayoutReconciliationPrompt,icon:v.a},{template:am,title:aD.detailedPayoutReconciliationTitle,description:aD.detailedPayoutReconciliationDescription,prompt:aD.detailedPayoutReconciliationPrompt,icon:w.a},{template:ao,title:aD.itemizedPayoutsReportTitle,description:aD.itemizedPayoutsReportDescription,prompt:aD.itemizedPayoutsReportPrompt,icon:o.a}]}function getInvoicesTemplateOptions(){return[{template:T,title:aD.overdueInvoiceDetailsTitle,description:aD.overdueInvoiceDetailsDescription,prompt:aD.overdueInvoiceDetailsPrompt,icon:j.a},{template:U,title:aD.topCustomersByAmountInvoicedTitle,description:aD.topCustomersByAmountInvoicedDescription,prompt:aD.topCustomersByAmountInvoicedPrompt,icon:x.a},{template:V,title:aD.invoiceRevenueTitle,description:aD.invoiceRevenueDescription,prompt:aD.invoiceRevenuePrompt,icon:n.a}]}function getCapitalTemplateOptions(){return[{template:ag,title:aD.recentlyPaidOutFinancingOffersTitle,description:aD.recentlyPaidOutFinancingOffersDescription,prompt:aD.recentlyPaidOutFinancingOffersPrompt,icon:v.a},{template:ah,title:aD.averageAcceptedOfferSizeTitle,description:aD.averageAcceptedOfferSizeDescription,prompt:aD.averageAcceptedOfferSizePrompt,icon:h.a},{template:ai,title:aD.revenueShareEarnedPerMonthTitle,description:aD.revenueShareEarnedPerMonthDescription,prompt:aD.revenueShareEarnedPerMonthPrompt,icon:y.a}]}function getDisputesTemplateOptions(){return[{template:ar,title:aD.disputedChargesTitle,description:aD.disputedChargesDescription,prompt:aD.disputedChargesPrompt,icon:z.a},{template:as,title:aD.disputesSummaryTitle,description:aD.disputesSummaryDescription,prompt:aD.disputesSummaryPrompt,icon:o.a},{template:ao,title:aD.itemizedPayoutsReportTitle,description:aD.itemizedPayoutsReportDescription,prompt:aD.itemizedPayoutsReportPrompt,icon:v.a}]}function getMRRTemplate(){return H}function getMRRDailyRollForwardTemplate(){return I}function getActiveSubscribersTemplate(){return J}function getChurnedRevenueTemplate(){return P}function getActiveSubscribersGrowthTemplate(){return Q}function getNewSubscribersTemplate(){return R}function getChurnedSubscribersTemplate(){return S}function isEntitlementView(a,b){return"fromTemplateQueryTitle"===a&&aB.includes(b)||"fromQueryId"===a&&aC.includes(b)}},aAzf:function(a,b,c){"use strict";c.d(b,"a",function(){return CustomerEmailCellContent});var d=c("0qsp"),e=c("FYRY");const CustomerEmailCellContent=a=>{let{invoice:b}=a;return b.customer_email?d.createElement(d.Fragment,null,b.customer_email):d.createElement(e.a,null)}},aW18:function(a,b,c){"use strict";c.d(b,"a",function(){return h}),c.d(b,"b",function(){return setCreateInvoiceToast});var d=c("0qsp"),e=c("Vavk"),f=c("K+RN"),g=c("szBP");const h=Object(e.a)({duplicating:{id:"invoices.duplicate.duplicating",defaultMessage:"Duplicating..."},duplicateDefaultError:{id:"invoices.duplicate.defaultError",defaultMessage:"Failed to duplicate invoice"},duplicateSuccess:{id:"invoices.duplicate.success",defaultMessage:"Invoice duplicated"},revising:{id:"invoices.revise.revising",defaultMessage:"Creating revision..."},reviseDefaultError:{id:"invoices.revise.defaultError",defaultMessage:"Failed to create revision"},reviseSuccess:{id:"invoices.revise.success",defaultMessage:"Revision created"}});function setCreateInvoiceToast(a){const{status:b,addToast:c,removeToast:e,message:i,type:j}=a,k={duplicate:{create:h.duplicating,error:h.duplicateDefaultError,success:h.duplicateSuccess},revise:{create:h.revising,error:h.reviseDefaultError,success:h.reviseSuccess}};if("initial"===b&&e)e("CreateInvoiceLoadingToast");else if(("duplicating"===b||"revising"===b)&&c)c({id:"CreateInvoiceLoadingToast",type:"GENERIC_TOAST",timeOnScreen:"static",data:{message:d.createElement(f.a,k[j].create),pending:!0}});else if("error"===b&&c&&e){const l=i||d.createElement(f.a,k[j].error);e("CreateInvoiceLoadingToast"),c({id:"CreateInvoiceLoadingToast",type:"GENERIC_TOAST",timeOnScreen:"long",data:{message:l,icon:"cross",color:"red"}})}else"success"===b&&c?c({id:"CreateInvoiceSuccessToast",type:"GENERIC_TOAST",timeOnScreen:"long",data:{message:d.createElement(f.a,k[j].success),icon:"checkmark",color:"green"}}):Object(g.T)("Please provide a valid redux action to dispatch the CreateInvoiceToast to the ToastContainer.","invoices",{extra:{status:b,type:j}},{noTrace:!0})}},aWD3:function(a,b,c){"use strict";c.d(b,"a",function(){return FilterContentTab});var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("KxJw"),j=c("AovY");const k=["tabCount"],FilterContentTabs=a=>h.createElement(i.d,a),FilterContentTab=a=>{let{tabCount:b}=a,c=g()(a,k);return h.createElement(i.a,e()({},c,{tabCount:b}))};FilterContentTab.defaultProps=j.a.defaultProps,b.b=FilterContentTabs},aa4u:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("Jtrw"),i=c("U3eF"),j=c("mXS+"),k=c("x4mR"),l=c("Ao24"),m=c("hGji");function getCard(a){return"card"===a.object?a:("payment_method"===a.object||"source"===a.object)&&"card"===a.type&&a.card?a.card:void 0}const PaymentInstrumentItem=a=>{let{paymentInstrument:b,width:c,showExpiry:d=!0,style:n={justifyContent:"space-between",flexWrap:"wrap",textAlign:"left"}}=a;const o={width:c,style:n},p=getCard(b);if(p)return f.createElement(h.a,e()({card:p,showExpiry:d},o));switch(b.object){case"bank_account":return f.createElement(i.a,e()({bankAccount:b},o));case"alipay_account":return f.createElement(k.a,e()({alipayAccount:b},o));case"source":return f.createElement(j.a,e()({source:b},o));case"customer_balance":return f.createElement(l.a,{customerBalance:b});case"payment_method":return f.createElement(m.a,e()({paymentMethod:b},o));default:return f.createElement(g.default,{style:{height:"28px"}})}};b.a=PaymentInstrumentItem},akKQ:function(a,b,c){"use strict";const d={"ALLY BANK":"Ally Bank","RESMOR TRUST COMPANY":"Ally Bank","AMERICA FIRST FEDERAL CREDIT UNION":"America First Federal Credit Union","AMERICAN EXPRESS BANK FSB":"American Express","AMERICAN EXPRESS BK INTL MIAMI BR":"American Express","AMERICAN EXPRESS CENTURION BANK":"American Express","ARVEST BANK":"Arvest Bank","ARVEST BANK-FAYETTEVILLE":"Arvest Bank","ARVEST BANK-HUNTSVILLE":"Arvest Bank","ARVEST BANK-SILOAM SPRINGS":"Arvest Bank","ARVEST BANK-SPRINGDALE":"Arvest Bank","ARVEST BANK- PRAIRIE GROVE":"Arvest Bank","ARVEST BANK BENTONVILLE":"Arvest Bank","ARVEST BANK FT SMITH":"Arvest Bank","ARVEST BANK SHAWNEE":"Arvest Bank","ARVEST BANK - BENTONVILLE":"Arvest Bank","ARVEST BANK - ROGERS":"Arvest Bank","ARVEST BANK, DEL CITY BRANCH":"Arvest Bank","ARVEST BANK, YELLVILLE BRANCH":"Arvest Bank","ARVEST CENTRAL BANK":"Arvest Bank","ASSOCIATED BANK GREEN BAY":"Associated Bank","BANK OF AMERICA":"Bank of America","BANK OF AMERICA N.A.":"Bank of America","BANK OF AMERICA N.A., PA":"Bank of America","BANK OF AMERICA NA":"Bank of America","BANK OF AMERICA NW N.A.- IDAHO":"Bank of America","BANK OF AMERICA N A":"Bank of America","BANK OF AMERICA, N.A.":"Bank of America","BANK OF AMERICA, N.A. (SFNB)":"Bank of America","BANK OF AMERICA, N.A. - ARIZONA":"Bank of America","BANK OF AMERICA, N.A.- NEVADA":"Bank of America","BANK OF AMERICA, N.A. - OREGON":"Bank of America","BANK OF AMERICA, NA":"Bank of America","BANK OF AMERICA, NATIONAL ASSOCIATION":"Bank of America","BANK OF AMERICA - COMMERCIAL CREDIT":"Bank of America","BANK OF AMERICA - CONSUMER CREDIT":"Bank of America","BANK OF AMERICA EUROPE DAC":"Bank of America","BANK OF AMERICA, N.A. - MERRILL LYNCH":"Bank of America","BANK OF AMERICA, NATIONAL ASSO":"Bank of America","BANK OF HAWAII":"Bank of Hawaii","BANK OF HAWAII AMERICAN SAMOA":"Bank of Hawaii","BANK OF HAWAII GUAM":"Bank of Hawaii","BANK OF HAWAII TRUST":"Bank of Hawaii","BOFI FEDERAL BANK":"Bank of Internet","BANK OF IRELAND":"Bank of Ireland","BANK OF MONTREAL":"Bank of Montreal","BANK OF THE WEST":"Bank of the West","BB&T - GA":"BB&T","BRANCH BANKING & TRUST COMPANY":"BB&T","BRANCH BANKING & TRUST COMPANY-WVA":"BB&T","BRANCH BANKING AND TRUST CO":"BB&T","BRANCH BANKING AND TRUST COMPANY":"BB&T","BRANCH BANK AND TRUST-MARYLAND":"BB&T","BRANCH BANK AND TRUST-WASHINGTON":"BB&T","B B & T - KY":"BB&T","BBVA BANCOMER, S.A.":"BBVA Bancomer","BBVA COMPASS BANK":"BBVA Compass","COMPASS BANK":"BBVA Compass","BMO HARRIS BANK NA":"BMO Harris Bank","BMO HARRIS BANK N.A":"BMO Harris Bank","BMO HARRIS BANK,N.A.":"BMO Harris Bank","BMO HARRIS BANK, N.A":"BMO Harris Bank","BMO HARRIS BANK, N.A.":"BMO Harris Bank","BOEING EMPLOYEES CREDIT UNION":"Boeing Employees' Credit Union","BOKF, N.A.":"BOK Financial","CANADIAN IMPERIAL BANK OF COMMERCE":"Canadian Imperial Bank of Commerce","CAPITAL ONE N.A.":"Capital One Bank","CAPITAL ONE, N.A.":"Capital One Bank","CAPITAL ONE, NA":"Capital One Bank","CAPITAL ONE, NATIONAL ASSOCIATION":"Capital One Bank","CAPITAL ONE BANK (USA), N.A.":"Capital One Bank","CHARLES SCHWAB BANK":"Charles Schwab Bank","JPMORGAN CHASE":"CHASE Bank","JPMORGAN CHASE BANK":"CHASE Bank","JPMORGAN CHASE BANK NA":"CHASE Bank","JPMORGAN CHASE BANK N.A.":"CHASE Bank","JPMORGAN CHASE BANK, NA":"CHASE Bank","JPMORGAN CHASE BANK, N.A.":"CHASE Bank","JP MORGAN CHASE":"CHASE Bank","JP MORGAN CHASE BANK":"CHASE Bank","JP MORGAN CHASE BANK, N.A.":"CHASE Bank","JP MORGAN ELECTRONIC FIN. SERVICES":"CHASE Bank","J P MORGAN CHASE BANK, N.A.":"CHASE Bank","J.P. MORGAN CHASE BANK, N.A.":"CHASE Bank",CITIBANK:"Citibank","CITIBANK-NEW YORK STATE":"Citibank","CITIBANK A FED SAV BK":"Citibank","CITIBANK FEDERAL SAVINGS BANK":"Citibank","CITIBANK FSB":"Citibank","CITIBANK MARYLAND, N.A.":"Citibank","CITIBANK NA":"Citibank","CITIBANK NYS":"Citibank","CITIBANK N.A.":"Citibank","CITIBANK F S B":"Citibank","CITIBANK F S B(GLEN ELLYN SAVINGS)":"Citibank","CITIBANK TEXAS, NATIONAL ASSOCIATION":"Citibank","CITIBANK WEST":"Citibank","CITIBANK (BANAMEX USA)":"Citibank","CITIBANK (SOUTH DAKOTA) NA":"Citibank","CITIBANK - GUAM":"Citibank","CITIBANK - NEW YORK STATE":"Citibank","CITIBANK /FLORIDA/BR":"Citibank","CITIBANK, NA":"Citibank","CITIBANK, PUERTO RICO":"Citibank","CITIBANK, WEST":"Citibank","CITIZENS BANK":"Citizens Bank","RBS CITIZENS, NATIONAL ASSOCIATION":"Citizens Bank","CITY NATIONAL BANK":"City National Bank","COAST CAPITAL SAVINGS CREDIT UNION":"Coast Capital Savings Credit Union","COMERICA BANK CALIFORNIA":"Comerica Bank","COMMERCE BANK":"Commerce Bank","E*TRADE SECURITIES":"E*TRADE Bank","E TRADE BANK":"E*TRADE Bank","EASTERN BANK":"Eastern Bank","EVOLVE BANK & TRUST":"Evolve Bank & Trust","EVOLVE BANK AND TRUST":"Evolve Bank & Trust","FIFTH THIRD BANK":"Fifth Third Bank",FIRSTBANK:"FirstBank","FIRST BANK & TRUST":"First Bank & Trust","FIRST CENTURY BANK, INC.":"First Century Bank","FIRST CENTURY BANK, N.A.":"First Century Bank","FIRST CITIZENS BANK & TRUST COMPANY":"First Citizens Bank & Trust Company","FIRST HAWAIIAN BANK":"First Hawaiian Bank","FIRST HAWAIIAN BANK GUAM":"First Hawaiian Bank","FIRST HAWAIIAN BANK SAIPAN":"First Hawaiian Bank","FIRST NATIONAL BANK OF OMAHA":"First National Bank of Omaha","FIRST NIAGARA BANK":"First Niagara Bank","FIRST NIAGARA BANK, NA":"First Niagara Bank","FIRST NIAGRA BANK":"First Niagara Bank","FIRST REPUBLIC BANK":"First Republic Bank","FIRST TECHNOLOGY FCU":"First Technology FCU","FIRST TENNESSEE BANK":"First Tennessee Bank","FROST BANK":"Frost Bank","GE CAPITAL RETAIL BANK":"GE Capital Bank","THE GOLDEN 1 CREDIT UNION":"Golden 1 Credit Union","GOLDMAN SACHS":"Goldman Sachs","GOLDMAN SACHS & CO.":"Goldman Sachs","GOLDMAN SACHS BANK USA":"Goldman Sachs","GREEN DOT BANK":"Green Dot","HSBC BANK CANADA":"HSBC","HSBC BANK USA - CALIFORNIA":"HSBC","HSBC BANK USA-PHILA":"HSBC","HSBC BANK USA-PORTLAND":"HSBC","HSBC BANK USA-POUGHKEEPSIE":"HSBC","HSBC BANK USA-SEATTLE":"HSBC","HSBC BANK USA, NA":"HSBC","HSBC BANK USA, N.A.":"HSBC","HSBC BANK, USA":"HSBC","HSBC NATIONAL BANK USA":"HSBC","HSBC PRIVATE BANK INTERNATIONAL":"HSBC","HSBC TRUST COMPANY DELAWARE N.A.":"HSBC","HUNTINGTON NATIONAL BANK":"Huntington National Bank","ING BANK OF CANADA":"Tangerine","ING BANK NV,SPANISH BRANCH (DIRECT)":"ING","KEY BANK NATIONAL ASSOCIATION":"KeyBank","M & T BANK":"M&T Bank",METABANK:"MetaBank","MOUNTAIN AMERICA FCU":"Mountain America FCU","NATIONAL BANK OF CANADA":"National Bank of Canada","NAVY FEDERAL CREDIT UNION":"Navy Federal Credit Union","ONPOINT COMMUNITY CREDIT UNION":"OnPoint Community Credit Union","PACIFIC WESTERN BANK":"Pacific Western Bank","PATELCO CREDIT UNION":"Patelco Credit Union","PEOPLE'S UNITED BANK":"People's United Bank","PNCBANK, NA":"PNC Bank","PNCBANK, NATIONAL ASSOCIATION":"PNC Bank","PNCBANK, N.A.":"PNC Bank","PNC BANK":"PNC Bank","PNC BANK ACH SERVICES":"PNC Bank","PNC BANK INC. - BALTIMORE":"PNC Bank","PNC BANK NA - BALTIMORE":"PNC Bank","PNC BANK NA INC. - BALTIMORE":"PNC Bank","PNC BANK NA, - BALTIMORE":"PNC Bank","PNC BANK NEWARK":"PNC Bank","PNC BANK - BALTIMORE":"PNC Bank","PNC BANK, INDIANA":"PNC Bank","PNC BANK, KENTUCKY":"PNC Bank","PNC BANK, KENTUCKY, INC.":"PNC Bank","PNC BANK, MICHIGAN":"PNC Bank","PNC BANK, NA":"PNC Bank","PNC BANK, NATIONAL ASSOCIATION":"PNC Bank","PNC BANK, NA - BALTIMORE":"PNC Bank","PNC BANK, NEW JERSEY":"PNC Bank","PNC BANK, OHIO":"PNC Bank","PNC BANK, N.A.":"PNC Bank","PNC BANK, PA":"PNC Bank","RANDOLPH BROOKS FCU":"Randolph-Brooks Federal Credit Union","REDWOOD CREDIT UNION":"Redwood Credit Union","REGIONS BANK":"Regions Bank","ROYAL BANK OF CANADA":"Royal Bank of Canada","SAN FRANCISCO FIRE CREDIT UNION":"San Francisco Fire Credit Union","SANTANDER BANK":"Santander Bank","SANTANDER BANK, N.A.":"Santander Bank","SCHOOLSFIRST FEDERAL CREDIT UNION":"SchoolsFirst Federal Credit Union","THE BANK OF NOVA SCOTIA":"Scotiabank","SILICON VALLEY BANK":"Silicon Valley Bank","STATE EMPLOYEES CREDIT UNION":"State Employees Credit Union","STRIPE OPAL":"Stripe Opal","SUNTRUST BANK":"SunTrust","SUNTRUST BANK, ATLANTA,GA":"SunTrust","SUNTRUST BK CENTRAL FL":"SunTrust","SUNTRUST SERVICE CORPORATION":"SunTrust","TRUIST BANK":"Truist Bank","TCF NATIONAL BANK ILLINOIS":"TCF National Bank","TCF NATIONAL BANK MN":"TCF National Bank","TD BANK NA":"TD Bank","TD BANK NA (PC)":"TD Bank","TD BANK N.A.":"TD Bank","TD BANK USA, NA":"TD Bank","TD BANK USA, N.A.":"TD Bank","TD BANK, NA":"TD Bank","TD BANK, N.A.":"TD Bank","TORONTO DOMINION BK":"TD Bank","THE TORONTO-DOMINION BANK":"TD Bank","THEBANCORP.COM BANK":"The Bancorp Bank","THE BANCORP.COM":"The Bancorp Bank","THE BANCORP BANK":"The Bancorp Bank","US BANK":"U.S. Bank","US BANK NA":"U.S. Bank","US BANK NA (LAMORINDA NB)":"U.S. Bank","US BANK, NA":"U.S. Bank","U.S. BANK":"U.S. Bank","U.S. BANK NA":"U.S. Bank","US BANK NATIONAL ASSOCIATION":"U.S. Bank","U.S. BANK NATIONAL ASSOCIATION":"U.S. Bank","UMB, NA":"UMB","UMPQUA BANK":"Umpqua Bank","UNION BANK NA":"Union Bank","UNIVERSITY FEDERAL CREDIT UNION":"University Federal Credit Union","USAA FEDERAL SAVINGS BANK":"USAA Bank","VANCOUVER CITY SAVINGS CREDIT UNION":"Vancity","WELLS FARGO":"Wells Fargo Bank","WELLS FARGO AND COMPANY":"Wells Fargo Bank","WELLS FARGO BANK":"Wells Fargo Bank","WELLS FARGO BANK BANK NA":"Wells Fargo Bank","WELLS FARGO BANK MINNESOTA, N.A.":"Wells Fargo Bank","WELLS FARGO BANK NA":"Wells Fargo Bank","WELLS FARGO BANK NA (ARIZONA)":"Wells Fargo Bank","WELLS FARGO BANK NA (MICHIGAN)":"Wells Fargo Bank","WELLS FARGO BANK NA (MINNESOTA)":"Wells Fargo Bank","WELLS FARGO BANK NA (NEVADA)":"Wells Fargo Bank","WELLS FARGO BANK NA ( NEW MEXICO)":"Wells Fargo Bank","WELLS FARGO BANK NA (NORTH DAKOTA)":"Wells Fargo Bank","WELLS FARGO BANK NA (NORTHWEST)":"Wells Fargo Bank","WELLS FARGO BANK NA (SOUTH DAKOTA)":"Wells Fargo Bank","WELLS FARGO BANK N.A.":"Wells Fargo Bank","WELLS FARGO BANK (COLORADO) N A":"Wells Fargo Bank","WELLS FARGO BANK (FST SECURITY)":"Wells Fargo Bank","WELLS FARGO BANK -MOORHEAD OFFICE":"Wells Fargo Bank","WELLS FARGO BANK ,N.A.":"Wells Fargo Bank","WELLS FARGO BANK, NA":"Wells Fargo Bank","WELLS FARGO BANK, NA (PACIFIC NW)":"Wells Fargo Bank","WELLS FARGO BANK, N.A.":"Wells Fargo Bank","WELLS FARGO BK NA ILLINOIS":"Wells Fargo Bank","WELLS FARGO BK NA IOWA":"Wells Fargo Bank","WELLS FARGO BK NA WISCONSIN":"Wells Fargo Bank","WELLS FARGO BK N.A. INDIANA":"Wells Fargo Bank","WELLS FARGO NATL BANK S CENTRAL NA":"Wells Fargo Bank","WELLS FARGO, NA (PACIFIC NW)":"Wells Fargo Bank","WEX BANK":"WEX Bank","WOODFOREST NATIONAL BANK":"Woodforest National Bank","ZIONS FIRST NATIONAL BANK":"Zions Bank"};b.a=d},ap0i:function(a,b,c){"use strict";c.d(b,"a",function(){return useReviseInvoiceMutation});var d=c("GhF0"),e=c("bPOr");const f=e.a`
            mutation ReviseInvoiceMutation($input:OpenapiPostV1InvoicesInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"d09aa568f2"){v1Invoices(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["id" "secret"]fragments:[]nodeLookupMap:[{nodes:["id" "secret"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiInvoice" method:"POST" pathBuilder:$pathBuilder runtimePath:"/v1/invoices" queryName:"v1Invoices" bodyBuilder:$bodyBuilder){id secret}}
          `,g=f,h={expectedErrors:["api_error","invoice_for_subscription_unrevisable","invoice_revision_already_exists","invoice_not_revisable_uncancelled_payments","invoice_revision_history_too_large","invoice_revision_payment_intent_processing","invoice_revision_unfinalizable","invoice_with_credit_notes_not_revisable","invoice_with_deleted_customer_non_revisable"],onError(a){throw a}};function useReviseInvoiceMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},bHmK:function(a,b,c){"use strict";c.d(b,"a",function(){return useCustomColumnsMutation});var d=c("8OBj"),e=c.n(d),f=c("bPOr"),g=c("GhF0"),h=c("+r1J");const i=f.a`
            mutation CustomColumnsMutation($input:OpenapiPostAjaxUpdateModuleStateV2Input$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"96885a9471"){ajaxUpdateModuleStateV2(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["id"]fragments:[{name:"CustomColumnsFragment" paths:[""]}]nodeLookupMap:[{nodes:["id"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiBentoState" method:"POST" pathBuilder:$pathBuilder runtimePath:"/ajax/update_module_state_v2" queryName:"ajaxUpdateModuleStateV2" bodyBuilder:$bodyBuilder){id ...CustomColumnsFragment}}
          ${h.a}
`,j=i,k={};function useCustomColumnsMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(g.a)(j,Object.assign({},k,a))}const l=e()({},h.a.permissions);i.permissions=l},c2RQ:function(a,b,c){"use strict";c.d(b,"a",function(){return useGetTestClockByIdQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query GetTestClockByIdQuery($testClockId:String!$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"636046db6e"){v1TestHelpersTestClocksTestClock(input:{test_clock:$testClockId}v1Context:$v1Context)@params(expand:["max_advance_time"]includeOnly:["id" "frozen_time" "name" "status" "created" "max_advance_time"]fragments:[]nodeLookupMap:[{nodes:["id" "frozen_time" "name" "status" "created" "max_advance_time"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiTestClock" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/test_helpers/test_clocks/:test_clock" queryName:"v1TestHelpersTestClocksTestClock"){id frozen_time name status created max_advance_time}}
          `,g=f,h={expectedErrors:["resource_missing"]};function useGetTestClockByIdQuery(a){return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},cb9J:function(a,b,c){"use strict";c.d(b,"a",function(){return DownloaderToast});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("5WME"),h=c("Vavk"),i=c("K+RN");const j=Object(h.a)({preparing:{id:"downloader.preparing",defaultMessage:"Preparing to download {filename}"},error:{id:"downloader.error",defaultMessage:"Failed to prepare {filename}"}});function DownloaderToast(a){let{status:b,downloadSpecs:c}=a;return"initial"===b||null==c?null:"preparing"===b?f.createElement(g.c,{pending:!0},c.preparingMessage||f.createElement(i.a,e()({},j.preparing,{values:{filename:c.filename}}))):"error"===b?f.createElement(g.c,{icon:"cross",color:"red"},c.errorMessage||f.createElement(i.a,e()({},j.error,{values:{filename:c.filename}}))):null}},clGC:function(a,b,c){"use strict";const d="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);b.a={randomUUID:d}},"d/2O":function(a,b,c){"use strict";c.d(b,"a",function(){return CustomerMetadataCellContent});var d=c("0qsp"),e=c("FYRY");const CustomerMetadataCellContent=a=>{var b,c;let{invoice:f,metadataField:g}=a;return null!==(b=f.customer_metadata)&& void 0!==b&&b[g]?d.createElement(d.Fragment,null,null===(c=f.customer_metadata)|| void 0===c?void 0:c[g]):d.createElement(e.a,null)}},de4r:function(a,b,c){"use strict";var d=c("0qsp"),e=c("nPYo"),f=c("FfI9"),g=c("HOsA"),h=c("dJ5Y"),i=c("RU97"),j=c("7Hnw"),k=c("lbsd"),l=c("AZzO"),m=c("zxZq"),n=c("Ib3m"),o=c("jLSj"),p=c("RVZe"),q=c("UdBX"),r=c("aA7Y"),s=c("afBP"),t=c("U2Da"),u=c("Wfl3"),v=c("xhKK"),w=c("K+RN");const x={suggested:Object(s.a)({id:"sigma.analyze_with_ai.suggested",defaultMessage:"Suggested"}),askAIAssistant:Object(s.a)({id:"sigma.analyze_with_ai.ask_ai_assistant",defaultMessage:"Ask Assistant"}),send:Object(s.a)({id:"sigma.analyze_with_ai.cta",defaultMessage:"Send and view in Sigma"}),modalHeader:Object(s.a)({id:"sigma.analyze_with_ai.header",defaultMessage:"Analyze {entryPointTitle} data with Sigma"}),prefillAssistantTitle:Object(s.a)({id:"sigma.analyze_with_ai.prefill_title",defaultMessage:"{entryPointTitle} report"}),modalDescription:Object(s.a)({id:"sigma.analyze_with_ai.description.updated",defaultMessage:"Use the Sigma Assistant to analyze your {entryPointTitle} data and build custom reports."})},SigmaAnalyzeModal=a=>{let{onClose:b,originId:c,entryPointTitle:s}=a;const y=Object(u.a)(),z=Object(t.a)(),[A,B]=Object(d.useState)(""),[C,D]=Object(m.a)(),{placeholder:E,templateOptions:F}=Object(r.kb)(s);Object(d.useEffect)(()=>{y.viewed("sigma_analyze_with_ai_modal_open",{additional_analytics:{modal:s}})},[y,s]);const G=Object(d.useCallback)(a=>y.action("sigma_analyze_with_ai_modal_message_send",{additional_analytics:{modal:s,message:a}}),[y,s]),H=Object(d.useCallback)(a=>y.action("sigma_analyze_with_ai_modal_option",{additional_analytics:{modal:s,template_name:a}}),[y,s]),I=Object(d.useCallback)(a=>{B(a.target.value)},[B]),J=Object(d.useCallback)(a=>Object(n.a)({name:"SIGMA_QUERIES_TEMPLATES_DETAIL",params:{title:a},search:{originId:c,autorun:v.w.userSelected}}),[c]),K=Object(d.useCallback)(a=>Object(n.a)({name:"SIGMA_QUERIES",search:{autorunAssistant:a,prefillTitle:z.formatMessage(x.prefillAssistantTitle,{entryPointTitle:s}),originId:c}}),[s,z,c]),L=Object(d.useCallback)(a=>{D(K(a))},[K,D]),M=Object(d.useCallback)(a=>{"Enter"===a.key&&A.trim()&&L(A)},[L,A]);if(!F)throw new Error(`Invalid entry point title: ${s}`);const renderOptions=()=>d.createElement(e.a.div,{css:{stack:"y",gap:"small",marginBottom:"small"}},d.createElement(e.a.p,{css:{font:"body.small.emphasized"}},z.formatMessage(x.suggested)),F.map(a=>d.createElement(d.Fragment,null,a.prompt.defaultMessage&&d.createElement(e.a.div,{css:{stack:"x",gap:"small",alignY:"center"}},d.createElement(f.a,{href:J(a.template),onPress(){H(a.template)}},d.createElement(w.a,a.prompt)),d.createElement(g.c,{icon:o.a,css:{fill:h.a.color.hue.purple[500]},size:"xsmall"})))));return d.createElement(i.a,{onClose:b,footer:d.createElement(j.a,{type:"primary",href:K(A),disabled:!A.trim(),onPress(){G(A)}},z.formatMessage(x.send)),size:"medium"},d.createElement(e.a.div,{css:{padding:"small",stack:"y",gap:"medium"}},d.createElement(e.a.div,{css:{gap:"small",stack:"x"}},d.createElement(e.a.div,{css:{width:"95%"}},d.createElement(e.a.p,{css:{font:"body.large.emphasized"}},z.formatMessage(x.modalHeader,{entryPointTitle:s})),d.createElement(e.a.p,{css:{font:"body.small"}},z.formatMessage(x.modalDescription,{entryPointTitle:s}))),d.createElement(k.a,{"data-db-analytics-name":"sigma_analyze_modal_back_button","aria-label":"Close",onPress:b,css:{alignSelfY:"top",marginLeft:"small"}},d.createElement(g.c,{icon:p.a,size:"xsmall"}))),d.createElement(e.a.div,null,d.createElement(e.a.div,{css:{stack:"x",gap:"small",alignY:"center",alignX:"start"}},d.createElement(g.c,{icon:q.a,size:"small"}),d.createElement(e.a.p,{css:{font:"body.medium.emphasized"}},z.formatMessage(x.askAIAssistant))),d.createElement(l.c,{size:"large",css:{padding:"xsmall",paddingY:"space.75",width:"fill",backgroundColor:"offset"},label:z.formatMessage(x.askAIAssistant),hiddenElements:["label"],placeholder:E.defaultMessage,autoFocus:!0,value:A,onChange:I,onKeyDown:M,autoComplete:"off"})),renderOptions()))};b.a=SigmaAnalyzeModal},dnHD:function(a,b,c){"use strict";c.d(b,"a",function(){return d}),c.d(b,"b",function(){return calculateAmountAvailableInSource}),c.d(b,"g",function(){return isExpiredCard}),c.d(b,"c",function(){return getExpirationDate}),c.d(b,"f",function(){return isExpired}),c.d(b,"d",function(){return isChargeable}),c.d(b,"h",function(){return isNonCard}),c.d(b,"e",function(){return isDirectDebit});const d=["chargeable"],e=Object.freeze({NONE:"none",UNVERIFIED_BANK_ACCOUNT:"unverified_bank_account",OTHER:"other"}),calculateAmountAvailableInSource=a=>{if(!a.receiver)return 0;const b=a.receiver.amount_received,c=a.receiver.amount_returned,d=a.receiver.amount_charged;return Math.max(0,b-c-d)},isExpiredCard=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date;return!("4242"===a.last4&&12===a.exp_month&&2018===a.exp_year||a.exp_year>b.getUTCFullYear())&&!!(a.exp_year<b.getUTCFullYear()||a.exp_month<=b.getUTCMonth())},getExpirationDate=a=>{if("card"===a.object)return{month:a.exp_month,year:a.exp_year};if("payment_method"===a.object||"source"===a.object){var b,c;return{month:null===(b=a.card)|| void 0===b?void 0:b.exp_month,year:null===(c=a.card)|| void 0===c?void 0:c.exp_year}}return{month:null,year:null}},isExpired=function(a){return arguments.length>1&& void 0!==arguments[1]&&arguments[1],(!("deleted"in a)||!a.deleted)&&("card"===a.object?isExpiredCard(a):"payment_method"===a.object&&!!a.card&&isExpiredCard(a.card))},internalChargeableStatus=a=>{if("source"===a.object){if(!d.includes(a.status)||"receiver"===a.flow&&0>=calculateAmountAvailableInSource(a))return e.OTHER}else if("bank_account"===a.object){if("verified"!==a.status)return e.UNVERIFIED_BANK_ACCOUNT}else if("payment_method"===a.object&&!a.billing_eligible)return e.OTHER;return e.NONE},chargeableStatus=a=>{const b={object:a.object,status:"status"in a?a.status:"",flow:"flow"in a?a.flow:"",billing_eligible:"billing_eligible"in a?a.billing_eligible:null,receiver:"receiver"in a&&null!=a.receiver?{amount_charged:a.receiver.amount_charged,amount_received:a.receiver.amount_received,amount_returned:a.receiver.amount_returned}:null};return internalChargeableStatus(b)},isChargeable=a=>chargeableStatus(a)===e.NONE,isNonCard=a=>"card"!==a.object&&!("type"in a&&"card"===a.type),isDirectDebit=a=>{if(!("type"in a))return!1;const b=["acss_debit","bacs_debit","au_becs_debit","sepa_debit","us_bank_account","nz_bank_account"];return b.includes(a.type)}},ftEX:function(a,b,c){"use strict";c.r(b),c.d(b,"default",function(){return DashboardBentoInvoicesTableModule});var d=c("0qsp"),e=c("ioxi"),f=c("K0c4");function DashboardBentoInvoicesTableModule(a){let{shouldRenderPageNotice:b}=a;return d.createElement(f.a,{project:"bmx"},d.createElement(e.a,{shouldRenderPageNotice:b}))}},gH10:function(a,b,c){"use strict";var d=c("2+7o"),e=c("a5Zs");b.a=Object(e.f)(d.b)},hGji:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("Al4q"),i=c("b/fh"),j=c("HOsA"),k=c("jH2U"),l=c("6WTW"),m=c("GHBg"),n=c("IKpl"),o=c("bHWS");const DirectDebitPaymentMethodItem=a=>{let{paymentMethod:b,style:c,showType:d=!1}=a;return f.createElement(h.default,{direction:"horizontal",spacing:12,style:c},f.createElement(h.default,{direction:"horizontal",spacing:12},f.createElement(g.default,{flex:{alignItems:"center"},style:{height:"100%"}},f.createElement(j.a,{icon:Object(k.g)(b),size:"medium"})),b.acss_debit&&b.acss_debit.bank_name&&f.createElement(g.default,{style:{width:"250px"}},f.createElement(i.default,null,b.acss_debit.bank_name)),b.sepa_debit&&b.sepa_debit.bank_code&&f.createElement(g.default,{style:{width:"50px"}},f.createElement(i.default,null,b.sepa_debit.bank_code)),b.nz_bank_account&&b.nz_bank_account.bank_name&&f.createElement(g.default,null,f.createElement(i.default,null,b.nz_bank_account.bank_name)),b.us_bank_account&&b.us_bank_account.bank_name&&f.createElement(g.default,{style:{maxWidth:"250px"}},f.createElement(i.default,null,b.us_bank_account.bank_name)),d&&f.createElement(g.default,null,f.createElement(i.default,null,Object(l.c)(b.type))),f.createElement(g.default,null,Object(k.m)(b,{project:"payins_dashboard"}))))},GenericPaymentMethodItem=a=>{let{paymentMethod:b,width:c,style:d}=a,e=70,j=120;return c&&c>330&&(e=140,j=150),f.createElement(h.default,{direction:"horizontal",spacing:12,style:d},f.createElement(g.default,{style:{width:`${e}px`}},f.createElement(i.default,null,Object(l.c)(b.type))),f.createElement(g.default,{style:{width:`${j}px`},flex:{direction:"row-reverse"}},f.createElement(i.default,null,b.id)))},BoletoPaymentMethodItem=a=>{var b;let{paymentMethod:c,width:d,style:e}=a,j=50,k=140;return d&&d>330&&(j=110,k=170),f.createElement(h.default,{direction:"horizontal",spacing:12,style:e},f.createElement(g.default,{style:{width:`${j}px`}},f.createElement(i.default,null,Object(l.c)(c.type))),f.createElement(g.default,{style:{width:`${k}px`},flex:{direction:"row-reverse"}},f.createElement(i.default,null,null===(b=c.boleto)|| void 0===b?void 0:b.tax_id)))},getLinkLast4AndBrandFromDetails=a=>{if(a){if("card"===a.type&&a.card){var b,c,d,e;return f.createElement("div",{style:{display:"flex"}},(null==a?void 0:null===(b=a.card)|| void 0===b?void 0:b.last4)&&f.createElement(g.default,null,f.createElement(i.default,null,Object(n.l)(null==a?void 0:null===(c=a.card)|| void 0===c?void 0:c.last4))),(null==a?void 0:null===(d=a.card)|| void 0===d?void 0:d.brand)&&f.createElement(g.default,{style:{paddingLeft:"12px"}},f.createElement(j.a,{icon:Object(n.b)(null==a?void 0:null===(e=a.card)|| void 0===e?void 0:e.brand),size:"medium"})))}if("bank_account"===a.type){var l,m,o,p;return f.createElement("div",null,f.createElement(h.default,{direction:"horizontal",spacing:12},(null==a?void 0:null===(l=a.bank_account)|| void 0===l?void 0:l.last4)&&f.createElement(g.default,null,f.createElement(i.default,null,Object(n.l)(null==a?void 0:null===(m=a.bank_account)|| void 0===m?void 0:m.last4))),(null==a?void 0:null===(o=a.bank_account)|| void 0===o?void 0:o.bank_name)&&f.createElement(g.default,{flex:{alignItems:"center"},style:{height:"100%"}},f.createElement(j.a,{icon:Object(k.b)(null==a?void 0:null===(p=a.bank_account)|| void 0===p?void 0:p.bank_name,"bank"),size:"medium"}))))}}return null},LinkPaymentMethodItem=a=>{let{paymentMethod:b,style:c}=a;const d=Object(m.b)({paymentMethod:b});return f.createElement(h.default,{direction:"horizontal",spacing:12,style:c},f.createElement(g.default,{flex:{alignItems:"center"},style:{height:"100%"}},f.createElement(j.a,{icon:Object(k.g)(b),size:"medium"})),f.createElement(o.Text,null,Object(l.c)(b.type)),f.createElement(g.default,null,getLinkLast4AndBrandFromDetails(d)))},PaymentMethodItem=a=>{let{paymentMethod:b,width:c,style:d}=a;const g={paymentMethod:b,width:c,style:d};switch(b.type){case"bacs_debit":case"au_becs_debit":return f.createElement(DirectDebitPaymentMethodItem,e()({},g,{showType:!0}));case"acss_debit":case"sepa_debit":case"nz_bank_account":case"us_bank_account":return f.createElement(DirectDebitPaymentMethodItem,g);case"boleto":return f.createElement(BoletoPaymentMethodItem,g);case"link":return f.createElement(LinkPaymentMethodItem,g);default:return f.createElement(GenericPaymentMethodItem,g)}};b.a=PaymentMethodItem},hHYN:function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("Ktx2"),f=c("XyP4");const g={cellContent:a=>d.createElement(e.b,{amount:a.total,currency:a.currency}),id:"amount",label:f.a.amount,addon:a=>d.createElement(e.a,{currency:a.currency}),headerCellProps:{align:"right"},cellProps:{align:"right"}}},hsgQ:function(a,b,c){"use strict";var d=c("dnHD");c.d(b,"c",function(){return d.d}),c.d(b,"d",function(){return d.e}),c.d(b,"e",function(){return d.h}),c.d(b,"a",function(){return d.b});var e=c("pgyO");b.b=e.a},idnc:function(a,b,c){"use strict";c.d(b,"a",function(){return FrequencyCellContent});var d=c("0qsp"),e=c("BRMv"),f=c("nPYo"),g=c("HOsA"),h=c("t5xp"),i=c("q3Aa");const FrequencyCellContent=a=>{var b,c;let{invoice:j}=a;const k=null===(b=j.lines.data)|| void 0===b?void 0:null===(c=b.find(a=>"subscription"===a.type))|| void 0===c?void 0:c.plan;return Object(h.v)(j)?d.createElement(f.a.div,{css:{stack:"x",gap:"small",alignY:"center",textColor:"subdued",fill:"subdued",lineHeight:"20px"}},d.createElement(g.c,{icon:e.a,size:"xsmall"}),d.createElement(f.a.span,null,k&&Object(i.g)(k,!1))):null}},ioxi:function(a,b,c){"use strict";var d=c("0qsp"),e=c("nPYo"),f=c("Ib3m"),g=c("Ad9t"),h=c("UzR4"),i=c("Gj37"),j=c("7s0J"),k=c("ooi1"),l=c("Zmve"),m=c("zQ5G"),n=c("X76O");const o=d.createElement(g.a,null),InvoicesTableModule=a=>{var b;let{shouldRenderPageNotice:c=!0}=a;const g=Object(j.d)(),p=Object(j.b)(),{refetch:q}=g,{refetch:r}=p,{initializeFilters:s,actions:t,filters:u}=Object(j.c)(),{primaryColumn:v,statusColumn:w,columns:x,onColumnsSelected:y}=Object(j.a)(g),z=d.useCallback(()=>{q(),r()},[q,r]),A=Object(i.a)(g,z),B=d.useCallback(a=>{let{model:b}=a;return Object(f.a)({name:"INVOICES_DETAIL",params:{id:b.id}})},[]);return d.createElement(n.a,{initializeFiltersFromQueryString:s},c&&d.createElement(l.a,null),d.createElement(h.a,{refetch:z},d.createElement(e.a.div,{css:{stack:"y"}},d.createElement(k.a,{shouldUseFiltersContext:!0}),d.createElement(m.a,{actions:t,error:A,columns:x,filters:u,getModelRoute:B,items:(null===(b=g.data)|| void 0===b?void 0:b.v1Invoices.data)||[],onColumnsSelected:y,pagination:Object(j.e)(g),pending:!g.data&&g.loading,primaryColumn:v,statusColumn:w,empty:o,resultsContent:Object(j.f)(g,p),showResultsContentWhilePending:!0,stickyPagination:!0,useRowActions:j.g}))))};b.a=d.memo(InvoicesTableModule)},j5oI:function(a,b,c){"use strict";var d=c("0qsp"),e=c("CXEy");const f=["children","className"];function _extends(){return(_extends=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function _objectWithoutProperties(a,b){if(null==a)return{};var c=_objectWithoutPropertiesLoose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}class Table extends d.Component{render(){const a=this.props,{children:b,className:c}=a,g=_objectWithoutProperties(a,f),h=Object(e.a)("Table",c);return d.createElement("table",_extends({className:h},g),b)}}b.a=Table},jXsh:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("TfDI"),i=c.n(h),j=c("ickh"),k=c.n(j),l=c("0qsp"),m=c("K+RN"),n=c("plqV"),o=c("wO8l"),p=c("TMhk"),q=c("SMA2"),r=c("t0b+"),s=c("p4HF");const t=["deleteState","warningValues"],DeleteModal=a=>{const{cancelMessage:b,deleteMessage:c,deleteButtonColor:d="red",heading:f,warning:h,propLink:j}=a;class _DeleteModal extends l.Component{constructor(){super(...arguments),i()(this,"submit",void 0),i()(this,"handleCancel",a=>{a.stopPropagation(),this.props.onCancel&&this.props.onCancel(),this.props.onClose&&this.props.onClose("cancel")}),i()(this,"handleDelete",a=>{a.stopPropagation();const{deleteState:b,onClose:c}=this.props;b.action(j(this.props),{ifLoading:"unsafeNoop"}).then(a=>{a.isCompleted&&(this.props.onDelete&&this.props.onDelete(),c&&c("deleted")),a.isErrored&&this.props.onError&&this.props.onError(a.error)})}),i()(this,"renderErrors",()=>{const{deleteState:a}=this.props,b=Object(q.j)(a).filter(a=>a.message);if(0===b.length)return null;const c=k()(b).message;return l.createElement(r.a,{errorText:c})})}componentDidMount(){setTimeout(()=>{this.submit&&this.submit.focus()},0)}render(){const a=this.props,{deleteState:i,warningValues:j}=a,k=g()(a,t),q=i.isLoading;return l.createElement(p.a,e()({},k,{title:l.createElement(m.a,f),description:l.createElement(l.Fragment,null,this.renderErrors(),l.createElement(n.a,e()({},h,{values:j}))),actions:l.createElement(o.ButtonGroup,null,l.createElement(o.default,{onClick:this.handleCancel,disabled:q,label:l.createElement(m.a,b||s.a.cancel)}),l.createElement(o.default,{color:d,onClick:this.handleDelete,pending:q,ref:a=>this.submit=a,label:l.createElement(m.a,c||s.a.delete),type:"submit","data-testid":"delete-modal-submit"}))}))}}return i()(_DeleteModal,"modalClass","react-modal"),_DeleteModal};b.a=DeleteModal},"jxW/":function(a,b,c){"use strict";c.d(b,"a",function(){return useDeleteDraftInvoiceMutation});var d=c("GhF0"),e=c("bPOr");const f=e.a`
            mutation DeleteDraftInvoiceMutation($input:OpenapiDeleteV1InvoicesInvoiceInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"dcfa9b61ef"){deleteV1InvoicesInvoice(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["id"]fragments:[]nodeLookupMap:[{nodes:["id"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiDeletedInvoice" method:"DELETE" pathBuilder:$pathBuilder runtimePath:"/v1/invoices/:invoice" queryName:"deleteV1InvoicesInvoice" bodyBuilder:$bodyBuilder){id}}
          `,g=f,h={expectedErrors:["resource_missing"],onError(a){throw a}};function useDeleteDraftInvoiceMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},k5Sb:function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("ZIgk"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"number",label:f.a.columnInvoiceNumber}},kKD7:function(a,b,c){"use strict";c.d(b,"a",function(){return generateUUID});const d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function generateUUID(){let a=Date.now();return d.replace(/[xy]/g,b=>{const c=(a+16*Math.random())%16|0,d=3&c|8;return a=Math.floor(a/16),("x"===b?c:d).toString(16)})}},km5s:function(a,b,c){"use strict";c.d(b,"a",function(){return i}),c.d(b,"g",function(){return objectToExportableObjectNameForApi}),c.d(b,"b",function(){return j}),c.d(b,"c",function(){return k}),c.d(b,"d",function(){return filterDataToParams}),c.d(b,"e",function(){return getActiveFilters}),c.d(b,"f",function(){return getDateRangeForFilter}),c.d(b,"h",function(){return transformFiltersToModalProps});var d=c("oX5X"),e=c.n(d),f=c("xLaQ"),g=c.n(f),h=c("szBP");const i={application_fee:"applications_fees",balance_transaction:"balance_history",balance_history:"balance_history",balance_history_iif:"balance_history_iif",charge:"unified_payments",unified_payment_intents_and_charges:"unified_payments",unified_customer:"unified_customers",customer_marketing_subscriptions:"customer_marketing_subscriptions",climate_orders:"climate_orders",climate_platform_programs:"climate_platform_programs",comms_center_queried_subaccounts:"comms_center_queried_subaccounts",customer_spend:"customer_spend",coupon:"coupons",customer:"customers",top_customers:"top_customers",dispute:"disputes",invoice:"invoices",invoice_totals:"invoice_totals",quote:"quotes",tax_amounts:"tax_amounts","checkout.session":"checkout_sessions",checkout_otp_tax_amounts:"checkout_otp_tax_amounts",checkout_otp_totals:"checkout_otp_totals",order:"orders",order_v2:"orders_v2",payment_link:"payment_links",payout:"payouts",plan:"plans",platform_connection:"platform_connections",price:"prices",product:"products",pricing_config_export:"pricing_config",product_type_good:"products",product_type_service:"products",recipient:"transfer_recipients",subscription:"subscriptions",transactions:"transactions",transfer:"transfers",account_activity:"account_activity","issuing.card":"issuing_cards","issuing.authorization":"issuing_authorizations","issuing.transaction":"issuing_transactions","issuing.dispute":"issuing_disputes","issuing.settlement":"issuing_settlements","issuing.cardholder":"issuing_cardholders","issuing.personalization_design":"issuing_personalization_designs",connected_account_risk_list_items:"connected_account_risk_list_items",team:"team","emerald.transaction":"emerald_transactions","corporate_card.transaction":"emerald_transactions",tax_transactions:"tax_transactions",banking_transactions:"banking_transactions",finance_transactions:"finance_transactions",finance_transactions_ofx:"finance_transactions_ofx","capital.financing_offer":"capital_financing_offers","capital.financing_transaction":"capital_financing_transactions","capital.connect_financing_transaction":"capital_connect_financing_transactions",tax_form_w9s:"tax_form_w9s",tax_form_w8_substitutes:"tax_form_w8_substitutes",tax_form_w8_bens:"tax_form_w8_bens",tax_form_w8_ben_es:"tax_form_w8_ben_es",gift_cards_search:"giftcards","revenue_recognition.chart_of_accounts":"revenue_recognition_chart_of_accounts","revenue_recognition.accounts_mapping":"revenue_recognition_accounts_mapping"},objectToExportableObjectNameForApi=a=>i[a],j={application_fee:"applications_fees",balance_transaction:"balance_history",balance_history:"balance_history",balance_history_iif:"balance_history",charge:"payments","checkout.session":"payments",unified_payment_intents_and_charges:"payments",climate_orders:"climate orders",climate_platform_programs:"climate_platform_programs",comms_center_queried_subaccounts:"connected_account_email_addresses",coupon:"coupons",customer:"customers",unified_customer:"unified_customers",top_customers:"customers",customer_spend:"unified_customers",dispute:"disputes",invoice:"invoices",invoice_totals:"invoice_totals",quote:"quotes",payment_link:"payment_links",tax_amounts:"tax_amounts",checkout_otp_tax_amounts:"tax_amounts",checkout_otp_totals:"checkout_payment_mode_totals",order:"orders",order_v2:"orders",payout:"payouts",plan:"plans",price:"prices",product:"products",product_type_good:"products",product_type_service:"products",recipient:"transfer_recipients",subscription:"subscriptions",transactions:"transactions",transfer:"transfers",account_activity:"account_activity","issuing.card":"issuing_cards","issuing.authorization":"issuing_authorizations","issuing.transaction":"issuing_transactions","issuing.dispute":"issuing_disputes","issuing.settlement":"issuing_settlements","issuing.cardholder":"issuing_cardholders","issuing.personalization_design":"issuing_personalization_designs",connected_account_risk_list_items:"connected_account_risk_list_items",team:"users","corporate_card.transaction":"corporate_card_transactions",tax_1099k_data:"tax_1099k_data",tax_transactions:"tax_transactions",banking_transactions:"transactions",finance_transactions:"transactions",finance_transactions_ofx:"transactions",capital_financing_offer:"capital_financing_offers",capital_financing_transaction:"capital_financing_transactions",capital_connect_financing_transaction:"capital_financing_transactions",gift_cards_search:"giftcards","revenue_recognition.accounts_mapping":"revenue_recognition_accounts_mapping"},k={application_fee:"created",balance_transaction:"created",charge:"created",coupon:"created",customer:"created",unified_customer:"created",top_customers:"created",customer_spend:"last_payment",dispute:"created",invoice:"created",invoice_totals:"created",quote:"created",payment_link:"created",tax_amounts:"created","checkout.session":"created",checkout_otp_tax_amounts:"created",checkout_otp_totals:"created",climate_orders:"created",climate_platform_programs:"climate_program_start_date",comms_center_queried_subaccounts:"created",order:"created",order_v2:"created",payout:"arrival_date",unified_payment_intents_and_charges:"created",plan:"created",platform_connection:"created",price:"created",product:"created",product_type_good:"created",product_type_service:"created",recipient:"created",subscription:"created",transactions:"posted_or_voided_at",transfer:"date",account_activity:"created","issuing.card":"created","issuing.authorization":"created","issuing.transaction":"created","issuing.dispute":"created","issuing.settlement":"created","issuing.cardholder":"created","issuing.personalization_design":"created",connected_account_risk_list_items:"created",team:"team","emerald.transaction":"created","corporate_card.transaction":"created",tax_1099k_data:"created",tax_transactions:"committed_at",banking_transactions:"display_at",finance_transactions:"posted_or_voided_at",finance_transactions_ofx:"posted_at","capital.financing_offer":"created","capital.financing_transaction":"created","capital.connect_financing_transaction":"created",tax_form_w9s:"created",tax_form_w8_substitutes:"created",tax_form_w8_bens:"created",tax_form_w8_ben_es:"created",gift_cards_search:"created","revenue_recognition.accounts_mapping":"created"},filterDataToParams=a=>{const{range:b,dateRange:c}=a;return c?"today"===b?{gte:c.startDate.unix()}:{gte:c.startDate.unix(),lte:c.endDate.unix()}:{}},getActiveFilters=a=>a?a.filter(a=>a.checked):[],getRangeForDateWithTimeFilter=a=>{const{options:b,timezone:c,setting:d}=a,e=g()().tz(c),f=g.a.tz("2011-01-01","YYYY-MM-DD",c);let i;switch(d){case"inTheLast":i={startDate:e.clone().subtract(parseInt(b[d].input,10),b[d].unit).startOf("day"),endDate:e.clone().endOf("day")};break;case"between":i={startDate:g.a.tz(b[d][0].momentObj,c),endDate:g.a.tz(b[d][1].momentObj,c)};break;case"isAfter":i={startDate:g.a.tz(b[d].momentObj,c).add(1,"minute"),endDate:e.clone().endOf("day")};break;case"isAfterOrOn":i={startDate:g.a.tz(b[d].momentObj,c),endDate:e.clone().endOf("day")};break;case"isBefore":i={startDate:f,endDate:g.a.tz(b[d].momentObj,c).subtract(1,"minute")};break;case"isBeforeOrOn":i={startDate:f,endDate:g.a.tz(b[d].momentObj,c)};break;case"equals":i={startDate:g.a.tz(b[d].momentObj,c).startOf("day"),endDate:g.a.tz(b[d].momentObj,c).endOf("day")};break;default:Object(h.t)(`Could not match key (${d}) for ${a.label}'s options`,"dashboard_discovery")}return{dateRange:i,timezone:c}},getDateRangeForFilter=a=>{if(!a)return{};if("datewithtime"===a.type)return getRangeForDateWithTimeFilter(a);if("date"!==a.type)return{};const{options:b,timezone:c,setting:d}=a,e=g()().tz(c),f=g.a.tz("2011-01-01","YYYY-MM-DD",c);let i;switch(d){case"inTheLast":i={startDate:e.clone().subtract(parseInt(b[d].input,10),b[d].unit).startOf("day"),endDate:e.clone().endOf("day")};break;case"between":i={startDate:g.a.tz(b[d][0].input,"l",c),endDate:g.a.tz(b[d][1].input,"l",c).endOf("day")};break;case"isAfter":i={startDate:g.a.tz(b[d].input,"l",c).startOf("day").add(1,"day"),endDate:e.clone().endOf("day")};break;case"isAfterOrOn":i={startDate:g.a.tz(b[d].input,"l",c).startOf("day"),endDate:e.clone().endOf("day")};break;case"isBefore":i={startDate:f,endDate:g.a.tz(b[d].input,"l",c).endOf("day").subtract(1,"day")};break;case"isBeforeOrOn":i={startDate:f,endDate:g.a.tz(b[d].input,"l",c).endOf("day")};break;case"equals":i={startDate:g.a.tz(b[d].input,"l",c).startOf("day"),endDate:g.a.tz(b[d].input,"l",c).endOf("day")};break;default:Object(h.t)(`Could not match key (${d}) for ${a.label}'s options`,"dashboard_discovery")}return{dateRange:i,timezone:c}},transformFiltersToModalProps=(a,b)=>{const c=e()(a,c=>a&&c.checked&&c.name.includes(k[b]));return c&&"number"!=typeof c&&"type"in c&&("date"===c.type||"datewithtime"===c.type)?getDateRangeForFilter(c):{}}},knyT:function(a,b,c){"use strict";var d=c("clGC"),e=c("koPp"),f=c("7yp6");function v4(a,b,c){if(d.a.randomUUID&&!b&&!a)return d.a.randomUUID();a=a||{};const g=a.random||(a.rng||e.a)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,b){c=c||0;for(let h=0;h<16;++h)b[c+h]=g[h];return b}return Object(f.a)(g)}b.a=v4},koPp:function(a,b,c){"use strict";c.d(b,"a",function(){return rng});let d;const e=new Uint8Array(16);function rng(){if(!d&&!(d="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(e)}},l6eX:function(a,b,c){"use strict";c.d(b,"a",function(){return useNoticeDismissMutation});var d=c("GhF0"),e=c("bPOr");const f=e.a`
            mutation NoticeDismissMutation($noticeId:String!$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"2bbbc37444"){ajaxLegacyGraphqlNotice(input:{notice_id:$noticeId}v1Context:$v1Context)@params(expand:[]includeOnly:["result_code"]fragments:[]nodeLookupMap:[{nodes:["result_code"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiUserNoticeNoticeDismissResult" method:"POST" pathBuilder:$pathBuilder runtimePath:"/ajax/legacy_graphql/notice" queryName:"ajaxLegacyGraphqlNotice" bodyBuilder:$bodyBuilder){resultCode:result_code}}
          `,g=f,h={onError(a){throw a}};function useNoticeDismissMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"mXS+":function(a,b,c){"use strict";var d=c("0qsp"),e=c("HyUj"),f=c("Yr2B"),g=c("Al4q"),h=c("b/fh"),i=c("dnHD"),j=c("qz1g"),k=c("6WTW");const l={showCurrency:!0,showDecimals:!0,showCommas:!0},SourceItem=a=>{let{source:b,width:c,style:m}=a,n=70,o=120;c&&c>330&&(n=140,o=150);const p=Object(i.b)(b),q=p?`${Object(f.a)(Object(j.c)(p,b.currency,l))} available`:null;return d.createElement(g.default,{direction:"horizontal",spacing:12,style:m},d.createElement(e.default,{style:{width:`${n}px`}},d.createElement(h.default,null,Object(k.c)(b.type))),d.createElement(e.default,{style:{width:`${o}px`},flex:{direction:"row-reverse"}},d.createElement(h.default,null,q||b.id)))};b.a=SourceItem},oG3U:function(a,b,c){"use strict";c.d(b,"a",function(){return DueDateCellContent});var d=c("0qsp"),e=c("FYRY"),f=c("QoRZ");const dateRange=a=>{const b=a[0].due_date||0,c=a[a.length-1].due_date||0;return d.createElement(d.Fragment,null,d.createElement(f.b,{format:"medium-date",timestamp:b,noYear:!0})," - ",d.createElement(f.b,{format:"medium-date",timestamp:c,noYear:!0}))},formatDate=a=>a&&d.createElement(f.b,{format:"medium-date",timestamp:a}),DueDateCellContent=a=>{var b;let{invoice:c}=a;return d.createElement(d.Fragment,null,null!==(b=c.amounts_due)&& void 0!==b&&b.length?dateRange(c.amounts_due):formatDate(c.due_date)||d.createElement(e.a,null))}},oUZc:function(a,b,c){"use strict";c.d(b,"a",function(){return g});var d=c("0qsp"),e=c("idnc"),f=c("4Qii");const g={cellContent:a=>d.createElement(e.a,{invoice:a}),id:"frequency",label:f.a.filterFrequency}},ooi1:function(a,b,c){"use strict";c.d(b,"a",function(){return s});var d=c("QbI9"),e=c.n(d),f=c("8OBj"),g=c.n(f),h=c("0qsp"),i=c("K+RN"),j=c("aWD3"),k=c("QUmj"),l=c("PVEn"),m=c("09jD"),n=c("4Qii"),o=c("csOU"),p=c("YrWR");const q=["all","draft","outstanding","pastDue","paid"],r=q.reduce((a,b)=>g()(g()({},a),{},{[b]:h.createElement(i.a,n.a[`${b}TabTitle`])}),{}),s=h.memo(a=>{let{shouldUseFiltersContext:b}=a;const c=Object(m.a)(),d=Object(o.a)();return h.createElement(j.b,{size:"medium"},q.map(a=>{const f={onClick(){c._deprecated_track(`billing.invoices.tab_clicked_${a}`)},key:`invoiceFilterTab_${a}`,label:r[a]};return b?h.createElement(p.a,e()({},f,{tab:a})):h.createElement(k.a,e()({},f,{route:Object(l.b)(d,a)}))}))})},p3Pk:function(a,b,c){"use strict";var d=c("0qsp"),e=c("z0fd"),f=c("PrTq"),g=c("kfQY"),h=c("3KPn"),i=c("aW18"),j=c("Yfmh"),k=c("ap0i"),l=c("WQQD"),m=c("zxZq"),n=c("Ib3m");const noop=()=>{};function useReviseInvoice(){const[a,b]=Object(m.a)(),c=Object(e.b)(),o=d.useCallback(function(){return c(Object(f.d)(...arguments))},[c]),p=d.useCallback(function(){return c(Object(f.g)(...arguments))},[c]),[q]=Object(k.a)(),[r,s]=d.useState(!1),closeReviseModal=()=>{s(!1)},t=d.useCallback(async function(a){let{skipToastRender:c}=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};const d=c?noop:i.b;try{var e,f;const g=await q({awaitRefetchQueries:!0,refetchQueries:[l.b],variables:{input:{from_invoice:{invoice:a.id,action:"revision"}}}});if(d({status:"initial",removeToast:p,type:"revise"}),null!=g&&null!==(e=g.data)&& void 0!==e&&null!==(f=e.v1Invoices)&& void 0!==f&&f.id){var h;b(Object(n.a)({name:"INVOICES_EDIT_DETAIL",params:{id:g.data.v1Invoices.id},searchSafe:{secret:null!==(h=g.data.v1Invoices.secret)&& void 0!==h?h:void 0}}))}else d({status:"error",addToast:o,removeToast:p,type:"revise"})}catch(j){if(d({status:"error",addToast:o,removeToast:p,message:j.message,type:"revise"}),c)throw new Error(j)}},[o,p,q,b]),u=d.useCallback(async a=>{a.revisability===j.c.DRAFT_REVISION_EXISTS?s(!0):(Object(i.b)({status:"duplicating",addToast:o,type:"revise"}),await t(a))},[o,t]);return{ReviseInvoiceControllerModal:d.useCallback(a=>{let{invoice:b}=a;return d.createElement(g.a,{shown:r,onWashClick:closeReviseModal,onEscape:closeReviseModal},d.createElement(h.a,{invoice:b,reviseInvoice:t}))},[r]),reviseInvoice:t,reviseInvoiceOrEditDraft:u}}b.a=useReviseInvoice},p4HF:function(a,b,c){"use strict";var d=c("Vavk");const e=Object(d.a)({cancel:{id:"deleteModal.cancel",defaultMessage:"Cancel"},delete:{id:"deleteModal.delete",defaultMessage:"Delete"}});b.a=e},pgyO:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("TfDI"),g=c.n(f),h=c("BUIJ"),i=c.n(h),j=c("2Llr"),k=c.n(j),l=c("FCV6"),m=c.n(l),n=c("0qsp"),o=c("At0j"),p=c("XB93"),q=c("IKpl"),r=c("6WTW"),s=c("K+RN"),t=c("Yj1E"),u=c("+qCB"),v=c("aa4u"),w=c("Askm"),x=c("qz1g");const y={pick:m.a,memoize:k.a,omit:i.a},getSearchQueryString=(a,b)=>{var c;switch(b.object){case"card":return`${b.brand||""} ${Object(q.h)(b)}`;case"bank_account":return`${Object(u.a)(b.bank_name)} ${Object(p.a)(b)}`;case"alipay_account":return a(w.a.alipay,{username:b.username||""});case"source":return`${Object(r.c)(b.type)} ${b.id}`;case"customer_balance":const d=`${a(w.a.cashBalance)} ${a(w.a.cashBalanceAmountAvailable,{amount:Object(x.c)(b.amount,b.currency,{showCurrency:!0,showSymbol:!0})})}`;return d;case"payment_method":switch(b.type){case"card":const e=b.card;return e?`${e.brand} ${Object(q.h)(e)}`:"";case"acss_debit":const f=b.acss_debit;return f?`${f.bank_name||""} ${f.last4||""}`:"";case"us_bank_account":const g=b.us_bank_account;return g?`${g.bank_name||""} ${g.last4||""}`:"";case"au_becs_debit":const h=b.au_becs_debit;return h?`${h.last4||""}`:"";case"bacs_debit":const i=b.bacs_debit;return i?`${i.last4||""}`:"";case"sepa_debit":const j=b.sepa_debit;return j?`${j.bank_code||""} ${j.last4||""}`:"";case"nz_bank_account":const k=b.nz_bank_account;return k?`${k.bank_name||""} ${k.last4||""}`:"";case"boleto":const l=b.boleto;return l?`${l.tax_id||""} ${(null===(c=b.billing_details)|| void 0===c?void 0:c.email)||""}`:"";default:return""}}return""},renderItem=(a,b)=>n.createElement(v.a,{paymentInstrument:a.entry,width:b}),renderEmpty=()=>n.createElement(o.e,null,n.createElement(s.a,w.a.emptyMessage)),getButtonLabel=(a,b)=>n.createElement(v.a,{paymentInstrument:a,width:b}),paymentInstrumentSelectMemoizeResolver=(a,b)=>{let c="";const{paymentInstruments:d,chooseLabel:e}=a,f=d.map(a=>getSearchQueryString(b,a)).join("");return"string"==typeof e?c=e:e.type===b&&(c=b(y.pick(e.props,"id","description","defaultMessage"))),`${c}---${f}`},z=y.memoize((a,b)=>{const{paymentInstruments:c}=a;return Object(o.h)(getSearchQueryString.bind(void 0,b),c)},paymentInstrumentSelectMemoizeResolver);class PaymentInstrumentSelect extends n.Component{constructor(){super(...arguments),g()(this,"getQuery",a=>{const{chooseLabel:b,paymentInstruments:c}=this.props,d={paymentInstruments:c,chooseLabel:b};return z(d,a.formatMessage)})}render(){const a=y.omit(this.props,["paymentInstruments"]),b=a.width;return n.createElement(o.a,{query:this.getQuery(this.props.intl)},c=>n.createElement(o.d,e()({},a,c,{width:"maximized",renderItem:a=>renderItem(a,b),renderEmpty:renderEmpty,getButtonLabel:a=>getButtonLabel(a,b)})))}}g()(PaymentInstrumentSelect,"defaultProps",{chooseLabel:n.createElement(s.a,w.a.chooseLabel)}),b.a=Object(t.a)(PaymentInstrumentSelect)},qMwa:function(a,b,c){"use strict";c.d(b,"a",function(){return useInvoiceMetadataColumns});var d=c("0qsp"),e=c("Y4x7"),f=c("EgBn");const useInvoiceMetadataColumns=()=>{var a,b,c;return null===(a=Object(e.a)().data)|| void 0===a?void 0:null===(b=a.ajaxCustomColumns)|| void 0===b?void 0:null===(c=b.metadata_fields)|| void 0===c?void 0:c.map(a=>({cellContent:b=>d.createElement(f.a,{invoice:b,metadataField:a}),id:`metadata.${a}`,label:a,dataSource:"metadata",hidden:!0}))}},r2KO:function(a,b,c){"use strict";var d=c("j5oI");c.d(b,"a",function(){return d.a});var e=c("E34A");c.d(b,"b",function(){return e.a});var f=c("EZbU");c.d(b,"c",function(){return f.a});var g=c("NF9v");c.d(b,"d",function(){return g.a});var h=c("CyVb");c.d(b,"e",function(){return h.a}),b.f=d.a},s8Xu:function(a,b,c){"use strict";c.d(b,"a",function(){return useEditDraftInvoice});var d=c("zxZq"),e=c("Ib3m"),f=c("0qsp");const useEditDraftInvoice=()=>{const[a,b]=Object(d.a)();return{editDraftInvoice:Object(f.useCallback)(a=>{var c;b(Object(e.a)({name:"INVOICES_EDIT_DETAIL",params:{id:a.id},searchSafe:{secret:null!==(c=a.secret)&& void 0!==c?c:void 0}}))},[b])}}},sq1Y:function(a,b,c){"use strict";c.d(b,"a",function(){return useBentoListPageState});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("vU+M"),h=c("CCAJ"),i=c("bHmK");function useBentoListPageState(a,b,c){var d,j,k,l;const{loading:m,data:n}=Object(h.a)(a,b),o=Object(i.a)()[0],p=null==n?void 0:null===(d=n.ajaxGetLayoutV2)|| void 0===d?void 0:null===(j=d.slots)|| void 0===j?void 0:null===(k=j[0])|| void 0===k?void 0:null===(l=k.moduleData)|| void 0===l?void 0:l.stateStruct;let q;try{q=(null==p?void 0:p.state)&&JSON.parse(p.state)}catch(r){}const s=Object(g.a)(p),t=Object(g.a)(q),u=f.useMemo(()=>m?void 0:q&&"object"==typeof q?e()(e()({},c),q):c,[c,m,q]),v=f.useCallback(c=>{var d;const f=e()(e()({},t.current),c),g=JSON.stringify(f),h=s.current;h&&o({variables:{input:{identifier:`list-page-list-${a}_${b}`,module_id:b,module_state_id:(null===(d=s.current)|| void 0===d?void 0:d.bentoStateId)||void 0,slot_id:`list-page-list-${a}`,state:g,type:"static"}},optimisticResponse:{__typename:"Mutation",ajaxUpdateModuleStateV2:e()(e()({},h),{},{state:g})}})},[a,b,o,t,s]);return{loading:m,state:u,setState:v}}},t5xp:function(a,b,c){"use strict";c.d(b,"r",function(){return isInvoiceDraft}),c.d(b,"i",function(){return doesInvoiceHavePartialPayments}),c.d(b,"u",function(){return isInvoicePartiallyPaid}),c.d(b,"t",function(){return isInvoicePaidWithNonDefaultPayment}),c.d(b,"w",function(){return isInvoiceRedacted}),c.d(b,"v",function(){return isInvoiceRecurring}),c.d(b,"y",function(){return isPaymentPlanValid}),c.d(b,"m",function(){return getFullInvoiceStatus}),c.d(b,"n",function(){return getFullInvoiceStatusWithoutPaymentIntent}),c.d(b,"s",function(){return isInvoiceEditable}),c.d(b,"x",function(){return isInvoiceRevisable}),c.d(b,"o",function(){return getInvoiceStatus}),c.d(b,"k",function(){return getCustomerId}),c.d(b,"q",function(){return invoiceIssuedIn}),c.d(b,"f",function(){return createNoteAndMaybeEnableAutoAdvancement}),c.d(b,"g",function(){return createNoteAndPayInvoice}),c.d(b,"z",function(){return updateAndSendInvoice}),c.d(b,"h",function(){return createNoteAndUpdateInvoiceStatus}),c.d(b,"a",function(){return y}),c.d(b,"l",function(){return getFullInvoiceNumber}),c.d(b,"p",function(){return getInvoiceSubscriptionScheduleId}),c.d(b,"j",function(){return findDisputedChargeFromPaymentIntents}),c.d(b,"d",function(){return calculateRefundStatus}),c.d(b,"e",function(){return calculateRefundStatusWithoutPaymentIntent}),c.d(b,"b",function(){return calculateDisputeStatus}),c.d(b,"c",function(){return calculateDisputeStatusWithoutPaymentIntent});var d=c("8OBj"),e=c.n(d),f=c("QbI9"),g=c.n(f),h=c("WGRB"),i=c.n(h),j=c("0qsp"),k=c("bHWS"),l=c("xLaQ"),m=c.n(l),n=c("Vavk"),o=c("X31t"),p=c("K+RN"),q=c("QoRZ"),r=c("szBP"),s=c("XgKR"),t=c("4eIA"),u=c("Yfmh"),v=c("7EjZ");const w=Object(n.a)({onDate:{id:"invoiceIssuedIn.onDate",defaultMessage:"on {date}"}}),isInvoicePaid=a=>a.paid,isInvoicePartiallyPaidWithForgiveness=a=>null!=a.amount_paid&&null!=a.amount_remaining&&a.amount_paid>0&&a.amount_remaining>0&&a.paid,isInvoiceDraft=a=>"draft"===a.status,isInvoiceScheduledDraft=a=>isInvoiceDraft(a)&&a.auto_advance,isInvoiceUnscheduledDraft=a=>isInvoiceDraft(a)&&!a.auto_advance,isInvoiceForgiven=a=>"uncollectible"===a.status,isInvoiceNonSubPaymentScheduled=a=>!!a.scheduled_payment,x=new Set(["ach_debit","acss_debit","au_becs_debit","bacs_debit","nz_bank_account","sepa_debit","us_bank_account"]),isDirectDebitPaymentPending=a=>{var b;const c="finalized_payment_method_types"in a&&null!==(b=a.finalized_payment_method_types)&& void 0!==b?b:[];return c.some(a=>x.has(a))&&a.payment_pending},isInvoicePaymentPending=a=>{const b=a.send_next_confirmation_reminder_at;return!(null!=b&&1e3*b>Date.now())&&(!("payment_intent"in a)||"string"!=typeof a.payment_intent)&&(!("payment_intent"in a)||!a.payment_intent||"object"!=typeof a.payment_intent||!("status"in a.payment_intent)||"requires_action"!==a.payment_intent.status&&"requires_source_action"!==a.payment_intent.status&&"requires_confirmation"!==a.payment_intent.status)&&a.payment_pending},isInvoicePastDue=function(a){var b;let c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date,d;return d=null!==(b=a.amounts_due)&& void 0!==b&&b.length?a.amounts_due.some(a=>{let{due_date:b,status:d}=a;return(b||0)<c.getTime()/1e3&&"paid"!==d}):(a.due_date||0)<c.getTime()/1e3,"send_invoice"===a.collection_method&&d},doesInvoiceHavePartialPayments=a=>!!a.has_partial_payments,isInvoicePartiallyPaid=a=>null!=a.amount_paid&&null!=a.amount_remaining&&doesInvoiceHavePartialPayments(a)&&a.amount_paid>0&&a.amount_remaining>0&&"open"===a.status,isInvoicePartiallyPaidAndNotPastDue=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date;return isInvoicePartiallyPaid(a)&&!isInvoicePastDue(a,b)},isInvoicePaidWithNonDefaultPayment=a=>isInvoicePaid(a)&&doesInvoiceHavePartialPayments(a)&&!!a.has_paid_non_default_payment,isInvoiceVoid=a=>"void"===a.status,isInvoiceRedacted=a=>{var b;return!!(null!==(b=a.redaction)&& void 0!==b&&b.status)},isInvoiceRecurring=a=>{let{subscription:b,prebilling_data:c}=a;return!!(b||null!=c&&c.subscription_schedule)},isBoletoPaymentPending=a=>{const b="payment_intent"in a?a.payment_intent:null;let c;if("string"!=typeof b&&b){var d;c=null===(d=b.next_action)|| void 0===d?void 0:d.type}if("boleto_display_details"===c)return!0;const e=a.finalized_payment_method_types;return!!(null!=e&&e.includes("boleto"))&&a.payment_pending},isPaymentPlanValid=(a,b)=>{const c=a.reduce((a,b)=>{let{amount:c}=b;return a+c},0);return c===b},getFullInvoiceStatusCommon=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date;return isInvoiceVoid(a)?"void":isInvoicePartiallyPaidWithForgiveness(a)?"partially_paid_with_forgiveness":isInvoicePaid(a)?"paid":isInvoicePaymentPending(a)?"payment_pending":isInvoiceUnscheduledDraft(a)?"unscheduled_draft":isInvoiceScheduledDraft(a)?"scheduled_draft":isInvoiceForgiven(a)?"forgiven":isInvoiceNonSubPaymentScheduled(a)?"non_sub_payment_scheduled":isInvoicePartiallyPaidAndNotPastDue(a,b)?"partially_paid":isInvoicePastDue(a,b)?"past_due":"send_invoice"===a.collection_method?"open":a.attempted?"incomplete"===a.subscription_status?"open":a.next_payment_attempt?"retrying":isBoletoPaymentPending(a)||isDirectDebitPaymentPending(a)?"payment_pending":"payment_failed":"payment_scheduled"},getFullInvoiceStatus=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date;return getFullInvoiceStatusCommon(a,b)},getFullInvoiceStatusWithoutPaymentIntent=function(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:new Date;return getFullInvoiceStatusCommon(a,b)},isInvoiceEditable=a=>null!=a.status&&"draft"===a.status,isInvoiceRevisable=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return a.revisability?a.revisability===u.c.REVISABLE:(b||Object(r.T)("Using isInvoiceRevisable estimation when caUseEstimation is false","invoices",{extra:{invoice:a.id}}),!!(a.status&&["open","uncollectible"].includes(a.status))&&!a.subscription)},getInvoiceStatusCommon=a=>{if(isInvoiceVoid(a))return"void";if(isInvoicePaid(a))return"paid";if(isInvoicePaymentPending(a))return"payment_pending";if(isInvoiceForgiven(a))return"forgiven";if(isInvoiceNonSubPaymentScheduled(a))return"non_sub_payment_scheduled";else if(isInvoiceUnscheduledDraft(a))return"unscheduled_draft";else if(isInvoiceScheduledDraft(a))return"scheduled_draft";return"open"},getInvoiceStatus=a=>getInvoiceStatusCommon(a),getCustomerId=a=>"string"==typeof a?a:a.id,invoiceIssuedIn=a=>{let{automaticallyFinalizesAt:b,testClockId:c}=a;if(c)return"soon";const d=m()();return b<d.add(1,"hour").unix()?"soon":b<d.add(1,"day").unix()?j.createElement(k.BodyAlt,null,j.createElement(o.a,{value:1e3*b})):j.createElement(k.BodyAlt,null,j.createElement(p.a,g()({},w.onDate,{values:{date:j.createElement(q.b,{timestamp:b,format:"long-date"})}})))},createNote=(a,b,c)=>a.action({data:{parent:b,text:c}},{ifLoading:"unsafeNoop"}),enableAutoAdvancementIfNecessary=async(a,b)=>isInvoiceUnscheduledDraft(b)?a.action({id:b.id,data:{auto_advance:!0,expand:u.a,include:["available_payment_method_types"]}},{ifLoading:"unsafeNoop"}):null,createNoteAndMaybeEnableAutoAdvancement=async a=>{let{createNoteService:b,updateInvoiceService:c,invoice:d,note:e}=a,f;if(e&&(f=await createNote(b,d.id,e)).isErrored)return f;const g=await enableAutoAdvancementIfNecessary(c,d);return g&&g.isErrored?g:g||f},createNoteAndPayInvoice=async a=>{let{createNoteService:b,updateInvoiceService:c,payInvoiceService:d,invoice:e,note:f,forgive:g=!1,paymentInstrument:h}=a;const i=await createNoteAndMaybeEnableAutoAdvancement({createNoteService:b,updateInvoiceService:c,invoice:e,note:f});if(i&&i.isErrored)return i;const j={};return h&&("payment_method"===Object(t.h)(h)?j.payment_method=h.id:j.source=h.id),g&&(j.forgive=g),j.expand=u.a,j.off_session=!0,d.action({id:e.id,data:j},{ifLoading:"unsafeNoop"})},updateAndSendInvoice=async(a,b,c,d,f,g,h,i)=>{const j=await enableAutoAdvancementIfNecessary(a,c);if(j&&j.isErrored)return j;let k;if(i){const{key:l,response:m}=i;null!=m&&(k=e()({response_token:m},null!=l&&0!==l.length&&{response_ekey:l}))}const n=await b.action({id:c.id,data:e()(e()({email_to:d,email_cc:f},k&&{hcaptcha_challenge:k}),{},{expand:u.a,include:["available_payment_method_types"]})},{ifLoading:"unsafeNoop"});return n.isCompleted&&"draft"===c.status&&h(Object(v.a)(g.livemode,d[0],d.length+f.length-1)),n},createNoteAndUpdateInvoiceStatus=async function(a,b,c,d,e,f,g){let h=arguments.length>7&& void 0!==arguments[7]?arguments[7]:void 0;if(f){const i=await createNote(a,e,f);if(i.isErrored)return i}switch(g){case"paid":return b.action({id:e,data:{paid_out_of_band:!0,expand:u.a,paid_at:null==h?void 0:h.unix()}},{ifLoading:"unsafeNoop"});case"void":return c.action({id:e,data:{expand:u.a,voided_at:null==h?void 0:h.unix()}},{ifLoading:"unsafeNoop"});case"uncollectible":return d.action({id:e,data:{expand:u.a,marked_uncollectible_at:null==h?void 0:h.unix()}},{ifLoading:"unsafeNoop"});default:return Object(r.s)(g)}},y=["all","outstanding","draft","paid","pastDue"],getFullInvoiceNumber=a=>{let{prefix:b,sequence:c}=a;const d=""!==b.trim()?b.toLocaleUpperCase():null;if(!d||!c)return null;const e=i()(String(c),4,"0");return`${d}-${e}`},getInvoiceSubscriptionScheduleId=a=>{let{prebilling_data:b}=a;return(null==b?void 0:b.subscription_schedule)&&Object(s.b)(null==b?void 0:b.subscription_schedule)};function notString(a){return"string"!=typeof a}const findDisputedChargeFromPaymentIntents=a=>{const b=a.flatMap(a=>a.latest_charge).filter(Boolean).filter(notString),c=b.find(a=>a.dispute);return c},calculateRefundStatusCommon=a=>{var b;if(!a)return null;const c=doesInvoiceHavePartialPayments(a);if(c)return a.refund_status||null;const d="payment_intent"in a&&a.payment_intent&&"object"==typeof a.payment_intent&&"latest_charge"in a.payment_intent&&"string"!=typeof a.payment_intent.latest_charge&&(null===(b=a.payment_intent.latest_charge)|| void 0===b?void 0:b.amount_refunded)||0;return d>=a.amount_due&&a.amount_due>0?"full":d>0?"partial":a.refund_status||null},calculateRefundStatus=a=>calculateRefundStatusCommon(a),calculateRefundStatusWithoutPaymentIntent=a=>calculateRefundStatusCommon(a),z={charge_refunded:!0,lost:!0,needs_response:!0,under_review:!0,warning_closed:!0,warning_needs_response:!0,warning_under_review:!0,won:!0},calculateDisputeStatusCommon=a=>{if(!a)return null;const b=doesInvoiceHavePartialPayments(a);if(b)return a.dispute_status||null;const c="payment_intent"in a&&a.payment_intent&&"object"==typeof a.payment_intent&&"latest_charge"in a.payment_intent&&a.payment_intent.latest_charge||null;if("string"!=typeof c){const d=null==c?void 0:c.dispute;if("string"!=typeof d&&null!=d&&d.status&&z[d.status])return d.status}return a.dispute_status||null},calculateDisputeStatus=a=>calculateDisputeStatusCommon(a),calculateDisputeStatusWithoutPaymentIntent=a=>calculateDisputeStatusCommon(a)},tCv1:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("Q9PI"),i=c("0qsp"),j=c("W4i2"),k=c("a5Zs"),l=c("Y0ZD");const m=["className","direction","reverse"],ContentFooter=a=>{let{className:b,direction:c,reverse:d}=a,f=g()(a,m);const n=Object(l.b)(),{background:o,footerDirection:p}=i.useContext(k.e),q=c||p,r=null==d?"vertical"===q:d;return i.createElement(j.b,e()({background:o,className:Object(h.a)(b,{"db-ConsumerUIContentFooter":n}),direction:q,reverse:r},f))};b.a=ContentFooter},tmnz:function(a,b,c){"use strict";var d=c("N18k");c.d(b,"a",function(){return d.a}),c("HBQ0")},ubz5:function(a,b,c){"use strict";c.d(b,"a",function(){return p}),c.d(b,"c",function(){return getDefaultFiltersQueryStringObject}),c.d(b,"b",function(){return collapseFiltersObject}),c.d(b,"d",function(){return updateFiltersInQueryString});var d=c("8OBj"),e=c.n(d),f=c("WsvT"),g=c.n(f),h=c("/q1G"),i=c.n(h),j=c("KuwK"),k=c.n(j),l=c("8i/K"),m=c.n(l),n=c("vsVm"),o=c("BXci");const p=["offset","starting_after","ending_before","page_number","page"],getDefaultFiltersQueryStringObject=a=>a.reduce((a,b)=>{if(("singular"===b.type||"model"===b.type)&&b.mapValueToQueryString){const c=b.mapValueToQueryString(void 0)||{};return i()(a,c)}if(!Array.isArray(b.name))return e()(e()({},a),{},{[b.name]:void 0});{const d=g()({},b.name.join("."),void 0);return i()(a,d)}},{}),collapseFiltersObject=a=>{if(0>Object.keys(a).indexOf(""))return a;const b=e()(e()({},a),a[""]);return delete b[""],b},getQueryStringForFilters=(a,b,c,d,e)=>{let f=Object(o.a)(c);d&&(f=d(f));const g=collapseFiltersObject(f);let h=m()({},a,getDefaultFiltersQueryStringObject(b),g);const i=null==g?void 0:g.query;(a.query||i)&&(h=m()(h,{query:i}));const j=e?e(h,a):k()(h,a);return j||(h=Object.fromEntries(Object.entries(h).filter(a=>{let[b]=a;return!p.includes(b)}))),h},updateFiltersInQueryString=(a,b,c,d,e,f,g)=>{const h=getQueryStringForFilters(d.search,a,b,f,g),i=b.filter(a=>a.checked);e.action("list_view.filter_url_update",{count:i.length}),c.navigate(Object(n.a)(d,h,!1))}},uw1c:function(a,b,c){"use strict";var d=c("0qsp"),e=c("a5Zs");const ConsumerUITitle=a=>{let{children:b}=a;const{renderTitle:c}=Object(e.h)();return c?c({children:b}):d.createElement("h1",{className:"db-ConsumerUITitle"},b)};b.a=ConsumerUITitle},vlFc:function(a,b,c){"use strict";var d=c("0qsp"),e=c("W4i2"),f=c("T0S/"),g=c("Y0ZD"),h=c("a5Zs");const ContentHeader=a=>{const{renderContentHeader:b}=Object(h.h)(),c=Object(g.b)();return b?b(a):!c||a.start||a.end?d.createElement(e.c,a):d.createElement(f.a,{title:a.title,description:a.description,size:a.size,divider:a.divider})};b.a=ContentHeader},vlpX:function(a,b,c){"use strict";c.d(b,"a",function(){return l}),c.d(b,"b",function(){return useTitleForInvoicesEmptyState});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Vavk"),h=c("K+RN"),i=c("8xFf"),j=c("FLYH"),k=c("09jD");const l=Object(g.a)({noAllInvoicesBentoTitle:{id:"invoices.list.bento.noAllInvoicesTitle",defaultMessage:"{mode, select, live {No invoices} test {No test invoices} other {No invoices}}"},noAllInvoicesTitle:{id:"invoices.list.noAllInvoicesTitle",defaultMessage:"{mode, select, live {Create your first invoice} test {Create your first test invoice} other {Create your first invoice} readOnly {No invoices}}"},noAllInvoicesDescription:{id:"invoices.list.noAllInvoicesDescription",defaultMessage:"Send a customizable invoice to your customers in a few clicks. We’ll email them a link to quickly and securely pay online."},noDraftInvoicesTitle:{id:"invoices.list.noDraftInvoicesTitle",defaultMessage:"{mode, select, live {No draft invoices} test {No draft test invoices} other {No draft invoices}}"},noDraftInvoicesDescription:{id:"invoices.list.noDraftInvoicesDescription",defaultMessage:"Draft an invoice and send it to a customer."},noOutstandingInvoicesTitle:{id:"invoices.list.noOutstandingInvoicesTitle",defaultMessage:"{mode, select, live {No outstanding invoices} test {No outstanding test invoices} other {No outstanding invoices}}"},noOutstandingInvoicesDescription:{id:"invoices.list.noOutstandingInvoicesDescription",defaultMessage:"{mode, select, live {Invoices that haven’t been paid yet will show up here.} test {Test invoices that haven’t been paid yet will show up here.} other {Invoices that haven’t been paid yet will show up here.}}"},noPastDueInvoicesBentoTitle:{id:"invoices.list.bento.noPastDueInvoicesTitle",defaultMessage:"{mode, select, live {No invoices are past due} test {No test invoices are past due} other {No invoices are past due}}"},noPastDueInvoicesTitle:{id:"invoices.list.noPastDueInvoicesTitle",defaultMessage:"{mode, select, live {No invoices past due} test {No test invoices are past due} other {No invoices past due}}"},noPastDueInvoicesDescription:{id:"invoices.list.noPastDueInvoicesDescription",defaultMessage:"{mode, select, live {Invoices that haven’t been paid by their due date will show up here.} test {Test invoices that haven’t been paid by their due date will show up here.} other {Invoices that haven’t been paid by their due date will show up here.}}"},noPaidInvoicesTitle:{id:"invoices.list.noPaidInvoicesTitle",defaultMessage:"{mode, select, live {No paid invoices} test {No paid test invoices} other {No paid invoices}}"},noPaidInvoicesDescription:{id:"invoices.list.noPaidInvoicesDescription",defaultMessage:"{mode, select, live {Invoices that are paid will show up here.} test {Test invoices that are paid will show up here.} other {Invoices that are paid will show up here.}}"},createInvoiceButtonLabel:{id:"invoices.list.createInvoiceButtonLabel",defaultMessage:"{mode, select, live {Create invoice} test {Create test invoice} other {Create invoice}}"},learnMoreLink:{id:"invoices.list.learnMoreLink",defaultMessage:"Learn more"},noInvoicesDescriptionV2:{id:"invoices.onboardingTaskList.noInvoicesDescriptionV2",defaultMessage:"No invoices"},noCustomInvoicesBentoTitle:{id:"invoices.onboardingTaskList.bento.noCustomInvoicesTitle",defaultMessage:"{mode, select, live {No invoices based on the selected filters} test {No test invoices based on the selected filters} other {No invoices based on the selected filters}}"}}),titleForInvoicesEmptyState=(a,b,c,d)=>{switch(c){case"all":return d?f.createElement(h.a,e()({},l.noAllInvoicesBentoTitle,{values:{mode:Object(i.b)(a)}})):f.createElement(h.a,e()({},l.noAllInvoicesTitle,{values:{mode:b(j.a.invoice_write)?Object(i.b)(a):"readOnly"}}));case"draft":return f.createElement(h.a,e()({},l.noDraftInvoicesTitle,{values:{mode:Object(i.b)(a)}}));case"outstanding":return f.createElement(h.a,e()({},l.noOutstandingInvoicesTitle,{values:{mode:Object(i.b)(a)}}));case"pastDue":return d?f.createElement(h.a,e()({},l.noPastDueInvoicesBentoTitle,{values:{mode:Object(i.b)(a)}})):f.createElement(h.a,e()({},l.noPastDueInvoicesTitle,{values:{mode:Object(i.b)(a)}}));case"paid":return f.createElement(h.a,e()({},l.noPaidInvoicesTitle,{values:{mode:Object(i.b)(a)}}));default:return d?f.createElement(h.a,e()({},l.noCustomInvoicesBentoTitle,{values:{mode:Object(i.b)(a)}})):f.createElement(h.a,l.noInvoicesDescriptionV2)}},useTitleForInvoicesEmptyState=function(a){let b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return titleForInvoicesEmptyState(Object(k.t)(),Object(k.l)(),a,b)}},vyEF:function(a,b,c){"use strict";var d=c("7Hnw"),e=c("nPYo"),f=c("HOsA"),g=c("0qsp"),h=c.n(g),i=c("K+RN"),j=c("jLSj");const AnalyzeModalOption=a=>{let{href:b,title:c,description:g,icon:k,onPress:l}=a;return h.a.createElement(d.a,{href:b,"aria-label":c.defaultMessage,onPress:l,css:{padding:"medium",alignX:"start",width:"fill",alignY:"center",stack:"x",gap:"medium",whiteSpace:"normal"}},h.a.createElement(e.a.div,{css:{backgroundColor:"offset",borderRadius:"small",padding:"small",stack:"x"}},h.a.createElement(f.c,{size:"medium",icon:k})),h.a.createElement(e.a.div,{css:{width:"fill",overflowX:"clip"}},h.a.createElement(e.a.div,{css:{stack:"y",gap:"small"}},h.a.createElement(e.a.p,{css:{font:"body.small.emphasized"}},h.a.createElement(i.a,c)),h.a.createElement(e.a.p,{css:{font:"body.small",whiteSpace:"normal",margin:"space.0",textColor:"subdued"}},h.a.createElement(i.a,g)))),h.a.createElement(e.a.div,{css:{marginLeft:"large",color:"subdued"}},h.a.createElement(f.c,{size:"medium",icon:j.a})))};b.a=AnalyzeModalOption},wp8T:function(a,b,c){"use strict";c.d(b,"b",function(){return getPreviousURLParams}),c.d(b,"a",function(){return getNextURLParams});const getPreviousURLParams=(a,b,c)=>{const{ending_before:d,starting_after:e,page_number:f}=a;return(!d||b)&&(d||e)&&c?{starting_after:null,ending_before:c,page_number:f}:null},getNextURLParams=(a,b,c)=>{const{ending_before:d,page_number:e}=a;return(d||b)&&c?{starting_after:c,ending_before:null,page_number:e}:null}},x1P9:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("0qsp");const e=d.createContext({startDownload(){},reviseInvoiceOrEditDraft:()=>Promise.reject("missing context"),onClickDeleteDraftInvoice:()=>()=>{}})},x4mR:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("HyUj"),h=c("K+RN"),i=c("Askm");const AlipayAccountItem=a=>{let{alipayAccount:b}=a;return f.createElement(g.default,null,f.createElement(h.a,e()({},i.a.alipay,{values:{username:b.username||""}})))};b.a=AlipayAccountItem},xZW5:function(a,b,c){"use strict";c.d(b,"a",function(){return useBuildOverflowMenuItems});var d=c("0qsp"),e=c("xGRT"),f=c("K+RN"),g=c("5tkv"),h=c("t5xp"),i=c("XgKR"),j=c("PE0L"),k=c("FLYH"),l=c("09jD"),m=c("TL+8"),n=c("L+mI"),o=c("csOU"),p=c("Ebse"),q=c("tmnz");const useDownloadReceipt=(a,b)=>{const c=a.receipt_number,[d,{loading:e}]=Object(p.a)({onCompleted(a){var d;const e=null==a?void 0:null===(d=a.ajaxEmailsGetCustomerReceiptLink)|| void 0===d?void 0:d.path;e&&b({url:()=>Object(g.a)(`${e}/pdf_file_url`),filename:`Receipt-${c}.pdf`})}});return{receiptNumber:c,startDownloadingReceipt:d,retrievingReceiptEmailLink:e}},useConnections=a=>{const{formatMessage:b}=Object(e.a)(),c=Object(l.H)(),{pathname:g}=c.location,k=a.owning_merchant,m=a.subscription&&Object(i.b)(a.subscription),p=Object(h.p)(a),q=Object(o.a)(),r=q({name:"CUSTOMERS_DETAIL",params:{id:`${Object(i.b)(a.customer)}`}}),s=m&&q({name:"SUBSCRIPTIONS_DETAIL",params:{id:m}})||p&&q({name:"SUBSCRIPTION_SCHEDULES_DETAIL",params:{id:p}})||void 0;return[{name:"show-customer",key:b(j.a.actionViewCustomer),connection:!0,route:r,"data-test":"show-customer",showMenuItem:g!==c.buildUrl(Object(n.a)(r)),owningMerchant:k,label:d.createElement(f.a,j.a.actionViewCustomer)},{name:"show-subscription",key:b(j.a.actionViewSubscription),connection:!0,route:s,"data-test":"show-subscription",showMenuItem:!!s&&g!==(s?c.buildUrl(Object(n.a)(s)):""),owningMerchant:k,label:d.createElement(f.a,j.a.actionViewSubscription)}]},useBuildOverflowMenuItems=a=>{let{canDuplicateOverride:b,invoice:c,onClickDeleteDraftInvoice:n,onClickDuplicateInvoice:o,reviseInvoiceOrEditDraft:p,editDraftInvoice:r,startDownload:s}=a;const t=Object(l.l)(),{formatMessage:u}=Object(e.a)(),{track:v}=Object(q.a)("invoices_overflow_menu_items"),{receiptNumber:w,startDownloadingReceipt:x,retrievingReceiptEmailLink:y}=useDownloadReceipt(c,s),z=t(k.a.invoice_write),A=Object(m.w)(),B=Object(h.v)(c),C=Object(h.w)(c),D=Object(h.r)(c),E=Object(h.s)(c),F=z&&(Object(h.x)(c,!0)||Object(h.s)(c)),G=z&&D&&!B,H=!F||!G;return[{label:d.createElement(f.a,j.a.actions),name:u(j.a.actions),key:"actions",contents:[{name:"download-invoice",key:u(j.a.actionDownloadInvoicePDF),onClick(){v("download_invoice",{invoice_id:c.id,is_draft_invoice:D}),c.paid&&w?x({variables:{input:{invoice:c.id,charge:c.charge?Object(i.b)(c.charge):void 0}}}):s({url:()=>Object(g.a)(`/invoice/${c.secret||""}/pdf_file_url`),filename:`Invoice-${c.number||""}.pdf`})},"data-test":"download-invoice",showMenuItem:!!(c.secret&&c.number)||!!(c.paid&&c.receipt_number),label:d.createElement(f.a,j.a.actionDownloadInvoicePDF),buttonIcon:H?"download":void 0,pending:y},{name:"revise-invoice",key:u(j.a.actionEditInvoice),onClick(){v("revise_invoice",{invoice_id:c.id,is_draft_invoice:D}),p(c)},disabled:!Object(h.x)(c,!0),"data-test":"revise-invoice",showMenuItem:z&&!E,label:d.createElement(f.a,j.a.actionEditInvoice),buttonIcon:"edit"},{name:"edit-invoice",key:u(j.a.actionEditInvoiceDraft),onClick(){v("edit_invoice",{invoice_id:c.id,is_draft_invoice:D}),r(c)},disabled:!Object(h.s)(c),"data-test":"edit-invoice",showMenuItem:z&&E,label:d.createElement(f.a,j.a.actionEditInvoiceDraft),buttonIcon:"edit"},{name:"duplicate-invoice",key:u(j.a.actionDuplicateInvoice),onClick(){v("duplicate_invoice",{invoice_id:c.id,is_draft_invoice:D}),o()},disabled:B||b||C||A,"data-test":"duplicate-invoice",showMenuItem:z,label:d.createElement(f.a,j.a.actionDuplicateInvoice)},{name:"delete-draft",key:u(j.a.actionDeleteDraftInvoice),isDestructive:!0,"data-test":"delete-draft",onClick(){v("delete_draft_invoice",{invoice_id:c.id,is_draft_invoice:D}),n()},showMenuItem:z&&Object(h.r)(c)&&!B,label:d.createElement(f.a,j.a.actionDeleteDraftInvoice),buttonIcon:"delete"}]},{label:d.createElement(f.a,j.a.connections),name:u(j.a.connections),contents:useConnections(c),key:"connections"}]}},xi1E:function(a,b,c){"use strict";c.d(b,"a",function(){return useDraftInvoiceDeleteConfirmationDialogDeleteStateMutation});var d=c("bPOr"),e=c("GhF0");const f=d.a`
            mutation DraftInvoiceDeleteConfirmationDialogDeleteStateMutation($input:OpenapiDeleteV1InvoicesInvoiceInput$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"b4e95ad1f1"){result:deleteV1InvoicesInvoice(input:$input v1Context:$v1Context)@params(expand:[]includeOnly:["deleted" "id" "object"]fragments:[]nodeLookupMap:[{nodes:["deleted" "id" "object"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiDeletedInvoice" method:"DELETE" pathBuilder:$pathBuilder runtimePath:"/v1/invoices/:invoice" queryName:"result" bodyBuilder:$bodyBuilder){deleted id object}}
          `,g=f,h={expectedErrors:["resource_missing","delete_draft_invoice_only"]};function useDraftInvoiceDeleteConfirmationDialogDeleteStateMutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(e.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"z/jA":function(a,b,c){"use strict";var d=c("sC3f");c.d(b,"a",function(){return d.b});var e=c("a5Zs");c.d(b,"h",function(){return e.b}),c.d(b,"n",function(){return e.g}),c.d(b,"o",function(){return e.h});var f=c("F5St");c.d(b,"b",function(){return f.a});var g=c("tCv1");c.d(b,"c",function(){return g.a});var h=c("vlFc");c.d(b,"d",function(){return h.a});var i=c("TOYa");c.d(b,"e",function(){return i.c}),c.d(b,"f",function(){return i.b});var j=c("NOgj");c.d(b,"g",function(){return j.a});var k=c("6h03");c.d(b,"i",function(){return k.a}),c("gH10"),c("Vyor");var l=c("Egrs");c.d(b,"j",function(){return l.a});var m=c("K4WY");c.d(b,"k",function(){return m.a});var n=c("5xND");c.d(b,"l",function(){return n.a}),b.m={Consumer:e.a,contentListHoc:e.d,pressableHoc:e.f,pressableLabeledHoc:e.g,Provider:e.c}},ziln:function(a,b,c){"use strict";c.d(b,"d",function(){return getInvoiceStatusBadgeColorAndType}),c.d(b,"e",function(){return getInvoiceStatusBadgeColorAndTypeWithoutPaymentIntent}),c.d(b,"f",function(){return getInvoiceStatusBadgeLabel}),c.d(b,"g",function(){return getInvoiceStatusBadgePopover}),c.d(b,"h",function(){return getInvoiceStatusBadgePopoverWithoutPaymentIntent}),c.d(b,"j",function(){return getInvoiceStatusIcon}),c.d(b,"k",function(){return getInvoiceStatusIconWithoutPaymentIntent}),c.d(b,"i",function(){return getInvoiceStatusBadgeProps}),c.d(b,"a",function(){return InvoiceFullStatusBadge}),c.d(b,"b",function(){return InvoiceStatusBadgeCell}),c.d(b,"c",function(){return UpcomingInvoiceBadge});var d=c("9u8d"),e=c.n(d),f=c("QbI9"),g=c.n(f),h=c("0qsp"),i=c("xLaQ"),j=c.n(i),k=c("FfI9"),l=c("jOHC"),m=c("HOsA"),n=c("n2FO"),o=c("/Tka"),p=c("GC1b"),q=c("AlkZ"),r=c("gEql"),s=c("t6oC"),t=c("rVfY"),u=c("QE+R"),v=c("RVZe"),w=c("VOG7"),x=c("Z0sA"),y=c("bHWS"),z=c("HyUj"),A=c("szBP"),B=c("3HTY"),C=c("73BN"),D=c("K+RN"),E=c("DaCB"),F=c("2n1E"),G=(c("FE9U"),c("t5xp")),H=c("QoRZ"),I=c("4Qii"),J=c("1YLw"),K=c("fisF"),L=c("Ib3m");const M=["invoice"],hasInvoiceAppliedCreditBalance=a=>a&&null!==a.applied_balance&& void 0!==a.applied_balance&&a.applied_balance<0,findDisputeFromInvoice=a=>{const b=a&&"payment_intent"in a&&a.payment_intent&&"object"==typeof a.payment_intent&&"latest_charge"in a.payment_intent&&a.payment_intent.latest_charge;return b&&"string"!=typeof b&&"string"!=typeof b.dispute?b.dispute:null},disputeDaysToRespond=a=>{const b=findDisputeFromInvoice(a);return b&&b.status&&null!=b.evidence_details.due_by?Math.max(C.a.daysToRespond(b),0):-1},isDisputeDeadlinePastDue=a=>((a&&"payment_intent"in a?Object(G.b)(a):Object(G.c)(a))==="needs_response"||(a&&"payment_intent"in a?Object(G.b)(a):Object(G.c)(a))==="warning_needs_response")&&0===disputeDaysToRespond(a),LearnMoreAboutAutoAdvance=()=>h.createElement(K.c,{href:Object(J.b)("site","/docs/billing/invoices/workflow#auto_advance"),target:"_blank",label:h.createElement(D.a,I.c.detailHeader_badge_popover_learn_more),display:"inline-flex"}),LearnMoreAboutSubscriptionsCollection=()=>h.createElement(K.c,{href:Object(J.b)("site","/docs/billing/automatic-collection"),target:"_blank",label:h.createElement(D.a,I.c.detailHeader_badge_popover_learn_more),display:"inline-flex"}),LearnMoreAboutExpiredInvoices=()=>h.createElement(K.c,{href:Object(J.b)("site","/docs/billing/subscriptions/overview#subscription-lifecycle"),target:"_blank",label:h.createElement(D.a,I.c.detailHeader_badge_popover_learn_more),icon:"arrowRight",iconPosition:"right",display:"inline-flex"}),ReviewRetrySettingsLink=()=>h.createElement(k.a,{"data-db-analytics-name":"recovery_ia_invoice_status_link",href:Object(L.a)({name:"REVENUE_RECOVERY_RETRIES"}),target:"_blank"},h.createElement(D.a,I.c.detailHeader_badge_popover_review_retry_settings_link)),getInvoiceStatusBadgeColorAndTypeCommon=(a,b)=>{if(isDisputeDeadlinePastDue(a))return{color:"red",type:"negative"};switch(a&&"payment_intent"in a?Object(G.b)(a):Object(G.c)(a)){case"needs_response":case"warning_needs_response":return{color:"yellow",type:"warning"};case"under_review":case"warning_under_review":return{color:"blue",type:"info"};case"lost":return{color:"red",type:"negative"}}if(a&&"payment_intent"in a?Object(G.d)(a):Object(G.e)(a))return{color:"gray",type:void 0};switch(b){case"paid":case"partially_paid_with_forgiveness":return{color:"green",type:"positive"};case"partially_paid":return{color:"yellow",type:"warning"};case"open":case"payment_scheduled":return{color:"blue",type:"info"};case"payment_pending":case"scheduled_draft":case"non_sub_payment_scheduled":default:return{color:"gray",type:void 0};case"unscheduled_draft":return a&&a.subscription&&a.closed_for,{color:"gray",type:void 0};case"retrying":case"past_due":case"payment_failed":return{color:"red",type:"negative"}}},getInvoiceStatusBadgeColorAndType=(a,b)=>getInvoiceStatusBadgeColorAndTypeCommon(a,b),getInvoiceStatusBadgeColorAndTypeWithoutPaymentIntent=(a,b)=>getInvoiceStatusBadgeColorAndTypeCommon(a,b),getInvoiceStatusBadgeLabel=(a,b)=>{if(a)return h.createElement(D.a,I.a.detailStatusValue_refunded);switch(b){case"paid":case"partially_paid_with_forgiveness":return h.createElement(D.a,I.a.detailStatusValue_paid);case"partially_paid":return h.createElement(D.a,I.a.detailStatusValue_partiallyPaid);case"forgiven":return h.createElement(D.a,I.c.detailHeader_badge_uncollectible);case"closed":return h.createElement(D.a,I.a.detailStatusValue_closed);case"past_due":return h.createElement(D.a,I.c.detailHeader_badge_pastDue);case"open":return h.createElement(D.a,I.c.detailHeader_badge_open);case"scheduled_draft":case"unscheduled_draft":return h.createElement(D.a,I.c.detailHeader_badge_draft);case"payment_pending":return h.createElement(D.a,I.a.detailStatusValue_pending);case"retrying":return h.createElement(D.a,I.c.detailHeader_badge_retrying);case"payment_failed":return h.createElement(D.a,I.c.detailHeader_badge_paymentFailed);case"payment_scheduled":return h.createElement(D.a,I.c.detailHeader_badge_paymentUnattempted);case"non_sub_payment_scheduled":return h.createElement(D.a,I.c.detailHeader_badge_non_sub_payment_scheduled);case"void":return h.createElement(D.a,I.c.detailHeader_badge_void);default:return Object(A.X)(b)}},getInvoiceStatusBadgePopoverCommon=function(a,b){let c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];if(c){if("paid"===b){if(("payment_intent"in a?Object(G.d)(a):Object(G.e)(a))==="full"&&("payment_intent"in a?Object(G.b)(a):Object(G.c)(a)))return h.createElement(D.a,I.c.detailHeader_badge_popover_paidRefundedAndDisputed);if(("payment_intent"in a?Object(G.d)(a):Object(G.e)(a))==="partial"&&("payment_intent"in a?Object(G.b)(a):Object(G.c)(a)))return h.createElement(D.a,I.c.detailHeader_badge_popover_paidPartiallyRefundedAndDisputed);if(hasInvoiceAppliedCreditBalance(a))return h.createElement(D.a,I.c.detailHeader_badge_popover_paidWithCreditBalanceApplied);if(isDisputeDeadlinePastDue(a))return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndLostDisputeDidNotSubmitEvidence);switch("payment_intent"in a?Object(G.b)(a):Object(G.c)(a)){case"needs_response":case"warning_needs_response":const d=disputeDaysToRespond(a);return -1===d?h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndNeedsResponseDisputeSoon):h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_paidAndNeedsResponseDispute,{values:{days:d}}));case"under_review":case"warning_under_review":return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndUnderReviewDispute);case"won":return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndWonDispute);case"lost":return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndLostDispute)}switch("payment_intent"in a?Object(G.d)(a):Object(G.e)(a)){case"full":return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndRefunded);case"partial":return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndPartiallyRefunded)}}if("partially_paid"===b){if(("payment_intent"in a?Object(G.d)(a):Object(G.e)(a))==="partial"&&("payment_intent"in a?Object(G.b)(a):Object(G.c)(a)))return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidPartiallyRefundedAndDisputed);if(isDisputeDeadlinePastDue(a))return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndLostDisputeDidNotSubmitEvidence);switch("payment_intent"in a?Object(G.b)(a):Object(G.c)(a)){case"needs_response":case"warning_needs_response":const e=disputeDaysToRespond(a);return -1===e?h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndNeedsResponseDisputeSoon):h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_partiallyPaidAndNeedsResponseDispute,{values:{days:e}}));case"under_review":case"warning_under_review":return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndUnderReviewDispute);case"won":return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndWonDispute);case"lost":return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndLostDispute)}if(("payment_intent"in a?Object(G.d)(a):Object(G.e)(a))==="partial")return h.createElement(D.a,I.c.detailHeader_badge_popover_partiallyPaidAndPartiallyRefunded)}}switch(b){case"partially_paid_with_forgiveness":{const{amount_remaining:f,amount_paid:i,currency:k}=a;return Object(A.G)(null!=f&&null!=i,"partially_paid_with_forgiveness invoices must have some amount paid and some amount remaining."),h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_partially_paid,{values:{amountRemaining:h.createElement(y.Body,{color:"dark"},h.createElement(F.c,{amount:f,currency:k})),amountPaid:h.createElement(y.Body,{color:"dark"},h.createElement(F.c,{amount:i,currency:k}))}}))}case"partially_paid":{const{amount_remaining:l,amount_paid:m,currency:n,test_clock:o}=a;Object(A.G)(null!=l&&null!=m,"partially_paid invoices must have some amount paid and some amount remaining.");const p=Object(B.d)(o,j()()),q=a.amounts_due,r=null==q?void 0:q.find(a=>{let{status:b}=a;return"paid"!==b});return h.createElement(h.Fragment,null,h.createElement(z.default,{style:{justifyContent:"space-between",flexDirection:"row",display:"flex",alignItems:"center"}},h.createElement(y.Text,{style:{lineHeight:"20px",fontWeight:"600",marginRight:10}},h.createElement(D.a,I.c.detailHeader_badge_popover_amount_paid)),h.createElement(y.Body,null,h.createElement(F.c,{amount:m,currency:n}))),h.createElement(z.default,{style:{justifyContent:"space-between",flexDirection:"row",display:"flex",alignItems:"center"}},h.createElement(y.Text,{style:{lineHeight:"20px",fontWeight:"600",marginRight:10}},h.createElement(D.a,I.c.detailHeader_badge_popover_remaining_due)),h.createElement(y.Body,null,h.createElement(F.c,{amount:l,currency:n}))),r?h.createElement(z.default,{style:{marginTop:"3px"}},h.createElement(y.Caption,{color:(r.due_date||0)<p.valueOf()/1e3?"red":void 0},h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_payment_due,{values:{paymentName:r.description,date:h.createElement(H.b,{timestamp:r.due_date||0,format:"medium-datetime",relative:!o})}})))):null)}case"payment_pending":return h.createElement(D.a,I.c.detailHeader_badge_popover_paymentPending);case"retrying":return h.createElement(h.Fragment,null,"number"==typeof a.next_payment_attempt?h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_paymentFailed_retrying,{values:{attemptCount:a.attempt_count,formattedDateTime:h.createElement(H.b,{timestamp:a.next_payment_attempt,format:"medium-date",noYear:!0})}})):null,h.createElement(h.Fragment,null," ",h.createElement(ReviewRetrySettingsLink,null)));case"payment_failed":if(0===a.attempt_count)return null;return h.createElement(h.Fragment,null,h.createElement(D.a,g()({},I.c.detailHeader_badge_paymentFailedWontRetry,{values:{attemptCount:a.attempt_count}})),h.createElement(h.Fragment,null," ",h.createElement(ReviewRetrySettingsLink,null)));case"unscheduled_draft":if(a.subscription){if("subscription_paused"===a.closed_for)return h.createElement(D.a,I.c.detailHeader_badge_popover_subscription_keep_as_draft);if("subscription_marked_unpaid"===a.closed_for)return h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_draft_subscription_unpaid,{values:{learnMoreLink:h.createElement(LearnMoreAboutSubscriptionsCollection,null)}}));return h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_draft_subscription,{values:{learnMoreLink:h.createElement(LearnMoreAboutSubscriptionsCollection,null)}}))}return null;case"scheduled_draft":let s=I.c.detailHeader_badge_popover_scheduled_subscription,t=!0;const u=a.subscription_pause_collection&&a.subscription_pause_collection.behavior;if(u)switch(u){case"mark_uncollectible":s=I.c.detailHeader_badge_popover_scheduled_subscription_mark_uncollectible;break;case"void":s=I.c.detailHeader_badge_popover_scheduled_subscription_void;break;case"keep_as_draft":s=I.c.detailHeader_badge_popover_subscription_keep_as_draft,t=!1;break;default:Object(A.s)(u)}if(!t)return h.createElement(D.a,g()({},s,{values:{learnMoreLink:h.createElement(LearnMoreAboutSubscriptionsCollection,null)}}));if(!a.automatically_finalizes_at)return null;const v=a.test_clock&&"object"==typeof a.test_clock?a.test_clock.id:a.test_clock;return h.createElement(D.a,g()({},a.subscription?s:I.c.detailHeader_badge_popover_scheduled,{values:{issuedIn:Object(G.q)({automaticallyFinalizesAt:a.automatically_finalizes_at,testClockId:v})}}));case"non_sub_payment_scheduled":const{scheduled_payment:w}=a;return Object(A.G)(null!=w,"scheduled payment must be present"),h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_non_sub_payment_scheduled,{values:{scheduledFor:h.createElement(H.b,{timestamp:w.payment_execution_date,format:"medium-date"}),deliveredOn:h.createElement(H.b,{timestamp:w.estimated_payment_arrival_date,format:"medium-date"})}}));case"open":case"payment_scheduled":case"past_due":if("past_due"===b&&Object(G.u)(a))return getInvoiceStatusBadgePopoverCommon(a,"partially_paid",c);if(hasInvoiceAppliedCreditBalance(a))return h.createElement(D.a,I.c.detailHeader_badge_popover_openWithCreditBalanceApplied);if(!a.auto_advance){if(a.subscription)return h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_open_auto_advance_disabled,{values:{learnMoreLink:h.createElement(LearnMoreAboutSubscriptionsCollection,null)}}));return h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_open_auto_advance_disabled,{values:{learnMoreLink:h.createElement(LearnMoreAboutAutoAdvance,null)}}))}return null;case"paid":if(hasInvoiceAppliedCreditBalance(a))return h.createElement(D.a,I.c.detailHeader_badge_popover_paidWithCreditBalanceApplied);const x=Object(G.d)(a);if("full"===x)return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndRefunded);if("partial"===x)return h.createElement(D.a,I.c.detailHeader_badge_popover_paidAndPartiallyRefunded);return null;case"void":if("incomplete_expired"===a.subscription_status)return h.createElement(D.a,g()({},I.c.detailHeader_badge_popover_expired,{values:{learnMoreLink:h.createElement(LearnMoreAboutExpiredInvoices,null)}}));return null;default:return null}},getInvoiceStatusBadgePopover=function(a,b){let c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return getInvoiceStatusBadgePopoverCommon(a,b,c)},getInvoiceStatusBadgePopoverWithoutPaymentIntent=function(a,b){let c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return getInvoiceStatusBadgePopoverCommon(a,b,c)},getInvoiceStatusIconCommon=(a,b)=>{if(a&&"payment_intent"in a?Object(G.d)(a):Object(G.e)(a))return{icon:"refund",iconNext:o.a};if(hasInvoiceAppliedCreditBalance(a))return{icon:"withdrawal",iconNext:p.a};switch(a&&"payment_intent"in a?Object(G.b)(a):Object(G.c)(a)){case"lost":case"needs_response":case"warning_needs_response":return{icon:"warning",iconNext:q.a};case"under_review":case"warning_under_review":return{icon:"review",iconNext:r.a};case"won":return{icon:"info",iconNext:s.a}}return"scheduled_draft"===b?{icon:"clock",iconNext:t.a}:{icon:void 0,iconNext:void 0}},getInvoiceStatusFallbackIcon=a=>{switch(a){case"unscheduled_draft":case"scheduled_draft":case"payment_scheduled":case"non_sub_payment_scheduled":case"payment_pending":case"past_due":case"forgiven":case"retrying":return t.a;case"paid":return u.a;case"open":case"void":return s.a;case"payment_failed":return v.a;case"partially_paid":case"partially_paid_with_forgiveness":return w.a;case"closed":return x.a;default:Object(A.s)(a)}},getInvoiceStatusIcon=(a,b)=>getInvoiceStatusIconCommon(a,b),getInvoiceStatusIconWithoutPaymentIntent=(a,b)=>getInvoiceStatusIconCommon(a,b),getInvoiceStatusBadgeProps=a=>{const b=Object(B.d)(a.test_clock,j()()),c="payment_intent"in a?Object(G.m)(a,b.toDate()):Object(G.n)(a,b.toDate()),{type:d}="payment_intent"in a?getInvoiceStatusBadgeColorAndType(a,c):getInvoiceStatusBadgeColorAndTypeWithoutPaymentIntent(a,c),e=Object(G.d)(a),f=e&&"full"===e||"partial"===e,g=getInvoiceStatusBadgeLabel(f,c),{iconNext:h}=getInvoiceStatusIconCommon(a,c),i=getInvoiceStatusFallbackIcon(c);return{type:d,label:g,icon:h,fallbackIcon:i}},InvoiceFullStatusBadge=a=>{let{model:b,showTooltip:c=!1}=a;const d=Object(B.d)(b.test_clock,j()()),e="payment_intent"in b?Object(G.m)(b,d.toDate()):Object(G.n)(b,d.toDate()),{type:f}="payment_intent"in b?getInvoiceStatusBadgeColorAndType(b,e):getInvoiceStatusBadgeColorAndTypeWithoutPaymentIntent(b,e),g=Object(G.d)(b),i=g&&"full"===g||"partial"===g,k=getInvoiceStatusBadgeLabel(i,e),{iconNext:o}=getInvoiceStatusIconCommon(b,e),p=h.createElement(l.a,{type:f,"data-testid":"invoice-status-badge"},k,o&&h.createElement(m.c,{icon:o}));if(!c)return p;const q="payment_intent"in b?getInvoiceStatusBadgePopover(b,e,!0):getInvoiceStatusBadgePopoverWithoutPaymentIntent(b,e,!0);return q?h.createElement(n.a,{trigger:p,placement:"top"},q):p},InvoiceStatusBadgeCell=a=>{const{invoice:b}=a,c=e()(a,M),d=Object(B.d)(b.test_clock,j()()),f="payment_intent"in b?Object(G.m)(b,d.toDate()):Object(G.n)(b,d.toDate()),{color:i}="payment_intent"in b?getInvoiceStatusBadgeColorAndType(b,f):getInvoiceStatusBadgeColorAndTypeWithoutPaymentIntent(b,f),k=Object(G.d)(b),l=k&&"full"===k||"partial"===k,m=getInvoiceStatusBadgeLabel(l,f),n="payment_intent"in b?getInvoiceStatusBadgePopover(b,f,!0):getInvoiceStatusBadgePopoverWithoutPaymentIntent(b,f,!0),{icon:o}=getInvoiceStatusIconCommon(b,f);return h.createElement(E.a,g()({color:i,icon:o,tooltipContents:n,tooltipProps:{allowMouseOverContents:!0}},c),m)},UpcomingInvoiceBadge=()=>h.createElement(l.a,null,h.createElement(D.a,I.c.detailHeader_badge_upcoming))}}])
//# sourceMappingURL=https://sourcemaps.corp.stripe.com/dashboard-fe-statics-srv/dashboard.lB7b-03.4eabe97fb8.min.js.map