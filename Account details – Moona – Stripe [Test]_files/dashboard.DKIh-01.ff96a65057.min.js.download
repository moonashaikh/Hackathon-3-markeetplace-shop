(window["__load"]=window["__load"]||[]).push([["DKIh-01"],{"+KqD":function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("dJ5Y"),h=c("Olvt"),i=c("22Ub"),j=c("MQ8h");function VerticalContainer({children:a}){return e.a.createElement(f.a.div,{style:{color:g.a.color.hue.gray[300].toString(),position:"absolute",right:"0px",top:i.b,paddingLeft:"4px",width:i.c,height:`calc(100% - ${i.b} - ${i.a})`,fontSize:"12px"}},a)}function HorizontalContainer({children:a,presetName:b,hasTicksFixed:c=!1}){return e.a.createElement(f.a.div,{...c?{}:{"data-x-axis-preset":b},uses:[Object(h.b)({position:"absolute",left:0,bottom:0,height:i.a,width:`calc(100% - ${i.c})`,fontSize:"12px",color:g.a.color.hue.gray[500].toString()})]},a)}function calculateTickSpace(a,b,c,d=!0){const e=0===a,f=a===b-1,g=c[a],h=c[a-1],i=c[a+1];let j,k;if(1===b){const l=Math.min(g,100-g);return[g-l,g+l]}const m=e?(i-g)/2:(g-h)/2,n=f?(g-h)/2:(i-g)/2,o=Math.min(Math.abs(m),Math.abs(n));return d?(j=e?0:g-o,k=f?100:g+o):(j=g-o,k=g+o),[j,k]}function HorizontalLabelTick({tick:a,ticksX:b,tickCount:c,tickIndex:d,isUsingBarMark:i=!1}){if(void 0===a)return null;const k=!0!==i,l=0===d,m=d===c-1,[n,o]=calculateTickSpace(d,c,b,k),p=o-n,q={0:b[d]<=2?"left":"center",[c-1]:b[d]>=98?"right":"center"};var r;const s=i?"center":null!==(r=q[d])&& void 0!==r?r:"center",t=m||l?new j.a().domain([n,o]).plot(b[d])-50:null;return e.a.createElement(e.a.Fragment,null,e.a.createElement(f.a.span,{css:{position:"absolute",width:"space.1",height:"xsmall",backgroundColor:g.a.color.hue.gray[300].toString(),left:`${b[d]}%`,top:"space.0"}}),e.a.createElement(f.a.span,{title:a,uses:[Object(h.b)({position:"absolute",top:"8px",left:`${n}%`,width:`${p}%`,minHeight:"10px",display:"flex",justifyContent:s,paddingLeft:k&&l?0:"4px",paddingRight:k&&m?0:"4px",textAlign:s,whiteSpace:"normal",wordBreak:"keep-all",overflowWrap:"normal"})]},m||l?e.a.createElement(f.a.span,{uses:[Object(h.b)({position:"relative",left:"center"!==s?0:`${t}%`})]},a):a))}function VerticalLabelTick({tick:a,ticksX:b,tickCount:c,tickIndex:d}){if(void 0===a)return null;const[g,j]=calculateTickSpace(d,c,b,!1),k=j-g;return e.a.createElement(f.a.span,{title:a,uses:[Object(h.b)({position:"absolute",left:"8px",top:`${g}%`,height:`${k}%`,minWidth:i.c,display:"flex",flexDirection:"column",justifyContent:"center",textWrap:"nowrap",whiteSpace:"normal",wordBreak:"keep-all",overflowWrap:"normal"})]},a)}function AxisLabel({scale:a,format:b,count:c,orientation:f,presetName:g,isUsingBarMark:h=!1,hasTicksFixed:i=!1}){const j="vertical"===f,k=Object(d.useMemo)(()=>{const b=a.ticks(c);return j?b.slice().reverse():b},[a,c,j]),l=k.length,m=Object(d.useMemo)(()=>k.map(b=>j?100-a.plot(b):a.plot(b)),[k,a,j]),n=j?VerticalContainer:HorizontalContainer,o=j?VerticalLabelTick:HorizontalLabelTick;return e.a.createElement(n,{presetName:g,hasTicksFixed:i},k.map((a,c)=>{const d=`${a.toString()}-${c}`;return e.a.createElement(o,{key:d,tick:b(a),tickCount:l,tickIndex:c,ticksX:m,isUsingBarMark:h})}))}b.a=e.a.memo(AxisLabel)},"+jRZ":function(a,b,c){"use strict";var d=c("DdlR");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}const e=d.a[1];var f=new WeakMap,g=new WeakMap;class PathGenerator{line(a){if(a.length<2)return this;let b=a[0],c=a[1];_class_private_field_get(this,f).push(`M ${b} ${e-c}`);for(let d=2;d<a.length;d+=2)b===a[d]?_class_private_field_get(this,f).push(`V ${e-a[d+1]}`):c===a[d+1]?_class_private_field_get(this,f).push(`H ${a[d]}`):_class_private_field_get(this,f).push(`L ${a[d]} ${e-a[d+1]}`),b=a[d],c=a[d+1];return this}bevel(a,b,c){const[d,e]=c.split("-"),f="left"===e?-0.0001:1e-4,g="top"===d?-0.0001:1e-4;this.line([a,b,a,b+g,a+f,b+g])}rect(a,b,c,d,h=1){return _class_private_field_get(this,f).push(`M ${a} ${e-b} V ${e-d} H ${c} V ${e-b} Z`),_class_private_field_get(this,g).strokeWidth=h,this}circle(a,b,c=1){return _class_private_field_get(this,f).push(`M ${a} ${e-b} l 0.0001 0.0001 Z`),_class_private_field_get(this,g).strokeWidth=c,_class_private_field_get(this,g).strokeLinecap="round",this}toPath(){return{..._class_private_field_get(this,g),d:_class_private_field_get(this,f).join(" ")}}constructor(){_class_private_field_init(this,f,{writable:!0,value:[]}),_class_private_field_init(this,g,{writable:!0,value:{strokeWidth:2,vectorEffect:"non-scaling-stroke",strokeLinejoin:"round"}})}}b.a=PathGenerator},"+n5m":function(a,b,c){"use strict";c.d(b,"a",function(){return useControllableState2});var d=c("0qsp"),e=c.n(d),f=c("eFsY");function useControllableState({defaultProp:a,onChange:b,prop:c}){const[d,e]=useUncontrolledState({defaultProp:a,onChange:b}),g=void 0!==c,h=g?c:d,i=Object(f.a)(g?b:e);return[h,i]}function useUncontrolledState({defaultProp:a,onChange:b}){const c=e.a.useState(a),[d]=c,g=e.a.useRef(d),h=Object(f.a)(b);return e.a.useEffect(()=>{g.current!==d&&(h(d),g.current=d)},[d,g,h]),c}function useControllableState2(a){return useControllableState(Array.isArray(a)?{prop:a[0],onChange:a[1]}:{defaultProp:a})}},"0P0z":function(a,b,c){"use strict";c.d(b,"a",function(){return SparkLineChart});var d=c("0qsp"),e=c.n(d),f=c("C0Sm"),g=c("WvmX"),h=c("Xa4U"),i=c("z4J+"),j=c("Qh+s");function SparkLineChart(a){const{data:b,x:c,y:d,xUnitFormat:k,yUnitFormat:l,xScaleFormat:m,yScaleFormat:n,facet:o,presentation:p,tooltip:q,tooltipXUnitFormat:r,tooltipYUnitFormat:s}=a,{xScale:t,yScale:u,interpolatedData:v,metadata:w,tooltipData:x}=Object(h.a)({data:b,dimensions:{x:c,y:d,facet:o},options:{presentation:p,unitFormat:{x:k,y:l},scaleFormat:{x:m,y:n},niceScales:{x:!1,y:!1}}});return(null==b?void 0:b.length)?e.a.createElement(f.a,null,e.a.createElement(g.a,{data:v,x:c,y:d,facet:o,metadata:w}),e.a.createElement(j.a,{tooltipData:x,xScale:t,yScale:u}),e.a.createElement(i.a,{tooltipData:x,xScale:t,yScale:u,x:c,xUnitFormat:null!=r?r:k,yUnitFormat:null!=s?s:l,component:q})):e.a.createElement(f.a,null," ")}},"22Ub":function(a,b,c){"use strict";c.d(b,"a",function(){return e}),c.d(b,"c",function(){return f}),c.d(b,"b",function(){return g}),c.d(b,"e",function(){return h}),c.d(b,"f",function(){return i}),c.d(b,"g",function(){return j}),c.d(b,"h",function(){return k}),c.d(b,"d",function(){return l}),c.d(b,"i",function(){return m});var d=c("dJ5Y");const e="38px",f="60px",g="10px",h=d.a.color.chart.categorical[1].toString(),i="#c0c8d2",j="$",k="small",l="sail-ui-unstable-chart-container",m={small:{max:400.999,count:2},medium:{min:401,max:800.999,count:6},large:{min:801,count:14}}},"2wAq":function(a,b,c){"use strict";c.d(b,"a",function(){return ColorManager});var d=c("dJ5Y"),e=c("22Ub");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_apply_descriptor_set(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}function _class_private_field_set(a,b,c){var d=_class_extract_field_descriptor(a,b,"set");return _class_apply_descriptor_set(a,d,c),c}var f=new WeakMap,g=new WeakMap,h=new WeakMap;class Palette{next(){const a=_class_private_field_get(this,g).length,b=(_class_private_field_get(this,h)+1)%a,c=_class_private_field_get(this,g)[b];return _class_private_field_set(this,h,b),String(_class_private_field_get(this,f)[c])}constructor(a){if(_class_private_field_init(this,f,{writable:!0,value:void 0}),_class_private_field_init(this,g,{writable:!0,value:void 0}),_class_private_field_init(this,h,{writable:!0,value:-1}),void 0===a||!Object.keys(a).length){_class_private_field_set(this,f,d.a.color.chart.categorical),_class_private_field_set(this,g,Object.keys(d.a.color.chart.categorical));return}_class_private_field_set(this,f,a),_class_private_field_set(this,g,Object.keys(a))}}var i=new WeakMap,j=new WeakMap,k=new WeakMap;class ColorManager{get(a){_class_private_field_get(this,j).has(a)||_class_private_field_get(this,j).set(a,_class_private_field_get(this,i).next());const b=_class_private_field_get(this,j).get(a);return null!=b?b:_class_private_field_get(this,k)}constructor(a){_class_private_field_init(this,i,{writable:!0,value:void 0}),_class_private_field_init(this,j,{writable:!0,value:void 0}),_class_private_field_init(this,k,{writable:!0,value:e.e}),_class_private_field_set(this,i,new Palette(a)),_class_private_field_set(this,j,new Map)}}},"34kq":function(a,b,c){"use strict";c.d(b,"a",function(){return getUnitFormatter});var d=c("q2uM"),e=c("zXcj");function getTimeUnitFormatterOptions(a){switch(a){case"millis":default:return{};case"second":return{style:"short-time-seconds"};case"minute":case"hour":return{style:"short-time"};case"day":case"week":return{style:"short-year?-month-day"};case"month":return{style:"medium-year?-month"};case"year":case"decade":case"century":return{style:"long-year"}}}function getUnitFormatter(a){const b=a.domain();if(Object(e.b)(b)){let c;c=a instanceof d.a?a:new d.a().adjust(b).range(a.range());const f=c.magnitude(),[g,h]=a.domain();if(g.getTime()===h.getTime())return{unit:"time",options:{style:"long-year-month-day-time"}};const i=getTimeUnitFormatterOptions(f);return{unit:"time",options:i}}return Object(e.c)(b)?{unit:"number",options:{}}:{unit:"none"}}},"35NC":function(a,b,c){"use strict";c.d(b,"a",function(){return useComparedSeriesForLines});var d=c("0qsp"),e=c("22Ub");function getPresentationalRulesForComparedLines(a){const b=void 0!==a&&!(a instanceof Array),c=void 0!==a&&a instanceof Array;let d,f,g,h;if(b&&(d=`current ${a.name}`,f=a.color,g=`previous ${a.name}`),c){const i=a.find(a=>"facet"===a.attribute&&"current"===a.value);d=null==i?void 0:i.name,f=null==i?void 0:i.color;const j=a.find(a=>"facet"===a.attribute&&"current"===a.value);g=null==j?void 0:j.name,h=null==j?void 0:j.color}return[{attribute:"facet",value:"current",...d?{name:d}:{},...f?{color:f}:{}},{attribute:"facet",value:"previous",...g?{name:g}:{},color:null!=h?h:e.f,lineStyle:"dashed"}]}function useComparedSeriesForLines(a){return Object(d.useMemo)(()=>{const b=new Map,{data:c,x:d,presentation:f}=a,g=`${e.g}${d}`;if(!c||!c.length)return a;for(let h=0;h<c.length;h++){var i,j;const k=null!==(j=null===(i=c[h].compare)|| void 0===i?void 0:i.toString())&& void 0!==j?j:"";b.has(k)||b.set(k,[]);const l=b.get(k);l&&l.push({...c[h],[g]:c[h][d]})}const m=b.get("current"),n=b.get("previous");if(m&&n){if(m.length===n.length)for(let o=0;o<m.length;o++)n[o][g]=m[o][d];else{if(!m.length||!n.length)return a;const p=m[0][d].getTime()-n[0][d].getTime();for(let q=0;q<n.length;q++){const r=n[q][d].getTime()+p;n[q][g]=new Date(r)}}return{...a,data:[...m.values(),...n.values()],x:`${e.g}${d}`,facet:"compare",presentation:getPresentationalRulesForComparedLines(f)}}return a},[a])}},"3QLC":function(a,b,c){"use strict";c.d(b,"a",function(){return SvgChart});var d=c("0qsp"),e=c.n(d);function SvgChart({children:a}){return e.a.createElement("svg",{viewBox:"0 0 100 100",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",style:{overflow:"visible"}},a)}},"4MTm":function(a,b,c){"use strict";c.d(b,"a",function(){return BarChart});var d=c("0qsp"),e=c.n(d),f=c("YnUr"),g=c("5dYt"),h=c("l0ik"),i=c("yS+3"),j=c("kwj6");function BarChart(a){const{data:b,x:c,y:d,xUnitFormat:k,yUnitFormat:l,yScaleFormat:m,xDesiredTickCount:n,yDesiredTickCount:o,stack:p,group:q,presentation:r,tooltip:s,legendEnabled:t=!1,tooltipXUnitFormat:u,tooltipYUnitFormat:v,UNSTABLE_minXTicks:w=!1}=a,{xScale:x,yScale:y,stacks:z,tooltipData:A,metadata:B,legendData:C}=Object(i.a)({data:b,dimensions:{x:c,y:d,stack:p,group:q},options:{barWidth:.75,presentation:r,legend:{enabled:t},scaleFormat:{y:m},unitFormat:{x:k},desiredTicks:{y:o}}});return(null==b?void 0:b.length)?e.a.createElement(g.a,{xScale:x,yScale:y,xUnitFormat:k,yUnitFormat:l,xDesiredTickCount:n,yDesiredTickCount:o,UNSTABLE_minXTicks:w,legendData:C,isUsingBarMark:!0},e.a.createElement(f.a,{stacks:z,yScale:y,x:c,y:d,stack:p,group:q,metadata:B}),e.a.createElement(j.b,{tooltipData:A,xScale:x,yScale:y,xUnitFormat:null!=u?u:k,yUnitFormat:null!=v?v:l,component:s})):e.a.createElement(h.a,{isUsingBarMark:!0})}},"4jHI":function(a,b,c){"use strict";c.d(b,"a",function(){return assertIsValidReportingQueryResult});var d=c("KuwK"),e=c.n(d),f=c("Gzzz"),g=c.n(f),h=c("szBP"),i=c("PFCO");const j={cloneDeep:g.a,isEqual:e.a},assertIsValidReportingQueryResult=(a,b,c,d)=>{const e=null==a?void 0:a.rows;if(Array.isArray(e)&&0===e.length)return!0;if(!a||!a.columns||!Array.isArray(a.columns))return Object(h.t)("FinanceReportRun: result.columns should be an array","financial_reporting"),!1;const f=j.cloneDeep(a.columns);if(f.forEach(a=>delete a.__typename),!j.isEqual(f,b)){Object(h.t)("FinanceReportRun: result.columns does not match expected result",d,{extra:{expectedColumns:b,receivedColumns:f,reportTypeId:c}});for(let g=0;g<Math.max(f.length,b.length);g++){const i=f[g],k=b[g];let l;null==i?l=`Missing column "${k.name}"`:null==k?l=`Received an unexpected column "${null==i?void 0:i.name}"`:i.name!==k.name?l=`Received column "${i.name}" but expected "${k.name}"`:i.type!==k.type&&(l=`Column type '${i.type}' for "${i.name}" doesn't match expected type '${k.type}'`),l&&Object(h.ab)(`DEBUG: ${l}`)}return!1}if(!e||!Array.isArray(e))return Object(h.t)("FinanceReportRun: rows should be an array",d,{extra:{reportTypeId:c}}),!1;for(const m of e)if(!Array.isArray(m)||m.length!==b.length)return Object(h.t)("FinanceReportRun: rows should be an array of arrays with the expected number of columns",d,{extra:{reportTypeId:c}}),Array.isArray(m)&&Object(h.ab)(`DEBUG: Received row with ${m.length} columns but expected ${b.length}`),!1;return!0};b.b=i.d},"5dYt":function(a,b,c){"use strict";c.d(b,"a",function(){return BiscalarChart});var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("Olvt"),h=c("ZgPq"),i=c("3QLC"),j=c("lq6c"),k=c("+KqD"),l=c("Mg3P"),m=c("22Ub"),n=c("Ye1g"),o=c("7vBN"),p=c("dugB"),q=c("nE93"),r=c("erQz"),s=c("6vhp");function BiscalarChart(a){const{xScale:b,yScale:c,xUnitFormat:d,yUnitFormat:t,xDesiredTickCount:u,yDesiredTickCount:v,children:w,isUsingBarMark:x=!1,UNSTABLE_minXTicks:y=!1}=a,{pointer:z,pointerProps:A}=Object(o.b)(),B=Object(h.b)(),C=void 0!==u||y,D=Object(p.b)(b,C),E=Object(n.a)(D,d),F=Object(n.a)(c,t),G=Object(n.a)(b,d),H=Object(p.a)(b,D,B,C);return e.a.createElement(f.a.div,{css:{position:"relative",stack:"x",height:"fill"},uses:[H,Object(g.b)({containerType:"inline-size",containerName:`${m.d}-${B} ${m.d}`})]},e.a.createElement(r.a,null),e.a.createElement(f.a.div,{css:{position:"absolute",width:"fill",height:"fill",stack:"y"}},e.a.createElement(f.a.div,{...A,css:{boxSizing:"border-box",padding:`${m.b} ${m.c} ${m.a} 0`,position:"relative",width:"fill",height:"fit",minHeight:"space.0"}},e.a.createElement(i.a,null,e.a.createElement(j.a,{yScale:c,yCount:v}),e.a.createElement(o.a,{value:z},w)),e.a.createElement(k.a,{scale:c,format:F,orientation:"vertical",count:v}),y?e.a.createElement(q.a,{scale:b,format:G,orientation:"horizontal",isUsingBarMark:x,count:u,UNSTABLE_minTicks:y}):e.a.createElement(l.a,{originalXScale:b,responsiveScales:D,xCurrentUnitFormatter:E,defaultXCurrentUnitFormatter:G,xDesiredTickCount:u,isUsingBarMark:x,hasTicksFixed:C})),a.legendData?e.a.createElement(s.a,{legendData:a.legendData}):null))}},"6vhp":function(a,b,c){"use strict";c.d(b,"a",function(){return Legend});var d=c("0qsp"),e=c.n(d),f=c("Olvt"),g=c("nPYo"),h=c("3QLC"),i=c("+jRZ");const j=Object(f.b)({stack:"x",gap:"small",alignY:"center",distribute:"space-between"});function BarMarker({color:a}){return e.a.createElement(g.a.figure,{css:{margin:"space.0",padding:"space.0",width:"space.150",height:"space.150",backgroundColor:a}})}function LineMarker({color:a}){const b=new i.a;return b.line([0,35,100,65]),e.a.createElement(g.a.div,{css:{margin:"space.0",padding:"space.0",width:"space.150"}},e.a.createElement(h.a,null,e.a.createElement("path",{fill:a,stroke:a,...b.toPath(),strokeWidth:3})))}function LineDottedMarker({color:a}){const b=new i.a;return b.line([0,35,100,65]),e.a.createElement(g.a.div,{css:{margin:"space.0",padding:"space.0",width:"space.150"}},e.a.createElement(h.a,null,e.a.createElement("path",{fill:a,stroke:a,...b.toPath(),strokeWidth:3,strokeDasharray:"3 2"})))}function getMarker(a){return"line"===a?LineMarker:"line-dotted"===a?LineDottedMarker:BarMarker}function LegendItem({color:a,name:b,shape:c}){const d=getMarker(c);return e.a.createElement(g.a.div,{uses:[j]},e.a.createElement(d,{color:a}),b?e.a.createElement(g.a.span,{css:{fontSize:"heading.xsmall",color:"subdued"}},b):null)}function Legend({legendData:a}){return e.a.createElement(g.a.div,{css:{stack:"x",alignX:"start",wrap:"wrap",gap:"small",bottom:"space.0"}},a.map(({color:a,name:b,shape:c},d)=>e.a.createElement(g.a.div,{key:`${a}.${b}.${d}`},e.a.createElement(LegendItem,{color:null!=a?a:"#ddd",name:null!=b?b:"series",shape:null!=c?c:"bar"}))))}},"74GN":function(a,b,c){"use strict";c.d(b,"a",function(){return forceDomainForScale});var d=c("MQ8h"),e=c("q2uM");function forceDomainForScale(a,b,c){if(b&&(a instanceof d.a||a instanceof e.a)){var f,g;if("string"==typeof b){"exact"===b&&a.nice(!1);return}const[h,i]=a.domain();var j;const k=null!==(j=null===(f=b.domain)|| void 0===f?void 0:f.min)&& void 0!==j?j:h;var l;const m=null!==(l=null===(g=b.domain)|| void 0===g?void 0:g.max)&& void 0!==l?l:i;a.nice(!1),d.a,a.domain([k,m])}void 0!==c&&a.ticks(c)}},"7AnN":function(a,b,c){"use strict";c.d(b,"a",function(){return BarMask});var d=c("0qsp"),e=c.n(d),f=c("+jRZ"),g=c("DdlR");const h=2,i=2;function BarMask({data:a,yScale:b,chartId:c}){const d=new f.a,j=new f.a,k=b.plot(b.domain()[0]),l=b.plot(b.domain()[1]),m=g.a[1],n=[...a.entries()];return n.forEach(([,a],b)=>{for(let c=0;c<a.length;c++){const{x0:e,y0:f,x1:g}=a[c];d.line([e,f,g,f]),j.line([e,k,e,l]),b===n.length-1&&j.line([g,k,g,l])}}),e.a.createElement(e.a.Fragment,null,e.a.createElement("mask",{id:`_bar-mask-${c}`},e.a.createElement("rect",{width:m,height:m,fill:"white"}),e.a.createElement("path",{stroke:"black",...d.toPath(),strokeWidth:h}),e.a.createElement("path",{stroke:"black",...j.toPath(),strokeWidth:i})))}},"7fSA":function(a,b,c){"use strict";var d=c("DMQh");c.d(b,"b",function(){return d.c});var e=c("FUds");c.d(b,"c",function(){return e.b});var f=c("nZeF");c.d(b,"a",function(){return f.d})},"7vBN":function(a,b,c){"use strict";c.d(b,"a",function(){return PointerProvider}),c.d(b,"c",function(){return usePointerValue}),c.d(b,"b",function(){return usePointer});var d=c("0qsp"),e=c.n(d),f=c("GOoH");const g=Object(d.createContext)(null),PointerProvider=({value:a,children:b})=>e.a.createElement(g.Provider,{value:a},b);function usePointerValue(){return Object(d.useContext)(g)}function usePointer(){const[a,b]=Object(d.useState)(null),c=Object(d.useRef)(null),g=Object(d.useCallback)(a=>{const d=a.currentTarget;if(!d)return;const e=a.clientX,g=a.clientY,h=d.getBoundingClientRect();c.current||(c.current=d.ownerDocument.defaultView.getComputedStyle(d));const{paddingTop:i,paddingRight:j,paddingBottom:k,paddingLeft:l}=c.current,m=h.width-(parseInt(l,10)+parseInt(j,10)),n=h.height-(parseInt(i,10)+parseInt(k,10)),o=Object(f.a)(h.width),p=e-h.left,q=g-h.top,r=100*p/m,s=100*q/n,t=d.ownerDocument.defaultView||window,{scrollX:u,scrollY:v}=t;b({page:{x:a.pageX,y:a.pageY},chart:{x:p,y:q},range:{x:r,y:s},bounds:{x:u+h.left,y:v+h.top,width:m,height:n},presetName:o})},[]),h=Object(d.useCallback)(()=>b(null),[]),i=e.a.useMemo(()=>({onPointerDown(a){("touch"===a.pointerType||"mouse"===a.pointerType&&1===a.buttons)&&g(a)},onPointerMove(a){g(a)},onPointerLeave(a){"touch"!==a.pointerType&&h()}}),[h,g]);return{pointer:a,pointerProps:i}}},C0Sm:function(a,b,c){"use strict";c.d(b,"a",function(){return SparkChart});var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("3QLC"),h=c("7vBN");const i=e.a.memo(({ratio:a=4/3})=>e.a.createElement(f.a.div,{css:{position:"relative",maxHeight:"fill",overflow:"hidden",pointerEvents:"none"}},e.a.createElement(f.a.div,{css:{boxSizing:"border-box",width:"fill",height:"space.0",paddingTop:`calc(100% / (${a}))`}})));function SparkChart(a){const{children:b}=a,{pointer:c,pointerProps:d}=Object(h.b)();return e.a.createElement(f.a.div,{css:{position:"relative",stack:"x",height:"fill"}},e.a.createElement(i,null),e.a.createElement(f.a.div,{...d,css:{position:"absolute",boxSizing:"border-box",width:"fill",height:"fill"}},e.a.createElement(g.a,null,e.a.createElement(h.a,{value:c},b))))}},C6VZ:function(a,b,c){"use strict";c.d(b,"a",function(){return LineMask});var d=c("0qsp"),e=c.n(d),f=c("+jRZ");function LineMask({data:a,x:b,y:c,chartId:d}){const g=[...a.entries()];return e.a.createElement("mask",{id:`_line-mask-${d}`},g.map(([a,g],h)=>{let i=new f.a;const j=[];for(let k=0;k<g.length;k++){const l=g[k];j.push(l[b]),j.push(l[c])}return i=i.line(j),e.a.createElement("g",{key:`_line-mask-${d}-${h}-added`},e.a.createElement("path",{fill:"transparent",stroke:"black",...i.toPath(),strokeWidth:5,strokeLinecap:"round"}),e.a.createElement("path",{fill:"transparent",stroke:"white",...i.toPath(),strokeWidth:3,strokeLinecap:"round"}))}))}},Cc4s:function(a,b,c){"use strict";c.d(b,"a",function(){return LineChart});var d=c("0qsp"),e=c.n(d),f=c("5dYt"),g=c("WvmX"),h=c("Xa4U"),i=c("z4J+"),j=c("l0ik"),k=c("Qh+s");function LineChart(a){const{data:b,x:c,y:d,xUnitFormat:l,yUnitFormat:m,xScaleFormat:n,yScaleFormat:o,facet:p,presentation:q,tooltip:r,legendEnabled:s=!1,tooltipXUnitFormat:t,tooltipYUnitFormat:u,xDesiredTickCount:v,yDesiredTickCount:w,UNSTABLE_minXTicks:x=!1}=a,{xScale:y,yScale:z,interpolatedData:A,metadata:B,tooltipData:C,legendData:D}=Object(h.a)({data:b,dimensions:{x:c,y:d,facet:p},options:{presentation:q,legend:{enabled:s},unitFormat:{x:l,y:m},scaleFormat:{x:n,y:o},desiredTicks:{x:v,y:w}}});return(null==b?void 0:b.length)?e.a.createElement(f.a,{xScale:y,yScale:z,xUnitFormat:l,yUnitFormat:m,xDesiredTickCount:v,yDesiredTickCount:w,UNSTABLE_minXTicks:x,legendData:D},e.a.createElement(g.a,{data:A,x:c,y:d,facet:p,metadata:B}),e.a.createElement(k.a,{tooltipData:C,xScale:y,yScale:z,xDesiredTickCount:v,UNSTABLE_minXTicks:x}),e.a.createElement(i.a,{tooltipData:C,x:c,xScale:y,yScale:z,xUnitFormat:null!=t?t:l,yUnitFormat:null!=u?u:m,xDesiredTickCount:v,UNSTABLE_minXTicks:x,component:r})):e.a.createElement(j.a,null)}},"Cq/6":function(a,b,c){"use strict";c.d(b,"a",function(){return MetricControlsHorizontal}),c.d(b,"b",function(){return MetricControlsVertical});var d=c("Yms6"),e=c("nPYo"),f=c("IyFq"),g=c("2gqV"),h=c("gSz5"),i=c("n2FO"),j=c("lbsd"),k=c("HOsA");c("0qsp");var l=c("Wu+W"),m=c("U2Da"),n=c("DMQh"),o=c("nZeF"),p=c("iDYf"),q=c("kezX"),r=c("SZBo"),s=c("FUds");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}const t=["currency","time","percent","number","none"];function MetricControlsHorizontal(a){var b;return Object(d.jsxs)(e.a.div,{css:{stack:"x",gap:"small",alignX:"start",height:"fit",paddingTop:"medium",wrap:"wrap"},children:[null!==(b=a.customControls)&& void 0!==b?b:null,a.showGroups?Object(d.jsx)(q.a,{table:a.tableHook.table,fields:a.tableHook.fields,currentSelection:a.tableHook.pivotState.rowKey,setCurrentSelection:b=>a.tableHook.setPivotState(a=>_object_spread_props(_object_spread({},a),{rowKey:b})),metricName:a.metricName,setIsOpen:a.setGroupByPopoverOpen,renderHighlightedGroupSelector:a.allowHighlightedGroups?a.renderFilterSelector:void 0,highlightedGroupIds:a.allowHighlightedGroups?a.tableHook.pivotState.rowHighlightedGroupIds:void 0,setHighlightedGroupIds:a.allowHighlightedGroups?b=>a.tableHook.setPivotState(a=>_object_spread_props(_object_spread({},a),{rowHighlightedGroupIds:b})):void 0}):null,a.showFilters?Object(d.jsx)(r.b,{table:a.tableHook.table,fields:a.tableHook.fields,setPivotTableFilter:b=>a.tableHook.setPivotState(a=>_object_spread_props(_object_spread({},a),{filter:b})),metricName:a.metricName,renderFilterSelector:a.renderFilterSelector,setIsOpen:a.setFilterByPopoverOpen}):null]})}function AccordionContent(a){return Object(d.jsx)(e.a.div,{css:{padding:"large",paddingTop:"medium",stack:"y",gap:"small"},children:a.children})}function MetricControlsVertical(a){var b;const{table:c,pivotState:q,setPivotState:r}=null!==(b=a.tableHook)&& void 0!==b?b:{},{formatMessage:u}=Object(m.a)(),v=Object(s.a)(c);return Object(d.jsxs)(f.a,{children:[a.customControls,a.showFilters?Object(d.jsx)(g.a,{title:u(p.a.filters),children:Object(d.jsx)(AccordionContent,{children:c.getAllColumns().filter(a=>a.getCanFilter()).map(a=>{const b=v[a.id];return Object(d.jsxs)(e.a.div,{css:{stack:"x",gap:"small",alignY:"bottom"},children:[Object(d.jsx)(h.a,{css:{maxWidth:"medium"},label:Object(o.e)(a.id),data:b.map(String).map(a=>({key:a,label:a?Object(o.e)(a):String(a)})),item:"label",filterable:!0,selectedKey:a.getFilterValue(),onSelectionChange:b=>a.setFilterValue(b)}),Object(d.jsx)(i.a,{type:"label",trigger:Object(d.jsx)(j.a,{css:{visibility:a.getIsFiltered()?"visible":"hidden"},onPress:()=>a.setFilterValue(null),children:Object(d.jsx)(k.c,{icon:l.a})}),placement:"top",children:u(p.a.clearFilter)})]},a.id)})})}):null,a.showPivot&&"data"!==a.viewType?Object(d.jsx)(g.a,{title:"Pivot",children:Object(d.jsx)(AccordionContent,{children:["rowKey","colKey","valueKey","aggregationFn","rowFormat","colFormat","valueFormat"].map(a=>{const b=null==q?void 0:q[a],f={rowKey:"Row",colKey:"Column",valueKey:"Value",aggregationFn:"Aggregation function",rowFormat:"Row format",colFormat:"Column format",valueFormat:"Value format"}[a];return Object(d.jsxs)(e.a.div,{css:{stack:"x",gap:"small",alignY:"bottom"},children:[Object(d.jsx)(h.a,{css:{maxWidth:"medium"},label:f,data:a.endsWith("Format")?t.map(a=>({key:a,label:Object(o.e)(a)})):"aggregationFn"===a?n.a.map(a=>({key:a,label:Object(o.e)(a)})):c.getAllColumns().filter(a=>a.getCanGroup()).map(a=>({key:a.id,label:Object(o.e)(a.id)})),item:"label",filterable:!0,selectedKey:a.endsWith("Format")?null==b?void 0:b.unit:b,onSelectionChange(b){let c=b;a.endsWith("Format")&&(c={unit:b,options:{}},"currency"===b&&(c={unit:b,options:{currency:"USD"}}),"time"===b&&(c={unit:b,options:{style:"medium-year-month-day"}})),r(b=>_object_spread_props(_object_spread({},b),{[a]:c}))}}),Object(d.jsx)(i.a,{type:"label",trigger:Object(d.jsx)(j.a,{css:{visibility:b?"visible":"hidden"},onPress:()=>r(b=>_object_spread_props(_object_spread({},b),{[a]:null})),children:Object(d.jsx)(k.c,{icon:l.a})}),placement:"top",children:u(p.a.clear)})]},a)})})}):null]})}},DMQh:function(a,b,c){"use strict";c.d(b,"a",function(){return m}),c.d(b,"d",function(){return usePivotTableState}),c.d(b,"b",function(){return n}),c.d(b,"c",function(){return usePivotTable});var d=c("afBP"),e=c("U2Da"),f=c("dJ5Y"),g=c("A7PH"),h=c("0qsp"),i=c.n(h),j=c("+n5m"),k=c("nZeF");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function _object_without_properties(a,b){if(null==a)return{};var c=_object_without_properties_loose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _object_without_properties_loose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}const l={sum:Object(k.d)()((a,b,c)=>c.reduce((b,c)=>b+c[a],0)),first:Object(k.d)()((a,b,c)=>{const d=c[0];return null==d?void 0:d[a]}),last:Object(k.d)()((a,b,c)=>{const d=c[c.length-1];return null==d?void 0:d[a]})},m=Object.keys(l);function usePivotTableState(a={}){return i.a.useState(a)}const n="__TEMPORARY_OTHER_GROUP_KEY__";function createPivotTable(a){var{tableHook:{table:b,fields:c},pivotState:e}=a,h=_object_without_properties(a,["tableHook","pivotState"]),i,j;const{colKey:m,valueKey:o,comparisonValueKey:p}=e,q=p&&o,r=q?"compare":e.rowKey;let s=b.getFilteredRowModel().rows;q&&(s=s.flatMap(a=>[_object_spread_props(_object_spread({},a),{original:_object_spread_props(_object_spread({},a.original),{compare:"current"})}),_object_spread_props(_object_spread({},a),{original:_object_spread_props(_object_spread({},a.original),{compare:"previous",[o]:a.original[p]})})]),c.push({id:"compare",getGroupingValue:a=>a.compare}));const t=c.find(a=>a.id===r),u=c.find(a=>a.id===m),v=c.find(a=>a.id===o);var w,x,y,z,A,B;const C=_object_spread_props(_object_spread({},e),{rowFormat:null!==(x=null!==(w=e.rowFormat)&& void 0!==w?w:null==t?void 0:t.unitFormat)&& void 0!==x?x:{unit:"none"},colFormat:null!==(z=null!==(y=e.colFormat)&& void 0!==y?y:null==u?void 0:u.unitFormat)&& void 0!==z?z:{unit:"none"},valueFormat:null!==(B=null!==(A=e.valueFormat)&& void 0!==A?A:null==v?void 0:v.unitFormat)&& void 0!==B?B:{unit:"none"}}),D={},E={row:[],col:[],both:[],none:[]},keyForCell=({colValue:a,rowValue:b})=>void 0!==b&& void 0!==a?`C(${a})-R(${b})`:void 0!==b?`R(${b})`:void 0!==a?`C(${a})`:"()";function getCell(a){return D[keyForCell(a)]}function getOrInitCell(a){const b=keyForCell(a);if(!D[b]){const c=_object_spread_props(_object_spread({},a),{rows:[]});D[b]=c;let d;E[void 0!==a.rowValue&& void 0!==a.colValue?"both":void 0!==a.rowValue?"row":void 0!==a.colValue?"col":"none"].push(c)}return D[b]}s.forEach(a=>{var b,c;const d=null==t?void 0:null===(b=t.getGroupingValue(a.original))|| void 0===b?void 0:b.toString(),e=null==u?void 0:null===(c=u.getGroupingValue(a.original))|| void 0===c?void 0:c.toString();[r&&m&&{rowValue:d,colValue:e},r&&{rowValue:d,colValue:void 0},m&&{rowValue:void 0,colValue:e},{rowValue:void 0,colValue:void 0}].filter(a=>!!a).forEach(b=>{const c=getOrInitCell(b);c.rows.push(a)})}),[{rowValue:void 0,colValue:void 0},...E.row,...E.col,...E.row.flatMap(a=>E.col.map(b=>({rowValue:a.rowValue,colValue:b.colValue})))].forEach(a=>{getOrInitCell(a)});const F=Object(k.c)(C.rowFormat,h.intlHook),G=Object(k.c)(C.colFormat,h.intlHook),H=Object(k.c)(C.valueFormat,h.intlHook),I=Object.values(D);var J;const K=l[null!==(J=C.aggregationFn)&& void 0!==J?J:"sum"];var L;K&&Object.entries(D).forEach(([,a])=>{a.reducedValue=K(o,a.rows.map(a=>a.original),a.rows.map(a=>a.original)),a.reducedValueDisplay=H(a.reducedValue).label});const M=(null!==(L=null==u?void 0:null===(i=u.possibleValues)|| void 0===i?void 0:i.map(a=>a))&& void 0!==L?L:m?E.col.map(a=>a.colValue):[]).map(a=>_object_spread({value:a},G(a)));var N;const O=(null!==(N=null==t?void 0:null===(j=t.possibleValues)|| void 0===j?void 0:j.map(a=>a))&& void 0!==N?N:r?E.row.map(a=>a.rowValue):[]).map(a=>{var b,c,d;return _object_spread_props(_object_spread({value:a},F(a)),{sortValue:(null===(b=C.rowSorting)|| void 0===b?void 0:b.by)==="reducedValue"?null===(c=D[keyForCell({rowValue:a,colValue:null===(d=C.rowSorting)|| void 0===d?void 0:d.colValue})])|| void 0===c?void 0:c.reducedValue:a})});if(C.rowSorting){O.sort(Object(k.b)("sortValue",C.rowSorting.direction));const P=O.findIndex(a=>a.value===n);if(-1!==P){const Q=O[P];O.splice(P,1),O.push(Q)}}var R;const S=null!==(R=C.rowGroupLimit)&& void 0!==R?R:10;if(S<O.length){const T=O.splice(S),U=n;O.push({value:U,label:h.intlHook.formatMessage(Object(d.a)({id:"reporting.metric-detail.other-group",defaultMessage:"Other",description:'Label for the "Other" group in a pivot table'})),color:void 0,sortValue:void 0}),E.row=O.map(a=>D[keyForCell({rowValue:a.value,colValue:void 0})]),E.both=[],[...M,{value:void 0}].forEach(a=>{const b=getOrInitCell({rowValue:U,colValue:a.value});T.forEach(c=>{const d=getOrInitCell({rowValue:c.value,colValue:a.value});b.rows.push(...d.rows)}),K&&(b.reducedValue=K(o,b.rows.map(a=>a.original),b.rows.map(a=>a.original)),b.reducedValueDisplay=H(b.reducedValue).label),void 0!==a.value&&O.forEach(b=>{b.value!==U&&E.both.push(D[keyForCell({rowValue:b.value,colValue:a.value})])})})}const V=Object.keys(f.a.color.chart.categorical).length;O.forEach((a,b)=>{const c=f.a.color.chart.categorical[b%V+1];var d;a.color=null!==(d=a.color)&& void 0!==d?d:c}),[O,M].forEach(a=>{Object.entries(Object(g.groupBy)(a,a=>a.label)).forEach(([a,b])=>{b.length>1&&a&&b.forEach(b=>{b.label=`${a} (${b.value})`})})}),"runningTotalInRow"===C.showValueAs&&[...O,void 0].forEach(a=>{let b=0;[...M,void 0].forEach(c=>{const d=getCell({rowValue:null==a?void 0:a.value,colValue:null==c?void 0:c.value});d&&(d.colValue&&(b+=Number(d.reducedValue)),d.reducedValue=b,d.reducedValueDisplay=H(b).label)})});const W=Object.fromEntries(Object.values(O).map(a=>[`${a.value}`,a])),X=Object.fromEntries(Object.values(M).map(a=>[`${a.value}`,a])),Y=E.none[0];return _object_spread_props(_object_spread({},h),{table:b,fields:c,originalData:s.map(a=>a.original),rowKey:r,colKey:m,rowHeaders:O,colHeaders:M,rowHeaderbyValue:W,colHeaderbyValue:X,cellByKey:D,cellsByType:E,cellAtRoot:Y,cells:I,keyForCell,rowField:t,colField:u,valueField:v,pivotState:C,getCell})}function usePivotTable(a){var{tableHook:b}=a,c=_object_without_properties(a,["tableHook"]),d;const[f,g]=Object(j.a)(null!==(d=c.state)&& void 0!==d?d:{}),h=Object(e.a)(),k=i.a.useMemo(()=>withTimer("[usePivotTable] createPivotTable",()=>createPivotTable({tableHook:b,intlHook:h,pivotState:f})),[h,f,b]);return _object_spread_props(_object_spread({},k),{pivotState:k.pivotState,setPivotState:g})}function withTimer(a,b){const c=b();return c}},DdlR:function(a,b,c){"use strict";c.d(b,"a",function(){return d});const d=[0,100]},E3yX:function(a,b,c){"use strict";function getDivisors(a){if(a<=0)return[];const b=[];for(let c=1;c<=Math.sqrt(a);c++)a%c==0&&(b.push(c),c!==a/c&&b.push(a/c));return b.sort((a,b)=>a-b)}function previousNonPrime(a){if(getDivisors(a).length>2)return a;for(let b=a-1;b>=2;b--)if(getDivisors(b).length>2)return b;return 1}function findOptimalDivisor(a,b){const c=2,d=10;let e=a,f=1/0;for(const g of b){const h=Math.floor(a/g);if(h<c)continue;let i=h<=d?d-h:h-d;if((i+=g/a)<f&&(f=i,e=g),h<=d)break}return e}function UNSTABLE_getOptimalTicks(a=[]){if(a.length<=3)return a.map((a,b)=>b);const b=previousNonPrime(a.length),c=a.length>9?3:2,d=getDivisors(b).filter(a=>a>c),e=findOptimalDivisor(a.length,d);return a.map(function(b,c){if(c%e==0||c===a.length-1)return c}).filter(a=>void 0!==a)}c.d(b,"a",function(){return UNSTABLE_getOptimalTicks})},FUds:function(a,b,c){"use strict";c.d(b,"a",function(){return calculateAllColumnValues}),c.d(b,"c",function(){return useTableState}),c.d(b,"b",function(){return useTable});var d=c("j9Wv"),e=c("OxMW"),f=c("0qsp"),g=c.n(f),h=c("nZeF");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function calculateAllColumnValues(a){const b={},c=a.getAllColumns().filter(a=>a.getCanFilter());return a.getPreFilteredRowModel().flatRows.forEach(a=>{c.forEach(c=>{const d=a.getValue(c.id);null==d||(b[c.id]||(b[c.id]=[]),b[c.id].includes(d)||b[c.id].push(d))})}),b}function useTableState(a={}){var b;const[c,d]=g.a.useState(null!==(b=a.columnFilters)&& void 0!==b?b:[]);var e;const[f,h]=g.a.useState(null!==(e=a.sorting)&& void 0!==e?e:[]);var i;const[j,k]=g.a.useState(null!==(i=a.pagination)&& void 0!==i?i:{pageIndex:0,pageSize:100}),l=g.a.useMemo(()=>({columnFilters:c,sorting:f,pagination:j}),[c,f,j]),m=g.a.useMemo(()=>({onColumnFiltersChange:d,onSortingChange:h,onPaginationChange:k,initialState:a}),[d,h,k,a]);return[l,m]}function useTable(a,b){const c=a[0],f=g.a.useMemo(()=>{var a;return Object.entries(null!==(a=null==b?void 0:b.fields)&& void 0!==a?a:Object.fromEntries(Object.entries(null!=c?c:{}).map(([a])=>[a,{}]))).map(([a,b])=>{var c,d,e,f,g,i;return _object_spread_props(_object_spread({},b),{id:a,label:null!==(c=b.label)&& void 0!==c?c:Object(h.e)(a),unitFormat:null!==(d=b.unitFormat)&& void 0!==d?d:{unit:"none"},canFilter:null===(e=b.canFilter)|| void 0===e||e,canGroup:null===(f=b.canGroup)|| void 0===f||f,canSort:null===(g=b.canSort)|| void 0===g||g,getGroupingValue:null!==(i=b.getGroupingValue)&& void 0!==i?i:b=>b[a]})})},[c,null==b?void 0:b.fields]),[i,j]=Object(h.f)(null==b?void 0:b.state,useTableState()),k=Object(d.a)(_object_spread_props(_object_spread({data:a,columns:f.map(a=>_object_spread_props(_object_spread({accessorKey:a.id,enableColumnFilter:a.canFilter,enableGrouping:a.canGroup,enableSorting:a.canSort,getGroupingValue:a.getGroupingValue},a.getSortableValue&&{sortingFn:Object(h.b)(b=>a.getSortableValue(b.original))}),{filterFn:"arrIncludes"})),getCoreRowModel:Object(e.b)(),getFilteredRowModel:Object(e.e)(),getFacetedRowModel:Object(e.c)(),getFacetedUniqueValues:Object(e.d)(),getSortedRowModel:Object(e.g)(),getPaginationRowModel:Object(e.f)(),manualSorting:null==b?void 0:b.serverSorting,manualPagination:null==b?void 0:b.serverPagination,manualFiltering:null==b?void 0:b.serverFiltering,rowCount:null==b?void 0:b.rowCount},j),{state:i}));return g.a.useEffect(()=>{k.setPageIndex(0)},[i.sorting,i.columnFilters,k]),g.a.useMemo(()=>({table:k,fields:f,state:i}),[k,f,i])}},GOoH:function(a,b,c){"use strict";c.d(b,"b",function(){return transformDomainIntoQuery}),c.d(b,"a",function(){return getPresetNameForWidth});var d=c("22Ub");function transformDomainIntoQuery(a,b){let c="";const d=void 0!==a,e=void 0!==b;return d&&(c=`${c}(min-width: ${a}px)`),d&&e&&(c=` ${c} and `),e&&(c=`${c}(max-width: ${b}px)`),c}function getPresetNameForWidth(a){const b=Object.entries(d.i).filter(([b,c])=>{var d;const e=null!==(d=c.min)&& void 0!==d?d:0;var f;const g=null!==(f=c.max)&& void 0!==f?f:Number.MAX_SAFE_INTEGER;return!!(e<=a)&&(!!(g>=a)|| void 0===g)});return b.length?b[b.length-1][0]:d.h}},Kq9m:function(a,b,c){"use strict";c.d(b,"a",function(){return f});var d=c("afBP"),e=c("7fSA");const f=Object(e.a)()({gross_volume:{reportType:"dashboard_experience.orgs_gross_volume.v1",title:Object(d.a)({id:"reporting.reporting-chart.gross-volume-title",defaultMessage:"Gross Volume",description:"Title of the gross volume report"}),description:Object(d.a)({id:"reporting.reporting-chart.gross-volume-description",defaultMessage:"Estimated revenue from payments that are settled to your Stripe balance.",description:"The info tooltip explaining the Gross volume line chart widget"})},net_volume:{reportType:"dashboard_experience.orgs_net_volume.v1",title:Object(d.a)({id:"reporting.reporting-chart.net-volume-title",defaultMessage:"Net volume from sales",description:"The title of the Net volume line chart widget"}),description:Object(d.a)({id:"reporting.reporting-chart.net-volume-description",defaultMessage:"Estimated revenue from payments after fees, refunds, disputes, and Connect transfers have been deducted.",description:"The info tooltip explaining the Net volume line chart widget"})}})},MQ8h:function(a,b,c){"use strict";c.d(b,"a",function(){return LinearScale});var d=c("DdlR"),e=c("TcGI");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_apply_descriptor_set(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}function _class_private_field_set(a,b,c){var d=_class_extract_field_descriptor(a,b,"set");return _class_apply_descriptor_set(a,d,c),c}const f=[Number.MAX_VALUE,-Number.MAX_VALUE];var g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakMap,l=new WeakMap,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakMap;class LinearScale{domain(a){return a?(_class_private_field_set(this,h,a),_class_private_field_set(this,g,a),_class_private_field_get(this,m)&&this.adaptDomainToTicks(),_class_private_field_set(this,j,!0),this):_class_private_field_get(this,g)}range(a){return a?(_class_private_field_set(this,i,a),_class_private_field_set(this,j,!0),this):_class_private_field_get(this,i)}nice(a){if(void 0===a)return _class_private_field_get(this,m);_class_private_field_set(this,m,a);const b=_class_private_field_get(this,h)[0]===_class_private_field_get(this,h)[1],c=b?_class_private_field_get(this,g):_class_private_field_get(this,h);return this.domain(c),_class_private_field_set(this,j,!0),this}generate(){const a=_class_private_field_get(this,g),b=_class_private_field_get(this,i);_class_private_field_set(this,o,(b[1]-b[0])/(a[1]-a[0])),_class_private_field_set(this,p,b[0]-_class_private_field_get(this,o)*a[0]),_class_private_field_set(this,l,new Map),_class_private_field_set(this,j,!1)}adaptDomainToTicks(){const a=_class_private_field_get(this,h),b=Object(e.a)(a[0],a[1],_class_private_field_get(this,n)),c=b.length>=2?b[1]-b[0]:b[0],d=Number.isNaN(c)||!c,f=d?a[1]-a[0]:c;var i;let l=null!==(i=b[0])&& void 0!==i?i:a[0];var m;let o=null!==(m=b[b.length-1])&& void 0!==m?m:a[1];l>a[0]&&(b.unshift(l-f),l-=f),o<a[1]&&(b.push(o+f),o+=f),_class_private_field_set(this,k,b),_class_private_field_set(this,g,[l,o]),_class_private_field_set(this,j,!0)}adjust(a){const b=_class_private_field_get(this,h),c=Array.isArray(a)?a:[a];let d=Math.min.apply(null,c),e=Math.max.apply(null,c);const i=b[0]===b[1]&&b[0]===d,k=d===e&&(_class_private_field_get(this,g)===f||i),l=[d,e];if(k){if(d>=0&&d<=1)d=0,e=1;else{const m=d;d=m-1,e=m+1}}return this.domain([Math.min(b[0],d),Math.max(b[1],e)]),k&&_class_private_field_set(this,h,l),_class_private_field_set(this,j,!0),this}plot(a){return _class_private_field_get(this,j)&&this.generate(),a*_class_private_field_get(this,o)+_class_private_field_get(this,p)}invert(a){return _class_private_field_get(this,j)&&this.generate(),(a-_class_private_field_get(this,p))/_class_private_field_get(this,o)}ticks(a=10){_class_private_field_set(this,n,a);const b=`${a}-${_class_private_field_get(this,m)}`,c=_class_private_field_get(this,l).get(b);if(c)return c;if(_class_private_field_get(this,m))this.adaptDomainToTicks();else{const d=_class_private_field_get(this,h)[0]===_class_private_field_get(this,h)[1],f=d?_class_private_field_get(this,g):_class_private_field_get(this,h);_class_private_field_set(this,k,Object(e.a)(f[0],f[1],_class_private_field_get(this,n)))}return _class_private_field_get(this,l).set(b,_class_private_field_get(this,k)),_class_private_field_get(this,k)}step(a=10){const b=this.ticks(a);return b.length<2?_class_private_field_get(this,i)[1]-_class_private_field_get(this,i)[0]:this.plot(b[1])-this.plot(b[0])}clone(){const a=new LinearScale;return a.domain(_class_private_field_get(this,h)),a.range(_class_private_field_get(this,i)),a.ticks(_class_private_field_get(this,n)),a.nice(_class_private_field_get(this,m)),a}constructor(){_class_private_field_init(this,g,{writable:!0,value:f}),_class_private_field_init(this,h,{writable:!0,value:f}),_class_private_field_init(this,i,{writable:!0,value:d.a}),_class_private_field_init(this,j,{writable:!0,value:!1}),_class_private_field_init(this,k,{writable:!0,value:[]}),_class_private_field_init(this,l,{writable:!0,value:new Map}),_class_private_field_init(this,m,{writable:!0,value:!1}),_class_private_field_init(this,n,{writable:!0,value:10}),_class_private_field_init(this,o,{writable:!0,value:1/0}),_class_private_field_init(this,p,{writable:!0,value:1/0}),this.generate()}}},Mf10:function(a,b,c){"use strict";var d=c("Yms6"),e=c("U2Da"),f=c("dJ5Y"),g=c("aPUd"),h=c.n(g),i=c("iqdA"),j=(c("zSFc"),c("WkVr")),k=c("yKdw"),l=c("Kq9m");Object.keys(l.a);function dateTimeStyleForIntervalType(a){switch(a){case"day":case"week":default:return"long-year-month-day";case"month":return"long-year-month"}}},Mg3P:function(a,b,c){"use strict";c.d(b,"a",function(){return ResponsiveHorizontalAxisLabel});var d=c("0qsp"),e=c.n(d),f=c("22Ub"),g=c("+KqD"),h=c("zXcj");function ResponsiveHorizontalAxisLabel(a){const{originalXScale:b,responsiveScales:c,xCurrentUnitFormatter:d,defaultXCurrentUnitFormatter:i,xDesiredTickCount:j,isUsingBarMark:k,hasTicksFixed:l}=a;return l&&Object(h.d)(b)?e.a.createElement(g.a,{scale:b,format:i,orientation:"horizontal",isUsingBarMark:k,hasTicksFixed:!0,count:j}):e.a.createElement(e.a.Fragment,null,Object.entries(f.i).map(a=>{const[f,h]=a;var j,l;return e.a.createElement(g.a,{key:f,scale:null!==(j=c.get(f))&& void 0!==j?j:b,format:null!==(l=d.get(f))&& void 0!==l?l:i,orientation:"horizontal",isUsingBarMark:k,hasTicksFixed:!1,count:h.count,presetName:f})}))}},PFCO:function(a,b,c){"use strict";var d=c("yKdw");c.d(b,"g",function(){return d.d}),c.d(b,"f",function(){return d.c}),c.d(b,"b",function(){return d.a}),c.d(b,"c",function(){return d.b});var e=c("WkVr");c.d(b,"a",function(){return e.a}),c("Mf10");var f=c("nZeF");c.d(b,"e",function(){return f.d});var g=c("iqdA");c.d(b,"d",function(){return g.a})},Pbfb:function(a,b,c){"use strict";c.d(b,"b",function(){return getLineTooltipData}),c.d(b,"a",function(){return getBarTooltipData}),c.d(b,"c",function(){return isTooltipGroupEntry});var d=c("22Ub");function getPresentationalValue(a,b){if(b.startsWith(d.g)){const c=b.substring(d.g.length);return a[c]}}function getLineTooltipData({data:a,metadata:b,x:c,y:d,facet:e}){const f={},g=new Set,h=void 0!==e;for(let i=0;i<a.length;i++){const j=a[i],k=j[c],l=j[d],m=getPresentationalValue(j,c),n=k.valueOf();f[n]||(f[n]={series:[],total:0,...m?{presentationalX:m}:{}});const o=h?b.facets.get(j[e]):b.global;var p;const q=[`${null!==(p=null==o?void 0:o.color)&& void 0!==p?p:"black"}`,k,l,null==o?void 0:o.name].join("---");if(!g.has(q)){var r;f[n].series.push({data:{color:null!==(r=null==o?void 0:o.color)&& void 0!==r?r:"black",value:l},...h?{facet:j[e]}:{},name:null==o?void 0:o.name,originalPoint:j}),f[n].total+=l,g.add(q)}}return f}function getBarTooltipData({data:a,metadata:b,y:c}){const e=Array.from(a.keys());return e.reduce((e,f)=>{const g=a.get(f),h="no-stack"!==f,i=Array.from(g.keys()),{color:j,name:k}=b.stacks.get(f)||{};return i.forEach(a=>{const i=g.get(a),l=Array.from(i.keys()),m=l.length>1&&"no-group"!==l[0];if(e[a]||(e[a]={series:[],total:h&&!m?{negative:-0,positive:0,all:0}:void 0}),m){const n=l.reduce((a,c)=>{var e,f,g,h,k;const l=null!==(k=null===(f=b.groups)|| void 0===f?void 0:null===(e=f.get(c))|| void 0===e?void 0:e.name)&& void 0!==k?k:c;var m;const n=null!==(m=null===(h=b.groups)|| void 0===h?void 0:null===(g=h.get(c))|| void 0===g?void 0:g.color)&& void 0!==m?m:j,o=i.get(c);return Object.assign(a,{[l]:{value:o.end-o.begin,color:null!=n?n:d.e}})},{});e[a].series.push({stack:!!h&&f,name:h&&k?k:void 0,group:!0,data:n})}else{var o,p;const q=i.get("no-group");var r;const s=null!==(r=null===(o=b.global)|| void 0===o?void 0:o.name)&& void 0!==r?r:c;var t;const u=null!==(t=null===(p=b.global)|| void 0===p?void 0:p.color)&& void 0!==t?t:j;e[a].series.push({stack:!!h&&f,group:!1,name:h&&k?k:s,data:{value:q.end-q.begin,color:null!=u?u:d.e}});const v=e[a].total;if(v){const w=q.end-q.begin;w<0?v.negative-=w:w>0&&(v.positive+=w),v.all+=w}}}),e},{})}function isTooltipGroupEntry(a){return!0===a.group}},Pv3Q:function(a,b,c){"use strict";var d=c("Yms6");c("0qsp");var e=c("U2Da"),f=c("afBP"),g=c("nPYo"),h=c("01k4");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}const EmptyState=({type:a,loadingText:b,errorText:c,height:f="fill"})=>{const{formatMessage:j}=Object(e.a)(),getMessage=()=>"loading"===a?j(i.loadingData):"noData"===a?j(i.noData):"custom"===a&& void 0!==b?j(i.loadingWithTitle,{title:b.toLocaleLowerCase()}):"error"===a?null!=c?c:j(i.error):"";return Object(d.jsx)(g.a.div,{css:_object_spread({height:f,stack:"x",alignX:"center",alignY:"center"},"error"===a&&{borderStyle:"dashed",borderColor:"border",borderWidth:"medium",borderRadius:"medium",padding:"medium"}),children:Object(d.jsxs)(g.a.div,{css:_object_spread({stack:"x",alignX:"center",alignY:"center",gap:"medium"},"error"===a&&{borderRadius:"medium",backgroundColor:"feedback.neutral",paddingX:"medium",paddingY:"medium"}),children:["noData"!==a&&"error"!==a&&Object(d.jsx)(h.a,{}),Object(d.jsx)(g.a.span,{css:{font:"display.small.subdued",fontWeight:500,fontSize:"12px",lineHeight:"12px",textAlign:"center"},children:getMessage()})]})})},i={loadingData:Object(f.a)({id:"reporting.metric-detail.loading-data",defaultMessage:"Loading data",description:"Message to indicate that data is still loading"}),loadingWithTitle:Object(f.a)({id:"reporting.metric-detail.loading-with-title",defaultMessage:"Loading {title}",description:"Message to indicate that data under the given title is loading"}),noData:Object(f.a)({id:"reporting.metric-chart.no-data",defaultMessage:"No data",description:"Message to indicate that there is no data to display"}),error:Object(f.a)({id:"reporting.metric-chart.error",defaultMessage:"Failed to load data",description:"Message to indicate that there data has failed to load"})};b.a=EmptyState},"Qh+s":function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("ZgPq"),g=c("dJ5Y"),h=c("7vBN"),i=c("+jRZ"),j=c("ziLk"),k=c("q2uM"),l=c("dugB"),m=c("22Ub");function useNeedle({tooltipData:a,xScale:b,pointer:c}){if(!c)return null;const d=b.invert(c.range.x);if(!d)return null;const e=Object(j.a)({tooltipData:a,value:d,scale:b}),f=a[e];return{data:f,nearestXValue:e}}function Needle({tooltipData:a,xScale:b,yScale:c,xDesiredTickCount:d,UNSTABLE_minXTicks:j=!1}){const n=Object(f.b)(),o=Object(h.c)(),p=void 0!==d||j,q=Object(l.b)(b,p);var r,s;const t=null!==(s=q.get(null!==(r=null==o?void 0:o.presetName)&& void 0!==r?r:m.h))&& void 0!==s?s:b,u=useNeedle({tooltipData:a,xScale:t,pointer:o}),v=g.a.color.neutral[500].toString(),w=g.a.color.background.surface.toString();if(!u)return null;const x=new i.a,[y,z]=c.range();let A;return A=t instanceof k.a?t.plot(new Date(u.nearestXValue)):t.plot(u.nearestXValue),x.line([A,y,A,z]),e.a.createElement(e.a.Fragment,null,e.a.createElement("path",{stroke:v,fill:"transparent",...x.toPath(),strokeWidth:"1",strokeDasharray:"2"}),u.data.series.map((a,b)=>{const d=c.plot(a.data.value);if(d<y||d>z)return null;const f=a.data.color,g=new i.a,h=new i.a;return g.circle(A,d,12),h.circle(A,d,10),e.a.createElement("g",{key:`needle-${A}-${d}-${n}-${b}`},e.a.createElement("path",{stroke:w,fill:"transparent",...g.toPath()}),e.a.createElement("path",{stroke:f,fill:"transparent",...h.toPath()}))}))}b.a=e.a.memo(Needle)},SZBo:function(a,b,c){"use strict";c.d(b,"a",function(){return ColumnFilterSelector}),c.d(b,"b",function(){return FilterBySelector});var d=c("Yms6"),e=c("gSz5"),f=c("yJVm"),g=c("9KEi"),h=c("cFtC"),i=c("nPYo"),j=c("7jzT"),k=c("CAig"),l=c("7Hnw"),m=c("0qsp"),n=c("U2Da"),o=c("afBP"),p=c("nZeF"),q=c("iDYf");function asyncGeneratorStep(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function _async_to_generator(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function _next(a){asyncGeneratorStep(f,d,e,_next,_throw,"next",a)}function _throw(a){asyncGeneratorStep(f,d,e,_next,_throw,"throw",a)}_next(void 0)})}}function truncateLabel(a){const b=25;return a.length>b?`${a.slice(0,b)}…`:a}function getLabelFromColumnId(a,b){if(void 0===b)return truncateLabel(Object(p.e)(a));const c=b.find(b=>b.id===a);return c?truncateLabel(c.label):truncateLabel(Object(p.e)(a))}const r="__TEMPORARY_NO_RESULTS_KEY__",s="__TEMPORARY_LOADING_KEY__";function ColumnFilterSelector({table:a,label:b,field:c,column:f,selectedKeys:g,setSelectedKeys:h}){const i=null==g?void 0:g[0],setSelectedKey=a=>h([a]),[j,k]=m.useState(""),l=Object(n.a)(),o=m.useCallback(a=>{const b=c?Object(p.c)(c.unitFormat,l):a=>({label:a?Object(p.e)(a):String(a),color:void 0}),d=b(a);var e;const f=null!==(e=null==d?void 0:d.label)&& void 0!==e?e:a;return truncateLabel(f)},[c,l]),t=m.useMemo(()=>{var b;return null!==(b=null==c?void 0:c.possibleValuesForFilter)&& void 0!==b?b:(()=>{var b;const d=Array.from(new Set(null!==(b=c.possibleValues)&& void 0!==b?b:a.getPreFilteredRowModel().flatRows.map(a=>a.getValue(f.id)))).map(String).map(a=>({key:a,label:o(a)}));return function(){var a=_async_to_generator(function*(a){return{values:d.filter(b=>b.label.toLowerCase().includes(a.toLowerCase())||b.key.toLowerCase().includes(a.toLowerCase())).map(a=>a.key)}});return function(b){return a.apply(this,arguments)}}()})()},[f.id,c.possibleValues,null==c?void 0:c.possibleValuesForFilter,o,a]),[u,v]=m.useState(null!=i?[{key:i,label:o(i)}]:[]),w=m.useRef(null);return m.useEffect(()=>{!j&&i?v([{key:i,label:o(i)}]):v([{key:s,label:l.formatMessage(q.a.loading)}]);const a=t(j);w.current=a,a.then(b=>{w.current===a&&v(b.values.length>0?b.values.map(a=>({key:String(a),label:o(String(a))})):[{key:r,label:l.formatMessage(q.a.noResults)}])})},[o,l,t,j,i,g]),Object(d.jsx)(e.a,{css:{maxWidth:"medium"},"aria-label":Object(p.e)(f.id),placeholder:l.formatMessage(q.a.choose,{label:b}),data:u,item:"label",filterable:!0,defaultFilter:(a,b)=>(k(b),!0),onOpenChange(){k("")},selectedKey:i,onSelectionChange(a){k(""),a!==r&&setSelectedKey(a)}})}function FilterBySelector({table:a,fields:b,setPivotTableFilter:c,metricName:e,renderFilterSelector:r,setIsOpen:s}){const t=Object(n.a)(),u=m.useRef(null),[v,w]=m.useState(!1),[x,y]=m.useState(a.getState().columnFilters[0]);m.useEffect(()=>()=>{null==s||s(!1)},[s]);const z=a.getState().columnFilters[0],A=a.getAllColumns().filter(a=>a.getCanFilter());if(0===A.length)return null;const getLabelFromColumnValue=(a,c)=>{const d=b.find(b=>b.id===a),e=d?Object(p.c)(d.unitFormat,t):a=>({label:a?Object(p.e)(a):String(a),color:void 0}),f=e(c);var g;return null!==(g=null==f?void 0:f.label)&& void 0!==g?g:c},toggleFilterByPopoverOpen=()=>{null==s||s(!v),w(!v),!x&&A.length>0&&y({id:A[0].id,value:[]})};var B;const[C,...D]=null!==(B=null==z?void 0:z.value)&& void 0!==B?B:[],E=z?getLabelFromColumnValue(z.id,C):void 0,F=0===D.length?E:t.formatMessage(Object(o.a)({id:"reporting.metric-detail.multi-select-filter-display",defaultMessage:"{label} and {remaining} more",description:"Multi select filter chip display value"}),{label:null!=E?E:"",remaining:D.length});return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{label:z?getLabelFromColumnId(z.id,b):t.formatMessage(q.a.filter),value:F,ref:u,onAddSuggestion:toggleFilterByPopoverOpen,onClose(){a.resetColumnFilters(),y(void 0),c(void 0)}}),Object(d.jsx)(g.b,{placement:"bottom left",targetRef:u,open:v,onClose:toggleFilterByPopoverOpen,children:Object(d.jsx)(h.a,{children:Object(d.jsxs)(i.a.div,{css:{width:"fill",minWidth:260,height:"fill",stack:"y",alignY:"top",backgroundColor:"surface",borderRadius:"medium",overflow:"hidden"},children:[Object(d.jsx)(i.a.div,{css:{width:"fill",paddingTop:"space.150",paddingX:"space.150",stack:"x",distribute:"space-between",font:"label.medium.emphasized"},children:t.formatMessage(q.a.filter_by)}),Object(d.jsxs)(i.a.div,{css:{width:"fill",paddingX:"space.150",paddingY:"space.150",stack:"y",alignY:"top",gap:"space.150"},"data-testid":"popover-body",children:[Object(d.jsx)(i.a.div,{css:{stack:"y",gap:"space.150"},children:A.map(c=>{const e=(null==x?void 0:x.id)===c.id,f=b.find(a=>a.id===c.id);return f?Object(d.jsxs)(i.a.div,{css:{stack:"y",gap:"space.150"},children:[Object(d.jsx)(j.c,{onChange(){y({id:c.id,value:[]})},checked:e,label:getLabelFromColumnId(c.id,b)}),e?Object(d.jsx)(i.a.div,{children:r?r({renderLocation:"filter",columnId:c.id,selectedKeys:null==x?void 0:x.value,setSelectedKeys(a){y({id:c.id,value:a})}}):Object(d.jsx)(ColumnFilterSelector,{table:a,label:getLabelFromColumnId(c.id,b),field:f,column:c,selectedKeys:null==x?void 0:x.value,setSelectedKeys(a){y({id:c.id,value:a})}})},c.id):null]},c.id):null})}),Object(d.jsxs)(k.a,{collapse:"none",css:{stack:"x",gap:"medium"},children:[Object(d.jsx)(l.a,{onPress(){y(null!=z?z:void 0),toggleFilterByPopoverOpen()},css:{width:"fill"},children:t.formatMessage(q.a.cancel)}),Object(d.jsx)(l.a,{onPress(){if(x){var b;a.resetColumnFilters(),null===(b=a.getColumn(x.id))|| void 0===b||b.setFilterValue(x.value),c(x)}toggleFilterByPopoverOpen()},type:"primary",disabled:!x||!x.id||!x.value,"data-testid":"popover-done","data-db-analytics-name":"metric_detail_filter_by_button","data-db-analytics-metric-name":e,css:{width:"fill"},children:t.formatMessage(q.a.apply)})]})]})]})})})]})}},"T+U9":function(a,b,c){"use strict";c.d(b,"a",function(){return Methodology});var d=c("Yms6"),e=c("C9fe"),f=c("Olvt"),g=c("nPYo"),h=c("FfI9"),i=c("HOsA"),j=c("U2Da");c("0qsp");var k=c("iDYf");const l={methodologyContainer:[Object(f.b)({stack:"x",gap:"large"})],leftContainer:[Object(f.b)({stack:"y",gap:"small",alignY:"top",width:"7/10"})],smallTitle:[Object(f.b)({font:"heading.small"})],rightContainer:[Object(f.b)({stack:"y",gap:"small",alignY:"top",width:"3/10"})],list:[Object(f.b)({stack:"y",gap:"xsmall"})]};function Methodology({aboutTitle:a,about:b,relatedMetrics:c,feedbackForm:f}){const{formatMessage:m}=Object(j.a)();return Object(d.jsxs)(g.a.div,{uses:l.methodologyContainer,"data-testid":"methodology",children:[Object(d.jsxs)(g.a.div,{uses:l.leftContainer,children:[Object(d.jsx)(g.a.div,{uses:l.smallTitle,children:null!=a?a:m(k.a.methodologyTitle)}),Object(d.jsx)(g.a.div,{css:{color:"subdued"},children:b})]}),c?Object(d.jsxs)(g.a.div,{uses:l.rightContainer,children:[Object(d.jsx)(g.a.div,{uses:l.smallTitle,children:"Related Metrics"}),Object(d.jsx)(g.a.div,{uses:l.list,children:c.map(a=>Object(d.jsxs)(h.a,{href:a.href,target:"_blank",rel:"noopener noreferrer",css:{stack:"x"},children:[Object(d.jsx)(i.c,{icon:e.a}),a.name]},a.name))})]}):null,f?Object(d.jsx)(g.a.div,{uses:l.rightContainer,children:f}):null]})}},TT3H:function(a,b,c){"use strict";c.d(b,"a",function(){return getMetadataForLines});var d=c("2wAq");function getAllFacets(a,b){if(!b)return[];const c=new Set;for(let d=0;d<a.length;d++)c.add(a[d][b]);return[...c]}function getDefaultMetadata({facets:a,y:b}){const c=new d.a,e=a.length;return{global:{name:b,...e?{}:{color:c.get("no-facet")}},facets:(null!=a?a:[]).reduce((a,b)=>a.set(b,{name:b,color:c.get(String(b))}),new Map)}}function applyPresentationRules(a,b){const c=!(b instanceof Array);if(c){const{name:d,color:e}=b,f={...a.global};d&&(f.name=d),e&&(f.color=e),a.global=f;return}b.forEach(b=>{const{attribute:c,value:d,name:e,color:f,lineStyle:g}=b;if("facet"===c){const h={...a.facets.get(d)};Object.keys(h).length&&(e&&(h.name=e),f&&(h.color=f),g&&(h.lineStyle=g),a.facets.set(d,h))}})}function getMetadataForLines({data:a,y:b,facet:c,presentation:d}){const e=getAllFacets(a,c),f=getDefaultMetadata({facets:e,y:b});return d&&applyPresentationRules(f,d),f}},TcGI:function(a,b,c){"use strict";c.d(b,"a",function(){return ticks});const d=Math.sqrt(50),e=Math.sqrt(10),f=Math.sqrt(2);function tickSpec(a,b,c){const g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/10**h,j=i>=d?10:i>=e?5:i>=f?2:1;let k,l,m;return(h<0?(k=Math.round(a*(m=10** -h/j)),l=Math.round(b*m),k/m<a&& ++k,l/m>b&& --l,m=-m):(m=10**h*j,k=Math.round(a/m),l=Math.round(b/m),k*m<a&& ++k,l*m>b&& --l),l<k&&c>=.5&&c<2)?tickSpec(a,b,2*c):[k,l,m]}function ticks(a,b,c){if(!(c>0))return[];if(a===b)return[a];const[d,e,f]=tickSpec(a,b,c);if(!(e>=d))return[];const g=e-d+1,h=new Array(g);if(f<0)for(let i=0;i<g;++i)h[i]=-((d+i)/f);else for(let j=0;j<g;++j)h[j]=(d+j)*f;return h}},VJoQ:function(a,b,c){"use strict";c.d(b,"a",function(){return MetricStateContainer});var d=c("Yms6");c("0qsp");var e=c("+n5m"),f=c("DMQh"),g=c("FUds"),h=c("Znxb");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function MetricStateContainer({title:a,metricName:b,resetButtonTitle:c,items:i,fields:j,state:k,viewState:l,options:m,children:n}){const o=Object(g.b)(i,_object_spread_props(_object_spread({},m),{state:null==k?void 0:k.table,fields:j})),p=Object(f.c)({tableHook:o,state:null==k?void 0:k.pivotTable});var q;const r=Object(f.c)({tableHook:o,state:null!==(q=null==k?void 0:k.pivotChart)&& void 0!==q?q:null==k?void 0:k.pivotTable}),[s,t]=Object(e.a)(null!=l?l:"chart"),u=Object(h.b)(r);return Object(d.jsx)(d.Fragment,{children:n({pivotTable:p,pivotChart:r,table:o,selectedView:s,setSelectedView:t,metricName:b,headerProps:{title:null!=a?a:"",value:u.valueDisplay,compareValueDisplay:u.compareValueDisplay,compareValueColor:u.compareValueColor,resetButton:"chart"!==s?{title:null!=c?c:"Reset",onPress(){t("chart"),p.pivotState.filter?o.table.setColumnFilters([p.pivotState.filter]):o.table.resetColumnFilters(),o.table.resetSorting(),o.table.setPageIndex(0)}}:void 0}})})}},WkVr:function(a,b,c){"use strict";c.d(b,"a",function(){return n});var d=c("Yms6"),e=c("t6oC"),f=c("bbq+"),g=c("nPYo"),h=c("n2FO"),i=c("HOsA"),j=c("dJ5Y"),k=c("7fSA"),l=c("Znxb"),m=c("hPFk");const n=Object(f.createGenericView)(function({title:a,description:b,pending:c,items:f,state:n,fields:o,type:p}){const q=Object(k.c)(f,{state:null==n?void 0:n.table,fields:o}),r=Object(k.b)({tableHook:q,state:null==n?void 0:n.pivotTable}),TitleWrapper=({content:a})=>Object(d.jsx)(d.Fragment,{children:"string"==typeof a?Object(d.jsx)(g.a.h3,{css:{font:"heading.medium",margin:"space.0"},children:a}):a}),DescriptionWrapper=({content:a})=>Object(d.jsx)(d.Fragment,{children:"string"==typeof a?Object(d.jsx)(g.a.p,{css:{font:"body.small",margin:"space.0"},children:a}):a}),s=Object(l.b)(r);function MetricHeader2(){return Object(d.jsxs)(g.a.div,{css:{stack:"x",gap:"small",alignX:"start"},children:[Object(d.jsx)(g.a.h4,{css:{marginTop:"xsmall",marginBottom:"medium",font:"heading.small"},children:s.valueDisplay}),null!=s.compareValueDisplay&&Object(d.jsx)(g.a.span,{css:{font:"heading.small.subdued",fontWeight:"bold",textColor:s.compareValueColor},children:s.compareValueDisplay})]})}return Object(d.jsxs)(g.a.div,{css:{stack:"y",height:"fill"},children:[Object(d.jsxs)(g.a.div,{css:{stack:"y",alignY:"top",height:"min"},children:[Object(d.jsxs)(g.a.div,{css:{stack:"x",gap:"xsmall",alignX:"start",alignY:"center"},children:[Object(d.jsx)(TitleWrapper,{content:a}),b&&Object(d.jsx)(h.a,{type:"description",placement:"right top",trigger:Object(d.jsx)(i.c,{css:{fill:j.a.color.text.action.secondary},size:"xsmall",icon:e.a}),children:Object(d.jsx)(DescriptionWrapper,{content:b})})]}),Object(d.jsx)(MetricHeader2,{})]}),Object(d.jsx)(g.a.div,{children:Object(d.jsx)(m.a,{pivotTable:r,pending:c,type:p})})]})})},WvmX:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("ZgPq"),g=c("i4dw"),h=c("C6VZ"),i=c("h9sG"),j=c("bhan");function Lines({data:a,x:b,y:c,facet:d,metadata:k}){const l=Object(f.b)(),m=k.global.color;if(void 0!==d){const n=Object(j.c)(a,d),o=Object(j.a)(a,c),p=[...n.entries()];if(n.size)return e.a.createElement(e.a.Fragment,null,e.a.createElement(i.a,{chartId:l}),o?null:e.a.createElement(h.a,{data:n,x:b,y:c,chartId:l}),e.a.createElement("g",{mask:`url(#_line-mask-${l})`,clipPath:`url(#_svg-clip-${l})`,"data-responsive-domain":!0},p.map(([a,f])=>{var h,i;const j=null!=m?m:null===(h=k.facets.get(a))|| void 0===h?void 0:h.color,l=null!=j?j:"black";var n;const o=null!==(n=null===(i=k.facets.get(a))|| void 0===i?void 0:i.lineStyle)&& void 0!==n?n:"default";return e.a.createElement(g.a,{key:`series-${d}-${b}-${c}-${a}`,data:f,x:b,y:c,color:l,isDashed:"dashed"===o})})))}const q=null!=m?m:"black";return e.a.createElement(e.a.Fragment,null,e.a.createElement(i.a,{chartId:l}),e.a.createElement("g",{clipPath:`url(#_svg-clip-${l})`,"data-responsive-domain":!0},e.a.createElement(g.a,{data:a,x:b,y:c,color:q})))}b.a=Lines},Wylm:function(a,b,c){"use strict";c.d(b,"a",function(){return DiscreteTimeScale});var d=c("qEeA"),e=c("q2uM");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_apply_descriptor_set(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}function _class_private_field_set(a,b,c){var d=_class_extract_field_descriptor(a,b,"set");return _class_apply_descriptor_set(a,d,c),c}var f=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap;class DiscreteTimeScale extends d.a{generate(){const a=this.domain(),b=a.length-1;_class_private_field_set(this,g,new Map),super.generate(),_class_private_field_set(this,f,new e.a().domain([new Date(a[0]),new Date(a[b])]).range(this.range()).nice(!1)),_class_private_field_get(this,i)&&_class_private_field_get(this,f).timezoneMode(_class_private_field_get(this,i))}domain(a){if(!a){const b=super.domain();return _class_private_field_get(this,h)||(super.domain().sort((a,b)=>new Date(a).getTime()-new Date(b).getTime()),_class_private_field_set(this,h,!0)),b}return super.domain(a),super.domain().sort((a,b)=>new Date(a).getTime()-new Date(b).getTime()),_class_private_field_set(this,h,!0),this}adjust(a){return super.adjust(a),_class_private_field_set(this,h,!1),this}timezoneMode(a){return a?(_class_private_field_set(this,i,a),_class_private_field_get(this,f).timezoneMode(_class_private_field_get(this,i)),this):_class_private_field_get(this,i)}ticks(a=10){this.needsGeneration()&&this.generate();const b=`${a}`,c=_class_private_field_get(this,g).get(b);if(c)return c;const d=this.domain();if(void 0===a||a>=d.length)return _class_private_field_get(this,g).set(b,d),d;const e=_class_private_field_get(this,f).ticks(a),h=new Set(e.map(a=>a.valueOf()));let i=d.filter(a=>h.has(new Date(a).valueOf()));return i.length<=2&&(i=e.map(a=>{const b=_class_private_field_get(this,f).plot(a.valueOf());if(void 0!==b)return this.invert(b)}).filter(a=>void 0!==a)),(i.length<=2||a<=2)&&(i=[new Date(d[0]),new Date(d[d.length-1])]),_class_private_field_get(this,g).set(b,i),i}clone(){const a=new DiscreteTimeScale;return a.domain(this.domain()),a.range(this.range()),a.timezoneMode(this.timezoneMode()),a}constructor(...a){super(...a),_class_private_field_init(this,f,{writable:!0,value:new e.a}),_class_private_field_init(this,g,{writable:!0,value:new Map}),_class_private_field_init(this,h,{writable:!0,value:!0}),_class_private_field_init(this,i,{writable:!0,value:void 0})}}},Xa4U:function(a,b,c){"use strict";c.d(b,"a",function(){return useLineData});var d=c("0qsp"),e=c("e4P9"),f=c("TT3H"),g=c("Pbfb"),h=c("qNjK");function useLineData({data:a,dimensions:b,options:c}){const{x:i,y:j,facet:k}=b;return Object(d.useMemo)(()=>{var b,d,l,m,n;const{xScale:o,yScale:p,data:q}=Object(e.a)(a,i,j,new Map([[i,{nice:null===(m=null==c?void 0:null===(b=c.niceScales)|| void 0===b?void 0:b.x)|| void 0===m||m}],[j,{nice:null===(n=null==c?void 0:null===(d=c.niceScales)|| void 0===d?void 0:d.y)|| void 0===n||n}]]),null==c?void 0:c.unitFormat,null==c?void 0:c.scaleFormat,null==c?void 0:c.desiredTicks),r=Object(f.a)({data:a,y:j,facet:k,presentation:null==c?void 0:c.presentation}),s=Object(g.b)({data:a,x:i,y:j,facet:k,metadata:r});var t;const u=null!==(t=null==c?void 0:null===(l=c.legend)|| void 0===l?void 0:l.enabled)&& void 0!==t&&t,v=Object(h.b)({metadata:r});return{xScale:o,yScale:p,interpolatedData:q,metadata:r,tooltipData:s,...u?{legendData:v}:{}}},[a,i,j,k,null==c?void 0:c.presentation,null==c?void 0:c.unitFormat,null==c?void 0:c.scaleFormat,null==c?void 0:c.desiredTicks,null==c?void 0:c.niceScales,null==c?void 0:c.legend])}},Ye1g:function(a,b,c){"use strict";c.d(b,"a",function(){return useUnitFormatter});var d=c("0qsp"),e=c("U2Da"),f=c("34kq");function getUnitFormatterFunction(a){const{formatCurrency:b,formatDateTime:c,formatNumber:d,formatPercent:e}=a;return function(a,g){const h=null!=g?g:Object(f.a)(a);return"time"===h.unit?0===Object.keys(h.options).length?a=>a.valueOf().toString():a=>c(a,h.options):"number"===h.unit?a=>d(a,{notation:"compact",...h.options}):"percent"===h.unit?a=>e(a,h.options):"currency"===h.unit?a=>b(a,{notation:"compact",...h.options}):a=>a.toString()}}function useUnitFormatter(a,b){const c=Object(e.a)();return Object(d.useMemo)(()=>{const d=getUnitFormatterFunction(c);if(a instanceof Map){const e=new Map;return a.forEach((a,c)=>{e.set(c,d(a,b))}),e}return d(a,b)},[a,c,b])}},YnUr:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("ZgPq"),g=c("nPYo"),h=c("dJ5Y"),i=c("xR3U"),j=c("7AnN"),k=c("+jRZ"),l=c("DdlR"),m=c("fxwb"),n=c("22Ub");function Bars({stacks:a,yScale:b,x:c,y:d,stack:o,metadata:p}){const q=Object(f.b)(),r=new k.a,s=b.plot(0),t=b.domain().includes(0);r.line([l.a[0],s,l.a[1],s]);const u=Object(m.b)(a,p),v=p.global.color;return e.a.createElement(e.a.Fragment,null,e.a.createElement(j.a,{data:a,yScale:b,chartId:q}),e.a.createElement("g",{mask:`url(#_bar-mask-${q})`},u.map(([a,b])=>{const f=null!=v?v:b.color,g=null!=f?f:n.e;return e.a.createElement(i.a,{data:b.stackedPoints,key:`series-${o}-${c}-${d}-${a}`,color:g})})),t?null:e.a.createElement(g.a.path,{css:{fill:"transparent",stroke:h.a.color.hue.gray[300].toString()},...r.toPath()}))}b.a=Bars},Znxb:function(a,b,c){"use strict";c.d(b,"b",function(){return useMetricHeaderValues}),c.d(b,"a",function(){return p});var d=c("Yms6"),e=c("/Tka"),f=c("dJ5Y"),g=c("bbq+"),h=c("nPYo"),i=c("FfI9"),j=c("HOsA"),k=c("jOHC"),l=c("U2Da"),m=c("ISFf"),n=c("BjTu"),o=c("iDYf");function useMetricHeaderValues(a){const b=Object(l.a)(),{comparisonValueKey:c,valueKey:d}=a.pivotState,e=c&&d,g=a,h=e?g.cellByKey[g.keyForCell({rowValue:"current",colValue:void 0})]:g.cellAtRoot,i=e?g.cellByKey[g.keyForCell({rowValue:"previous",colValue:void 0})]:void 0,j="number"==typeof h.reducedValue&&"number"==typeof(null==i?void 0:i.reducedValue)?h.reducedValue/i.reducedValue-1:null;return{valueDisplay:null==h?void 0:h.reducedValueDisplay,compareValueDisplay:null!=j?`${j>0?"+":""}${b.formatPercent(j,{})}`:void 0,compareValueColor:null!=j?j>0?f.a.color.text.onFeedback.success:j<0?f.a.color.text.onFeedback.attention:f.a.color.text.onFeedback.neutral:void 0}}const p=Object(g.createView)(({title:a,value:b,compareValueDisplay:c,compareValueColor:f,resetButton:g,freshnessIndicator:p,viewQueryButton:q,preview:r})=>{const s=Object(l.a)(),{formatMessage:t}=s;return Object(d.jsxs)(h.a.header,{css:{height:"fit",stack:"x",gap:"small",margin:"space.0",alignY:"top"},children:[Object(d.jsxs)(h.a.div,{css:{stack:"y",gap:"xsmall"},children:[Object(d.jsx)(m.a,{mode:"popLayout",children:g?Object(d.jsxs)(i.a,{type:"primary",onPress:g.onPress,css:{stack:"x",alignY:"center",gap:"space.75",font:"label.medium.emphasized"},uses:[Object(n.a)({initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0,transition:{duration:0}},transition:{type:"spring",duration:.2}})],children:[Object(d.jsx)(j.c,{icon:e.a,size:"xsmall"}),g.title]}):null}),Object(d.jsxs)(h.a.h1,{css:{gap:"small",margin:"space.0",font:"heading.xlarge"},children:[Object(d.jsx)(h.a.span,{children:a}),null!=b?Object(d.jsxs)(h.a.span,{css:{font:"heading.xlarge.subdued"},children:[" ",b]}):null,null!=c?Object(d.jsx)(h.a.span,{css:{font:"heading.small.subdued",fontWeight:"bold",textColor:f,paddingLeft:"small"},children:c}):null]}),p||r?Object(d.jsxs)(h.a.div,{css:{font:"label.medium",stack:"x",gap:"small",color:"subdued",alignY:"center"},children:[p||null,r?Object(d.jsx)(k.a,{css:{backgroundColor:"surface"},children:t(o.a.preview)}):null]}):null]}),Object(d.jsx)(h.a.div,{css:{marginLeft:"auto",gap:"small",stack:"x",alignX:"end",width:"fit"},children:null!=q?q:null})]})})},aCd9:function(a,b,c){"use strict";c.d(b,"a",function(){return MetricDetailDialog});var d=c("Yms6"),e=c("0qsp"),f=c("RU97"),g=c("Np+T"),h=c("gYqR"),i=c("bbq+"),j=c("nPYo"),k=c("XbfC"),l=c("wi2u"),m=c("Olvt"),n=c("HOsA"),o=c("7Hnw"),p=c("n2FO"),q=c("BjTu"),r=c("ISFf"),s=c("0x6O"),t=c("d3O4"),u=c("5yW+"),v=c("U2Da"),w=c("Wfl3"),x=c("jPvL"),y=c("T+U9"),z=c("Cq/6"),A=c("u2Um"),B=c("Znxb"),C=c("VJoQ"),D=c("hPFk"),E=c("d3FB"),F=c("nZeF"),G=c("iDYf");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function _object_without_properties(a,b){if(null==a)return{};var c=_object_without_properties_loose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _object_without_properties_loose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}function MetricDetailDialog(a){var{title:b,metricName:c,items:i,fields:j,state:k,viewState:l,options:m,onClose:n,resetButtonTitle:o,headerProps:p}=a,r=_object_without_properties(a,["title","metricName","items","fields","state","viewState","options","onClose","resetButtonTitle","headerProps"]);const[u,v]=e.useState(!1),[w,x]=e.useState(void 0),[y,z]=Object(s.a)();return e.useEffect(()=>{r.pending||u||!z||x(z.height?z.height:void 0)},[r.pending,z,u]),Object(d.jsx)(C.a,{title:b,metricName:c,items:i,fields:j,state:k,viewState:l,options:m,resetButtonTitle:o,children(a){var{headerProps:b}=a,c=_object_without_properties(a,["headerProps"]);return Object(d.jsx)(f.a,{size:"xlarge",subviews:{content:{uses:[Object(q.a)({animate:w?{height:w+30}:void 0,transition:{type:"spring",bounce:0,duration:.3},layout:"size"})]}},uses:[g.b.customize({css:{paddingTop:"large",paddingX:"large"}}),h.b.customize({css:{paddingX:"large",paddingBottom:"large"}})],header:Object(d.jsx)(B.a,_object_spread(_object_spread_props(_object_spread({},b),{viewQueryButton:r.viewQueryButton,freshnessIndicator:r.freshnessIndicator,preview:r.preview}),p)),onClose:n,children:Object(d.jsx)(H,_object_spread_props(_object_spread({},r,c),{tabSwitchPending:u,setTabSwitchPending:v,subviews:{content:{uses:[Object(t.a)({ref:y})]}}}))})}})}const H=Object(i.createGenericView)(function(a){var{methodologyProps:b,showViewSelector:c,table:f,pivotTable:g,pivotChart:h,selectedView:i,setSelectedView:n,pending:o,error:p,metricName:s,layout:t="vertical",SailDashboardTable:u,pivotChartType:C,subviews:H,tabSwitchPending:I,setTabSwitchPending:J}=a,K=_object_without_properties(a,["methodologyProps","showViewSelector","table","pivotTable","pivotChart","selectedView","setSelectedView","pending","error","metricName","layout","SailDashboardTable","pivotChartType","subviews","tabSwitchPending","setTabSwitchPending"]),L;const{formatMessage:M}=Object(v.a)(),{action:N,viewed:O}=Object(w.a)();O("metric_detail",{metric_name:s});const P=e.useRef(null),[Q,R]=e.useState(!1),[S,T]=e.useState(!1),U=e.useRef(null);var V;e.useEffect(()=>{U.current&&(U.current.scrollLeft=U.current.scrollWidth)},[U]),!I&&P.current&&P.current.parentElement&&(P.current.parentElement.scrollTop=0);const W=null!==(V=K.PivotChartComponent)&& void 0!==V?V:D.a;return Object(d.jsx)(j.a.div,{ref:P,css:{paddingX:"small",overflowX:"hidden"},children:Object(d.jsxs)(j.a.div,{css:{stack:"y"},inherits:null==H?void 0:H.content,children:[c?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j.a.div,{css:{stack:"x",alignX:"start",gap:"medium",padding:"small",paddingLeft:"medium",flexGrow:0},children:Object(d.jsxs)(k.a,{"aria-label":"Selected Tab",selectedValue:i,onSelectionChange:a=>n(a),children:[Object(d.jsx)(k.d,{label:"Chart",value:"chart"}),Object(d.jsx)(k.d,{label:"Data",value:"data"})]})}),Object(d.jsx)(l.a,{})]}):null,Object(d.jsxs)(A.a,_object_spread_props(_object_spread({direction:t,controls:K.showControlsOnDrilldown||"data"!==i?"vertical"===t?Object(d.jsx)(z.a,_object_spread_props(_object_spread({},K.controlsProps),{viewType:i,tableHook:g,metricName:s,setGroupByPopoverOpen:R,setFilterByPopoverOpen:T})):Object(d.jsx)(z.b,_object_spread_props(_object_spread({},K.controlsProps),{viewType:i,tableHook:g,metricName:s})):null},K),{children:[K.headerProps?Object(d.jsx)(B.a,_object_spread({},K.headerProps)):null,K.children&&Object(d.jsx)(j.a.div,{css:{height:"fit"},children:K.children}),Object(d.jsx)(r.a,{children:"chart"===i?Object(d.jsxs)(j.a.div,{uses:[Object(q.a)({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})],css:{stack:"y",gap:"large"},children:[Object(d.jsx)(j.a.div,{css:{height:320},uses:Q||S?[Object(m.b)({pointerEvents:"none"})]:[],children:Object(d.jsx)(W,_object_spread_props(_object_spread({},K.pivotChartProps),{pivotTable:h,pending:o,error:p,type:C,disableTotal:h.pivotState.aggregationFn&&"sum"!==h.pivotState.aggregationFn||!(null===(L=K.pivotTableProps)|| void 0===L?void 0:L.showRowSummaries)}))}),Object(d.jsxs)(j.a.div,{css:{stack:"y",gap:"small",marginTop:"medium"},children:[Object(d.jsx)(TableSectionHeader,{title:M(G.a.summary),metricName:s,onPressDownloadCsv:o||p?void 0:K.onPressDownloadCsv,disabledDownloadTooltipMessage:K.disabledDownloadTooltipMessage}),Object(d.jsx)(j.a.div,{ref:U,css:{overflowX:"auto",paddingBottom:"medium"},children:Object(d.jsx)(E.a,_object_spread_props(_object_spread({pivotTable:g,showColSummaries:!0,showRowSummaries:!0,showGrandTotal:!0},K.pivotTableProps),{onCellClick(a){var b,c;g.table.setColumnFilters(Object(F.a)([...g.table.getState().columnFilters,g.rowKey&&{id:g.rowKey,value:a.rowValue},g.colKey&&{id:g.colKey,value:a.colValue}])),J&&J(!0),n("data"),null===(c=K.pivotTableProps)|| void 0===c||null===(b=c.onCellClick)|| void 0===b||b.call(c,a),setTimeout(()=>J&&J(!1),0),N("metric_detail_drilldown",{metric_name:s})},pending:o,error:p,loadingText:M(G.a.summary)}))})]}),b?Object(d.jsx)(y.a,_object_spread({},b)):null]},"chart"):Object(d.jsxs)(j.a.div,{uses:[Object(q.a)({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})],css:{stack:"y",gap:"small"},children:[Object(d.jsx)(TableSectionHeader,{title:M(G.a.results),metricName:s,onPressDownloadCsv:o||p?void 0:K.onPressDownloadCsv,disabledDownloadTooltipMessage:K.disabledDownloadTooltipMessage}),Object(d.jsx)(x.a,{table:g,pending:o||I,error:p,getItemRoute:K.getItemRoute,disablePagination:K.disablePagination,maxDataTableHeight:"none",SailDashboardTable:u})]},"table")})]}))]})})});function TableSectionHeader(a){const{formatMessage:b}=Object(v.a)(),c=void 0===a.onPressDownloadCsv,renderDownloadButtonContent=()=>Object(d.jsxs)(j.a.div,{css:{stack:"x",distribute:"space-between",height:"fit",alignY:"center",gap:"xsmall"},children:[Object(d.jsx)(n.c,{icon:u.a,size:"xsmall"}),b(G.a.downloadCsv)]});return Object(d.jsxs)(j.a.div,{css:{stack:"x",distribute:"space-between",height:"fit",alignY:"center"},children:[Object(d.jsx)(j.a.span,{css:{font:"heading.small"},children:a.title}),Object(d.jsx)(o.a,{"data-testid":"metric_detail_download_csv_button","data-db-analytics-name":"metric_detail_download_csv_button","data-db-analytics-metric-name":a.metricName,size:"small",onPress:a.onPressDownloadCsv,disabled:c,children:c&&a.disabledDownloadTooltipMessage?Object(d.jsx)(p.a,{type:"label",delay:500,placement:"top",trigger:renderDownloadButtonContent(),css:{marginBottom:"small"},children:b(a.disabledDownloadTooltipMessage)}):renderDownloadButtonContent()})]})}},bhan:function(a,b,c){"use strict";c.d(b,"c",function(){return groupDataByFacet}),c.d(b,"a",function(){return k}),c.d(b,"b",function(){return getStackAndGroupedData});var d=c("qEeA"),e=c("DdlR"),f=c("Wylm"),g=c("MQ8h"),h=c("74GN"),i=c("zXcj");const j=e.a[1];function groupDataByFacet(a,b){const c=new Map;for(let d=0;d<a.length;d++){const e=a[d][b];c.has(e)||c.set(e,[]);const f=c.get(e);f&&f.push(a[d])}return c}function memoizedAreAllFacetsIdentical(){const a=new Map;return function(b,c){const d=a.get(b);if(d)return d;if(b.length<=1)return!0;const e=b[0][c],f=b.every(a=>a[c]===e);return a.set(b,f),f}}const k=memoizedAreAllFacetsIdentical();function initPointInGroupsAndStacksIfAny({result:a,acc:b,stackValue:c,x:d,groupValue:e}){a.has(c)||a.set(c,new Map);const f=a.get(c);if(f){let g=f.get(d);if(g||(f.set(d,new Map),g=f.get(d),b.has(d)||b.set(d,new Map)),g&&!g.has(e)){g.set(e,{begin:0,end:0});const h=b.get(d);h&&!h.has(e)&&h.set(e,{positive:0,negative:0})}}}function getStackAndGroupedData({data:a,x:b,y:c,stack:e,group:k,scaleFormat:l,unitFormat:m,desiredTicks:n}){var o,p,q;const r=new Map,s=new Map,t=new Set,u=[0,0],v=void 0!==e,w=void 0!==k;for(let x=0;x<a.length;x++){var y;const z=a[x],A=z[c],B=z[b].valueOf(),C=v?z[e]:"no-stack",D=w?z[k]:"no-group";var E;initPointInGroupsAndStacksIfAny({result:s,acc:r,stackValue:C,x:B,groupValue:D}),t.add(B);const F=null!==(E=null===(y=r.get(B))|| void 0===y?void 0:y.get(D))&& void 0!==E?E:{positive:0,negative:0},G=A<0?F.negative:F.positive,H=G+A,I=s.get(C);I&&I.get(B).set(D,{begin:G,end:H}),A<0?(F.negative=H,u[0]=Math.min(u[0],H)):(F.positive=H,u[1]=Math.max(u[1],H))}let J=[...t.keys()];const K=a.map(a=>a[b]);a.length&&Object(i.b)(K)&&(J=J.map(a=>new Date(a))),a.length&&Object(i.c)(K)&&(null==m?void 0:null===(o=m.x)|| void 0===o?void 0:o.unit)==="time"&&(J=J.map(a=>new Date(a)));const L=j/J.length/2,M=new g.a().nice(!0).domain(u).range([0,100]);Object(h.a)(M,null==l?void 0:l.y,null==n?void 0:n.y);const N=Object(i.b)(J)?f.a:d.a,O=new N;return O instanceof f.a&&(null==m?void 0:null===(p=m.x)|| void 0===p?void 0:p.unit)==="time"&&(null===(q=null==m?void 0:m.x)|| void 0===q?void 0:q.options.timeZone)==="UTC"&&O.timezoneMode("UTC"),{xScale:O.adjust(J).range([L,100-L]),yScale:M,result:s,acc:r}}},cn9Z:function(a,b,c){"use strict";c.d(b,"a",function(){return getMetadataForStacksAndGroups});var d=c("2wAq");function getAllStacksAndGroups(a){const b=[...a.keys()],c=a.get(b[0]);if(!c)return{stacks:b};const d=[...c.entries()],[e,f]=d[0];if(!e)return{stacks:b};const g=[...f.keys()];return g.length?{stacks:b,groups:g}:{stacks:b}}function invertColorsForStacks(a,b){if(a)for(let c=0;c<a.length;c++)b.get(String(a[a.length-1-c]))}function getDefaultMetadata({y:a,stacks:b,groups:c}){const e=new d.a,f=b&&b.length>1,g=c&&c.length>1,h=!f&&g;return f&&invertColorsForStacks(b,e),{global:{name:a},stacks:(null!=b?b:[]).reduce((a,b)=>a.set(b,{name:String(b),...h?{}:{color:e.get(String(b))}}),new Map),groups:(null!=c?c:[]).reduce((a,b)=>a.set(b,{name:String(b),...h?{color:e.get(String(b))}:{}}),new Map)}}function applyPresentationRules(a,b){const c=!(b instanceof Array);if(c){const{name:d,color:e}=b,f={...a.global};d&&(f.name=d),e&&(f.color=e),a.global=f;return}b.forEach(b=>{const{attribute:c,value:d,name:e,color:f}=b;if("stack"===c){const g={...a.stacks.get(d)};Object.keys(g).length&&(e&&(g.name=e),f&&(g.color=f),a.stacks.set(d,g))}if("group"===c){const h={...a.groups.get(d)};Object.keys(h).length&&(e&&(h.name=e),f&&1===a.stacks.size&&(h.color=f),a.groups.set(d,h))}})}function getMetadataForStacksAndGroups({data:a,y:b,presentation:c}){const{stacks:d,groups:e}=getAllStacksAndGroups(a),f=getDefaultMetadata({stacks:d,groups:e,y:b});return c&&applyPresentationRules(f,c),f}},d3FB:function(a,b,c){"use strict";c.d(b,"a",function(){return PivotTable});var d=c("Yms6"),e=c("m3e8"),f=c("n2FO"),g=c("FfI9"),h=c("nPYo"),i=c("XJve"),j=c("pHl2"),k=c("dJ5Y"),l=c("U2Da"),m=c("iDYf"),n=c("Pv3Q");function PivotTable({pivotTable:a,onCellClick:b,pending:c,error:o,loadingText:p,showRowSummaries:q,showColSummaries:r,showGrandTotal:s,canClickCell:t,rowSummaryLabel:u,colSummaryLabel:v}){var w;const{formatMessage:x}=Object(l.a)();function formatMessage(a){return"string"==typeof a?a:x(a)}if(c)return Object(d.jsx)(n.a,{type:"custom",loadingText:p,height:"164px"});if(o)return Object(d.jsx)(n.a,{type:"error",height:"164px",errorText:o.message});var y;const z={value:void 0,label:null!==(y=a.pivotState.aggregationFn)&& void 0!==y?y:"Total"},renderCell=(c,i)=>{const j=a.keyForCell({colValue:i.value,rowValue:c.value}),k=a.cellByKey[j];if(!k)return Object(d.jsx)(e.d,{css:{textAlign:"right"}},`${j}`);var l;const n=null!==(l=null==t?void 0:t(k))&& void 0!==l?l:k.rows.length>0;var o,p,q;return Object(d.jsx)(d.Fragment,{children:n?Object(d.jsx)(e.d,{css:{textAlign:"right",whiteSpace:"nowrap",":hover":{backgroundColor:"offset",cursor:"pointer"}},uses:[e.p.customize({css:{marginLeft:"large"}})],onClick:()=>null==b?void 0:b(k),children:Object(d.jsxs)(f.a,{type:"label",delay:500,placement:"top",trigger:Object(d.jsx)(g.a,{type:"secondary",onClick:()=>null==b?void 0:b(k),css:{textAlign:"right"},children:null!==(o=k.reducedValueDisplay)&& void 0!==o?o:k.reducedValue}),children:[formatMessage(m.a.viewData),i?` for ${null!==(p=i.label)&& void 0!==p?p:i.value}`:""]})},`${j}`):Object(d.jsx)(e.d,{css:{textAlign:"right",whiteSpace:"nowrap"},uses:[e.p.customize({css:{marginLeft:"large"}})],children:Object(d.jsx)(h.a.span,{css:{font:"label.medium"},children:null!==(q=k.reducedValueDisplay)&& void 0!==q?q:k.reducedValue})},`${j}`)})};return Object(d.jsxs)(e.a,{css:{position:"relative"},children:[Object(d.jsx)(e.i,{children:Object(d.jsxs)(e.m,{children:[Object(d.jsx)(e.j,{css:{minWidth:160,whiteSpace:"nowrap",position:"sticky",zIndex:2,backgroundColor:"surface",left:"space.0",top:"space.0"},children:Object(d.jsx)(h.a.span,{css:{font:"label.small.emphasized"},children:null===(w=a.rowField)|| void 0===w?void 0:w.label})}),[...a.colHeaders,z].map(b=>{var c;if(!b.value&&!r)return null;let f=b.label;var g;return void 0===b.value&&(f=v?formatMessage(v):"runningTotalInRow"===a.pivotState.showValueAs?"Last":b.label),Object(d.jsx)(e.j,{css:{textAlign:"right",minWidth:90,whiteSpace:"nowrap",position:"sticky",zIndex:1,backgroundColor:"surface",top:"space.0"},children:Object(d.jsx)(h.a.span,{css:{font:"label.small.emphasized"},children:f})},null!==(g=null===(c=b.value)|| void 0===c?void 0:c.toString())&& void 0!==g?g:"")})]})}),Object(d.jsx)(e.b,{children:a.rowHeaders.map(b=>{var c,f;return Object(d.jsxs)(e.m,{children:[Object(d.jsx)(e.d,{css:{whiteSpace:"nowrap",position:"sticky",zIndex:1,backgroundColor:"surface",left:"space.0"},children:Object(d.jsx)(i.a,{css:{marginLeft:"small"},uses:[Object(j.b)(k.a.color.background.form,{$default:b.color,disabled:b.color}),Object(j.b)(k.a.color.background.form.accent,{$default:b.color,disabled:b.color}),Object(j.b)(k.a.color.border,b.color),Object(j.b)(k.a.color.border.form.accent,{$default:b.color,disabled:b.color})],disabled:!0,label:Object(d.jsx)(h.a.span,{title:null!==(c=b.label)&& void 0!==c?c:b.value,css:{stack:"x"},children:Object(d.jsx)(h.a.span,{css:{font:"label.small.emphasized",maxWidth:320,textOverflow:"ellipsis",overflow:"hidden"},children:null!==(f=b.label)&& void 0!==f?f:b.value})})})}),[...a.colHeaders,z].map(a=>a.value||r?renderCell(b,a):null)]},`${b.value}`)})}),q?Object(d.jsx)(e.g,{children:Object(d.jsxs)(e.m,{children:[Object(d.jsx)(e.d,{css:{whiteSpace:"nowrap",position:"sticky",zIndex:1,left:"space.0",backgroundColor:"surface"},children:Object(d.jsx)(h.a.span,{css:{font:"label.small.emphasized"},children:formatMessage(null!=u?u:m.a.total)})}),[...a.colHeaders,z].map(a=>a.value||s?renderCell(z,a):null)]})}):null]})}},dYas:function(a,b,c){"use strict";c.d(b,"a",function(){return useV1MetricsQuery});var d=c("bPOr"),e=c("qCo4");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}const f=d.a`
  query V1MetricsQuery(
    $v1Context: V1ContextInput!
    $parameters: OpenapiGetV1MetricsInputParameters
    $reportType: String! # $intervalStart: Int # $intervalEnd: Int # $currency: String # $unit: OpenapiGetV1MetricsInputParametersUnitEnum
  ) {
    v1Metrics(
      v1Context: $v1Context
      input: {
        # parameters: {
        #   interval_start: $intervalStart # 1372809600
        #   interval_end: $intervalEnd # 1726708977
        #   currency: $currency # "usd"
        #   unit: $unit # day
        # }
        # report_type: "dashboard_experience.orgs_gross_volume.v1"
        # report_type: "dashboard_experience.orgs_net_volume.v1"
        report_type: $reportType
        parameters: $parameters
      }
    ) {
      columns
      id
      query_id
      rows
    }
  }
`,g=f,h={};function useV1MetricsQuery(a){return Object(e.a)(g,_object_spread({},h,a))}const i={};f.permissions=i},dugB:function(a,b,c){"use strict";c.d(b,"b",function(){return useResponsiveScales}),c.d(b,"a",function(){return useResponsiveQueries});var d=c("0qsp"),e=c("22Ub"),f=c("zXcj"),g=c("GOoH"),h=c("Olvt");function useResponsiveScales(a,b=!1){return Object(d.useMemo)(()=>b?new Map:Object.entries(e.i).reduce((b,[c,d])=>{const e=a.clone();return e.ticks(d.count),b.set(c,e),b},new Map),[a,b])}function useResponsiveQueries(a,b,c,i=!1){return Object(d.useMemo)(()=>{if(i)return Object(h.b)({});let d={"@supports not (contain: inline-size)":{"[data-x-axis-preset]":{visibility:"hidden"},[`[data-x-axis-preset="${e.h}"]`]:{visibility:"visible"}}};return Object.entries(e.i).forEach(([h,i])=>{const j=b.get(h);let k=1,l=0;if(j&&Object(f.a)(j)&&Object(f.a)(a)){const[m,n]=a.domain().map(a=>a.valueOf()),[o,p]=j.domain().map(a=>a.valueOf());k=(n-m)/(p-o),l=j.plot(a.domain()[0].valueOf())/k}const q=0===l&&1===k,r=Object(g.b)(i.min,i.max);d=Object.assign(d,{[`@container ${e.d}-${c} ${r}`]:{"[data-responsive-domain]":{transform:j&&!q?`scaleX(${k}) translateX(${l}%)`:"none"}},[`@container ${e.d} ${r}`]:{"[data-x-axis-preset]":{visibility:"hidden"},[`[data-x-axis-preset="${h}"]`]:{visibility:"visible"}}})}),h.b.global(d)},[a,b,c,i])}},e4P9:function(a,b,c){"use strict";c.d(b,"a",function(){return interpolateDataForLines});var d=c("DdlR"),e=c("MQ8h"),f=c("q2uM"),g=c("74GN"),h=c("zXcj");function configScale(a,b){(null==b?void 0:b.domain)&&a.domain(b.domain),(null==b?void 0:b.forcedToZero)&&a instanceof e.a&&a.adjust(0),void 0!==(null==b?void 0:b.nice)&&Object(h.a)(a)&&(a.nice(null==b?void 0:b.nice),a.ticks())}function getPlainData(a,b,c){const d=a.some(a=>!(a[b]instanceof Date));return d&&(null==c?void 0:c.unit)==="time"?a.map(a=>new Date(a[b])):a.map(a=>a[b])}function getScale(a,b,c,g){const i=getPlainData(a,b,g);let j;if(Object(h.b)(i)){var k;const l=new f.a;j=l.range(d.a).adjust(i);const m=null==g?void 0:null===(k=g.options)|| void 0===k?void 0:k.timeZone;(null==g?void 0:g.unit)==="time"&&m&&j.timezoneMode(m)}else if("number"==typeof a[0][b]){const n=new e.a;j=n.range(d.a).adjust(i)}else throw new Error(`This data is not possible for a LineChart. (attribute ${b})`);return configScale(j,c),j}function interpolateDataForLines(a,b,c,d,e,f,h){const i=getScale(a,b,null==d?void 0:d.get(b),null==e?void 0:e.x),j=getScale(a,c,null==d?void 0:d.get(c),null==e?void 0:e.y);return Object(g.a)(i,null==f?void 0:f.x,null==h?void 0:h.x),Object(g.a)(j,null==f?void 0:f.y,null==h?void 0:h.y),{data:a.map(a=>({...a,[b]:i.plot(a[b]),[c]:j.plot(a[c])})),xScale:i,yScale:j}}},eFsY:function(a,b,c){"use strict";c.d(b,"a",function(){return useCallbackRef});var d=c("0qsp"),e=c.n(d);function useCallbackRef(a){const b=e.a.useRef(a);return e.a.useEffect(()=>{b.current=a}),e.a.useMemo(()=>(...a)=>{var c;return null===(c=b.current)|| void 0===c?void 0:c.call(b,...a)},[])}},erQz:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("nPYo");const g=e.a.memo(({ratio:a=4/3})=>e.a.createElement(f.a.div,{css:{position:"relative",maxHeight:"fill",overflow:"hidden",pointerEvents:"none"}},e.a.createElement(f.a.div,{css:{boxSizing:"border-box",width:"fill",height:"space.0",paddingTop:`calc(100% / (${a}))`}})));b.a=g},fxwb:function(a,b,c){"use strict";c.d(b,"a",function(){return getPointsForStacksAndGroups}),c.d(b,"b",function(){return getPresentationalStacksAndGroups});var d=c("DdlR"),e=c("MQ8h");const f=d.a[1];function getPointsForStacksAndGroups({data:a,acc:b,xScale:c,yScale:d,barWidth:g=1}){const h=[...a.entries()],i=new Map,j=[...b.keys()];return h.forEach(([a,h])=>{const k=f/j.length*g;i.set(a,[]);for(let l=0;l<j.length;l++){const m=j[l],n=h.get(m),o=n?[...n.keys()]:["no-group"],p=b.get(j[l]);if(!p)throw new Error("x-ticks for this bar group has not been calculated");const q=c.plot(m),r=new e.a().domain([0,o.length]).range([q-k/2,q+k/2]);for(let s=0;s<o.length;s++){const t=n?n.get(o[s]):{begin:0,end:0},u=p.get(o[s]);if(!t||!u)throw new Error("bar stack for this group has not been calculated");const v=r.plot(s),w=r.plot(s+1),x=d.plot(t.begin),y=d.plot(t.end),z=u.positive===t.end||u.negative===t.end,A=i.get(a);A&&A.push({x0:v,x1:w,y0:x,y1:y,isYMaxOrMinLocal:z})}}}),i}function getPresentationalStacksAndGroups(a,b){const c=[...a.entries()],d=b.groups&&b.groups.size>1&&1===a.size;if(d){const e=[],f=[...b.groups.keys()],g=c[0][1];for(let h=0;h<f.length;h++){var i,j;e[h]=[f[h],{stackedPoints:[],color:null!==(j=null===(i=b.groups.get(f[h]))|| void 0===i?void 0:i.color)&& void 0!==j?j:"black"}]}for(let k=0;k<g.length;k++)e[k%f.length][1].stackedPoints.push(g[k]);return e}const l=[];for(let m=0;m<c.length;m++){var n,o;l[m]=[c[m][0],{stackedPoints:c[m][1],color:null!==(o=null===(n=b.stacks.get(c[m][0]))|| void 0===n?void 0:n.color)&& void 0!==o?o:"black"}]}return l}},h9sG:function(a,b,c){"use strict";c.d(b,"a",function(){return ClippedSvg});var d=c("0qsp"),e=c.n(d),f=c("DdlR");function ClippedSvg({chartId:a}){const[b,c]=f.a;return e.a.createElement("clipPath",{id:`_svg-clip-${a}`},e.a.createElement("rect",{x:b-1,y:b-1,width:c+1,height:c+1}))}},hHjr:function(a,b,c){"use strict";c.d(b,"b",function(){return F}),c.d(b,"c",function(){return roundDownByMagnitude}),c.d(b,"a",function(){return addUpByMagnitude}),c.d(b,"d",function(){return roundUpByMagnitude});var d=c("a7xa"),e=c("JuZs"),f=c("3tVX"),g=c("UdZT"),h=c("EOdF"),i=c("uqxc"),j=c("BE5o"),k=c("NZ2Y"),l=c("ZEAv"),m=c("EfRO"),n=c("RrKn"),o=c("2xjL"),p=c("hD2p"),q=c("3pyM"),r=c("e2DO"),s=c("H5lj"),t=c("gJ7d");const u=1,v=1e3,w=60*v,x=60*w,y=24*x,z=7*y,A=30*y,B=365*y,C=10*B,D=10*C,E=[[u,"millis"],[v,"second"],[w,"minute"],[x,"hour"],[y,"day"],[z,"week"],[A,"month"],[B,"year"],[C,"decade"],[D,"century"]];function calculateEstimatedTicksForMagnitude(a){const b=a[1].getTime()-a[0].getTime();return E.map(a=>b/a[0])}function convertDateWithTimezone(a,b,c){const d=b?Object(t.a)(a,b):a,e=d.getTime()-a.getTime(),f=c(d);return new Date(f.getTime()-e)}function memoizableCalculateMagnitude(a,b){const c=calculateEstimatedTicksForMagnitude(a);let d=0,e,f,g;do g=Math.abs(c[d]-b),f=c[Math.min(d+1,c.length-1)],d+=1;while(d<E.length&&g>Math.abs(f-b)&&f>1)const h=Math.max(d-1,0);return E[h][1]}function memoizedCalculateMagnitude(){const a=new Map;return function(b,c){const d=`${b[0].getTime()}-${b[1].getTime()}-${c}`,e=a.get(d);if(e)return e;const f=memoizableCalculateMagnitude(b,c);return a.set(d,f),f}}const F=memoizedCalculateMagnitude();function roundDownByMagnitudeUTC(a,b){switch(b){case"millis":return a;case"second":return Object(d.a)(a);case"minute":return Object(e.a)(a);case"hour":{const c=Object(f.a)(a),l=c.getTime()-a.getTime();if(Math.abs(l)===x)return a;return c}case"day":return Object(g.a)(a);case"week":return Object(h.a)(a);case"month":return Object(i.a)(a);case"year":return Object(j.a)(a);case"decade":return Object(k.a)(a);default:const m=new Date(a.getTime());return m.setUTCFullYear(a.getUTCFullYear()-a.getUTCFullYear()%100),m.setUTCMonth(0),m.setUTCDate(1),m.setUTCHours(0,0,0,0),m}}function roundDownByMagnitude(a,b,c){return convertDateWithTimezone(a,c,a=>roundDownByMagnitudeUTC(a,b))}function addUpByMagnitudeUTC(a,b){const c=roundDownByMagnitudeUTC(a,b);switch(b){case"millis":return Object(l.a)(c,1);case"second":return Object(m.a)(c,1);case"minute":return Object(n.a)(c,1);case"hour":return Object(o.a)(c,1);case"day":return Object(p.a)(c,1);case"week":return Object(q.a)(c,1);case"month":return Object(r.a)(c,1);case"year":return Object(s.a)(c,1);case"decade":return Object(s.a)(c,10);default:return Object(s.a)(c,100)}}function addUpByMagnitude(a,b,c){return convertDateWithTimezone(a,c,a=>addUpByMagnitudeUTC(a,b))}function roundUpByMagnitude(a,b,c){const d=roundDownByMagnitude(a,b,c);return d.getTime()===a.getTime()?a:addUpByMagnitude(a,b,c)}},hPFk:function(a,b,c){"use strict";c.d(b,"a",function(){return PivotChart});var d=c("Yms6"),e=c("35NC"),f=c("Cc4s"),g=c("0P0z"),h=c("4MTm"),i=c("kwj6");c("0qsp");var j=c("Pv3Q");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function _object_without_properties(a,b){if(null==a)return{};var c=_object_without_properties_loose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _object_without_properties_loose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}function usePivotChartData({cellsByType:a,rowKey:b,colKey:c,rowField:d,colField:e,rowHeaderbyValue:f,colHeaderbyValue:g,rowHeaders:h,colHeaders:i}){let j;function formatGroupingValue(a,b){var c;return null==a?"":(null===(c=b.unitFormat)|| void 0===c?void 0:c.unit)==="time"?(b.unitFormat.options.timeZone="UTC",new Date(a)):a instanceof Date||"number"==typeof a||"string"==typeof a?a:String(a)}j=b&&c?[...a.both]:b?[...a.row]:c?[...a.col]:[...a.none];const k=Object.fromEntries(h.map((a,b)=>[String(a.value),b])),l=Object.fromEntries(i.map((a,b)=>[String(a.value),b]));j.sort((a,b)=>{const c=(a.colValue?l[String(a.colValue)]:0)-(b.colValue?l[String(b.colValue)]:0),d=(a.rowValue?k[String(a.rowValue)]:0)-(b.rowValue?k[String(b.rowValue)]:0);return 0!==c?c:d});const m=j.map(a=>({reducedValue:"number"==typeof a.reducedValue?a.reducedValue:0,colValue:formatGroupingValue(a.colValue,{unitFormat:null==e?void 0:e.unitFormat,headerByValue:g}),rowValue:formatGroupingValue(a.rowValue,{unitFormat:null==d?void 0:d.unitFormat,headerByValue:f})}));return m}function PivotChart(a){var{pivotTable:b,pending:c,error:k,disableTotal:l}=a,m=_object_without_properties(a,["pivotTable","pending","error","disableTotal"]),n,o;const p=usePivotChartData(b),q=null!=b.pivotState.comparisonValueKey,r=Object(e.a)({data:p.map(a=>({x:a.colValue,y:a.reducedValue,compare:a.rowValue})),x:"x",y:"y"});if(c)return Object(d.jsx)(j.a,{type:"loading"});if(k)return Object(d.jsx)(j.a,{type:"error",errorText:k.message});if(0===p.length)return Object(d.jsx)(j.a,{type:"noData"});const s=null===(n=b.colField)|| void 0===n?void 0:n.unitFormat,t=null===(o=b.valueField)|| void 0===o?void 0:o.unitFormat,u={x:"colValue",xUnitFormat:(null==s?void 0:s.unit)==="custom"?void 0:s,y:"reducedValue",yUnitFormat:(null==t?void 0:t.unit)==="custom"?void 0:(null==t?void 0:t.unit)==="currency"?{unit:"currency",options:_object_spread_props(_object_spread({minimumSignificantDigits:2,maximumSignificantDigits:4},null==t?void 0:t.options),{notation:"compact"})}:t,tooltipYUnitFormat:(null==t?void 0:t.unit)==="custom"?void 0:t,UNSTABLE_minXTicks:!0};function presentation(a){var c,d;const e=25;var f;return b.rowField?b.rowHeaders.map(b=>({attribute:a,value:b.value,name:b.label.length>e?`${b.label.slice(0,e)}...`:b.label,color:b.color})):{name:null!==(f=null===(c=b.valueField)|| void 0===c?void 0:c.label)&& void 0!==f?f:"",color:null===(d=b.valueField)|| void 0===d?void 0:d.color}}return"line"===m.type?Object(d.jsx)(f.a,_object_spread(_object_spread_props(_object_spread({},u),{data:p,facet:b.rowField?"rowValue":void 0,presentation:presentation("facet"),xScaleFormat:"exact"}),q?r:{},m.lineChartProps)):"sparkline"===m.type?Object(d.jsx)(g.a,_object_spread(_object_spread_props(_object_spread({},u),{data:p,facet:b.rowField?"rowValue":void 0,presentation:presentation("facet"),xScaleFormat:"exact"}),q?r:{},m.sparkLineChartProps)):Object(d.jsx)(h.a,_object_spread(_object_spread_props(_object_spread({},u),{data:p,stack:b.rowField?"rowValue":void 0,presentation:presentation("stack"),tooltip:a=>Object(d.jsx)(i.a,_object_spread_props(_object_spread({},a),{isTotalEnabled:!l}))}),m.barChartProps))}},i4dw:function(a,b,c){"use strict";c.d(b,"a",function(){return Line});var d=c("0qsp"),e=c.n(d),f=c("+jRZ");function Line({data:a,x:b,y:c,color:d,isDashed:g}){let h=new f.a;const i=[];for(let j=0;j<a.length;j++){const k=a[j];i.push(k[b]),i.push(k[c])}return h=h.line(i),e.a.createElement("path",{fill:"transparent",stroke:d,...h.toPath(),strokeWidth:3,strokeLinecap:"round",...g?{strokeDasharray:"4"}:{}})}},iDYf:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("afBP");const e={apply:Object(d.a)({id:"reporting.metric-detail.apply",defaultMessage:"Apply",description:"Apply message for filter dropdown"}),cancel:Object(d.a)({id:"reporting.metric-detail.cancel",defaultMessage:"Cancel",description:"Cancel message for filter dropdown"}),choose:Object(d.a)({id:"reporting.metric-detail.choose",defaultMessage:"Choose {label}",description:"Choose message for filter dropdown"}),clear:Object(d.a)({id:"reporting.metric-detail.clear",defaultMessage:"Clear",description:"Message to clear"}),clearFilter:Object(d.a)({id:"reporting.metric-detail.clear-filter",defaultMessage:"Clear Filter",description:"Message to clear filters"}),datepicker:Object(d.a)({id:"reporting.metricdetail.datepicker",description:"Label for a date range selector",defaultMessage:"Time period"}),disabledPaginationTooltip:Object(d.a)({id:"reporting.metric-detail.disabledPagination",defaultMessage:"Download to see the full results.",description:"Tooltip message for when pagination is disabled"}),downloadCsv:Object(d.a)({id:"reporting.metric-detail.download-csv",defaultMessage:"Download CSV",description:"Message on button to download csv"}),explore:Object(d.a)({id:"reporting.metricdetail.explore",description:"Header for the side bar on a chart detail page that gives user the ability to filter and group their chart data by custom dimensions",defaultMessage:"Explore"}),filter:Object(d.a)({id:"reporting.metricdetail.filter",description:"Label for a selector that lets you pick a column and value to filter data by",defaultMessage:"Filter"}),filter_by:Object(d.a)({id:"reporting.metric-detail.filter-by",defaultMessage:"Filter by",description:"Filter by message for filter dropdown"}),filters:Object(d.a)({id:"reporting.metric-detail.filters-title",defaultMessage:"Filters",description:"Title for filters"}),group:Object(d.a)({id:"reporting.metric-detail.group",defaultMessage:"Group",description:"Group message for group dropdown"}),groupBy:Object(d.a)({id:"reporting.metricdetail.groupby",description:"Label for a selector that lets you pick a column to group charts by",defaultMessage:"Group by"}),grouped_by:Object(d.a)({id:"reporting.metric-detail.grouped-by",defaultMessage:"Grouped by {label}",description:"Grouped by message for group dropdown"}),hide:Object(d.a)({id:"reporting.metricdetail.hide",description:"Button to hide the side bar on this page",defaultMessage:"Hide"}),loading:Object(d.a)({id:"reporting.metric-detail.loading",defaultMessage:"Loading…",description:"Loading message for filter and group dropdown"}),methodologyTitle:Object(d.a)({id:"reporting.metric-detail.methodology-title",defaultMessage:"How is this calculated?",description:"Title for the Methodology component"}),noResults:Object(d.a)({id:"reporting.metric-detail.no-results",defaultMessage:"No results",description:"Message displayed when there are no results"}),pagination:Object(d.a)({id:"reporting.metric-detail.pagination",defaultMessage:"Displaying {start}-{end} of {total}",description:"Pagination message for data table"}),preview:Object(d.a)({id:"reporting.metric-detail.preview",defaultMessage:"Preview",description:"Text for Preview badge"}),results:Object(d.a)({id:"reporting.metric-detail.results",defaultMessage:"Results",description:"Title for results section"}),show:Object(d.a)({id:"reporting.metricdetail.show",description:"Button to show the side bar on this page",defaultMessage:"Show"}),summary:Object(d.a)({id:"reporting.metric-detail.summary",defaultMessage:"Summary",description:"Title for summary section"}),total:Object(d.a)({id:"reporting.metric-detail.total",defaultMessage:"Total",description:"Header for column with total values"}),unit:Object(d.a)({id:"reporting.metricdetail.unit",description:"Label for a selector that lets you pick a unit to display chart in (MRR, count, percentage)",defaultMessage:"Unit"}),viewData:Object(d.a)({id:"reporting.metric-detail.view-data",defaultMessage:"View data",description:"Message to view data"})}},iqdA:function(a,b,c){"use strict";c.d(b,"a",function(){return e}),c.d(b,"b",function(){return useV1MetricsQueryItems});var d=c("dYas");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function extractRows(a,b){return a.reduce((a,c)=>(Array.isArray(c)&&a.push(b([...c])),a),[])}const extractString=a=>"string"==typeof a?a:"",extractFloat=a=>{if("string"==typeof a){const b=parseFloat(a);return isNaN(b)?0:b}return"number"!=typeof a||isNaN(a)?0:a},extractBoolean=a=>"boolean"==typeof a&&a,e={rows:extractRows,string:extractString,float:extractFloat,boolean:extractBoolean};function extractItems({rows:a,columns:b}){return a.map(a=>Object.fromEntries(b.map((b,c)=>{const d=b.name,f=b.type,g=a[c];let h;switch(f){case"bigint":case"double":h=e.float(g);break;case"boolean":h=e.boolean(g);break;case"varchar":h=e.string(g);break;default:throw new Error(`[extractItems] Unexpected type ${f}`)}return[d,h]})))}function useV1MetricsQueryItems(...a){var b,c;const e=Object(d.a)(...a);return(null===(b=e.data)|| void 0===b?void 0:b.v1Metrics)?_object_spread_props(_object_spread({},e),{items:extractItems(null===(c=e.data)|| void 0===c?void 0:c.v1Metrics)}):_object_spread_props(_object_spread({},e),{items:void 0})}},jPvL:function(a,b,c){"use strict";c.d(b,"a",function(){return DataTable});var d=c("Yms6"),e=c("U2Da"),f=c("n2FO"),g=c("HOsA"),h=c("nPYo"),i=c("t6oC"),j=c("d3O4"),k=c("iDYf"),l=c("Pv3Q");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function DataTable({table:{table:a,fields:b},getItemRoute:c,maxDataTableHeight:m=500,SailDashboardTable:n,pending:o,disablePagination:p,error:q}){const r=b.filter(a=>!a.hidden).map(a=>{var b;return _object_spread_props(_object_spread({},a),{cellContent:null!==(b=a.cellContent)&& void 0!==b?b:b=>b.original[a.id]})});var s;const t=null!==(s=r.find(a=>a.primary))&& void 0!==s?s:r[0],u=r.filter(a=>a!==t),v=a.getState().sorting.map(a=>({column:a.id,direction:a.desc?"descending":"ascending"}))[0],setSort=b=>a.setSorting([{id:b.column,desc:"descending"===b.direction}]),w=a.getCanPreviousPage()&&!p?a.previousPage:void 0,x=a.getCanNextPage()&&!p?a.nextPage:void 0,{pageSize:y,pageIndex:z}=a.getState().pagination,A=y*z,B=Math.min(A+y,a.getRowCount()),{formatMessage:C,formatNumber:D}=Object(e.a)(),E=C(k.a.pagination,{start:D(A+1),end:D(B),total:D(a.getRowCount())}),F=p&&B<a.getRowCount()?Object(d.jsx)(f.a,{type:"label",delay:500,placement:"top",trigger:Object(d.jsx)(g.c,{icon:i.a,size:"small"}),css:{marginBottom:"small"},children:C(k.a.disabledPaginationTooltip)}):void 0;return q?Object(d.jsx)(l.a,{type:"error",errorText:q.message,height:200}):t?Object(d.jsx)(n,{items:a.getRowModel().rows,pending:o,primaryColumn:t,columns:u,sortBy:v,onSort(a){setSort(a)},pagination:{handlePrevious:w,handleNext:x},resultsContent:a.getRowCount()?Object(d.jsxs)(h.a.div,{css:{stack:"x",distribute:"space-between",height:"fit",alignY:"center",gap:"small"},children:[E,F]}):C(k.a.noResults),stickyPagination:!0,css:{maxHeight:m,overflowY:"scroll",paddingRight:4},getModelRoute:c?({model:a})=>c(a.original):void 0,subviews:{rowLink:{uses:[Object(j.a)({target:"_blank"})]}}}):Object(d.jsx)(h.a.div,{children:"No results"})}},kezX:function(a,b,c){"use strict";c.d(b,"a",function(){return GroupBySelector});var d=c("Yms6"),e=c("yJVm"),f=c("9KEi"),g=c("cFtC"),h=c("nPYo"),i=c("7jzT"),j=c("CAig"),k=c("7Hnw"),l=c("0qsp"),m=c("U2Da"),n=c("afBP"),o=c("nZeF"),p=c("iDYf"),q=c("SZBo");function _object_without_properties(a,b){if(null==a)return{};var c=_object_without_properties_loose(a,b),d,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(e=0;e<f.length;e++)d=f[e],!(b.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(a,d)&&(c[d]=a[d])}return c}function _object_without_properties_loose(a,b){if(null==a)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++)e=d[f],b.indexOf(e)>=0||(c[e]=a[e]);return c}function getLabelFromColumnId(a,b){if(void 0===b)return Object(o.e)(a);const c=b.find(b=>b.id===a);return c?c.label:Object(o.e)(a)}function GroupBySelector(a){var{table:b,fields:c,currentSelection:r,setCurrentSelection:s,metricName:t,setIsOpen:u,renderHighlightedGroupSelector:v}=a,w=_object_without_properties(a,["table","fields","currentSelection","setCurrentSelection","metricName","setIsOpen","renderHighlightedGroupSelector"]);const x=Object(m.a)(),y=l.useRef(null),[z,A]=l.useState(!1),[B,C]=l.useState(r),[D,E]=l.useState(w.highlightedGroupIds);l.useEffect(()=>()=>{null==u||u(!1)},[u]);const F=b.getAllColumns().filter(a=>a.getCanGroup());if(0===F.length)return null;const G=null!=v?v:({columnId:a,selectedKeys:e,setSelectedKeys:f})=>{const g=null==c?void 0:c.find(b=>b.id===a),h=b.getColumn(a);return g&&h?Object(d.jsx)(q.a,{table:b,label:getLabelFromColumnId(a,c),field:g,column:h,selectedKeys:e,setSelectedKeys:f}):null},toggleGroupByPopoverOpen=()=>{null==u||u(!z),A(!z),r||B||!(F.length>0)||C(F[0].id)},H=null==c?void 0:c.find(a=>a.id===r);var I;const J=Object(o.c)(null!==(I=null==H?void 0:H.unitFormat)&& void 0!==I?I:{unit:"none"},x);var K;const[L,...M]=null!==(K=w.highlightedGroupIds)&& void 0!==K?K:[],N=null!=L?J(L).label:L,O=0===M.length?N:x.formatMessage(Object(n.a)({id:"reporting.metric-detail.multi-select-group-display",defaultMessage:"{label} and {remaining} more",description:"Multi select group by chip display value"}),{label:null!=N?N:"",remaining:M.length}),P=r&&O?O:r?getLabelFromColumnId(r,c):void 0;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(e.a,{css:{maxWidth:300,textOverflow:"ellipsis"},label:r&&O?x.formatMessage(p.a.grouped_by,{label:getLabelFromColumnId(r,c)}):r?x.formatMessage(p.a.groupBy):x.formatMessage(p.a.group),title:P,value:P,ref:y,onAddSuggestion:toggleGroupByPopoverOpen,onClose(){var a;s(void 0),C(void 0),E(void 0),null===(a=w.setHighlightedGroupIds)|| void 0===a||a.call(w,void 0)}}),Object(d.jsx)(f.b,{placement:"bottom left",targetRef:y,open:z,onClose:toggleGroupByPopoverOpen,children:Object(d.jsx)(g.a,{children:Object(d.jsxs)(h.a.div,{css:{width:"fill",minWidth:260,height:"fill",stack:"y",alignY:"top",backgroundColor:"surface",borderRadius:"medium",overflow:"hidden"},children:[Object(d.jsx)(h.a.div,{css:{width:"fill",paddingTop:"space.150",paddingX:"space.150",stack:"x",distribute:"space-between",font:"label.medium.emphasized"},children:x.formatMessage(p.a.groupBy)}),Object(d.jsxs)(h.a.div,{css:{width:"fill",paddingX:"space.150",paddingY:"space.150",stack:"y",alignY:"top",gap:"space.150"},"data-testid":"popover-body",children:[Object(d.jsx)(h.a.div,{css:{stack:"y",gap:"space.150"},children:F.map(a=>Object(d.jsxs)(h.a.div,{css:{stack:"y",gap:"small"},children:[Object(d.jsx)(i.c,{onChange(){C(a.id),E(a.id===r?w.highlightedGroupIds:void 0)},checked:B===a.id,label:getLabelFromColumnId(a.id,c)}),B===a.id&&w.setHighlightedGroupIds&&G({renderLocation:"group",columnId:a.id,selectedKeys:D,setSelectedKeys:a=>E(a)})]},a.id))}),Object(d.jsxs)(j.a,{collapse:"none",css:{stack:"x",gap:"medium"},children:[Object(d.jsx)(k.a,{onPress(){C(r),toggleGroupByPopoverOpen()},css:{width:"fill"},children:x.formatMessage(p.a.cancel)}),Object(d.jsx)(k.a,{onPress(){if(s(B),D){var a;null===(a=w.setHighlightedGroupIds)|| void 0===a||a.call(w,D)}else if(B!==r){var b;null===(b=w.setHighlightedGroupIds)|| void 0===b||b.call(w,void 0)}toggleGroupByPopoverOpen()},type:"primary",disabled:!B,"data-testid":"popover-done","data-db-analytics-name":"metric_detail_group_by_button","data-db-analytics-metric-name":t,css:{width:"fill"},children:x.formatMessage(p.a.apply)})]})]})]})})})]})}},kwj6:function(a,b,c){"use strict";c.d(b,"a",function(){return DefaultBarChartTooltip});var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("Olvt"),h=c("dJ5Y"),i=c("uIbx"),j=c("cghG"),k=c("wOi8"),l=c("zw7C"),m=c("hJ0f"),n=c("7vBN"),o=c("Ye1g"),p=c("Pbfb");function useTooltip({tooltipData:a,xScale:b,tooltipRef:c,pointer:e}){const f=Object(d.useRef)(),g=null==e?void 0:e.bounds.width;if(Object(d.useLayoutEffect)(()=>{c.current&&g?f.current=100*c.current.clientWidth/g:f.current=0},[g,c]),!e)return null;const h=b.invert(e.range.x);if(!h)return null;const i=b.plot(h)+b.step()/2,j=100-(b.plot(h)-b.step()/2);var k;const l=(null!==(k=null==f?void 0:f.current)&& void 0!==k?k:0)<100-i,m=a[null==h?void 0:h.valueOf()];return{xValue:h,data:m,container:{style:{position:"absolute",top:e.bounds.y,left:e.bounds.x,width:e.bounds.width}},style:{position:"absolute",...l?{left:`${i}%`}:{right:`${j}%`}}}}const useDurationValue=a=>parseInt(Object(j.c)(a),10);function ColorMarker({color:a}){return e.a.createElement(f.a.figure,{css:{margin:"space.0",padding:"space.0",width:"space.150",height:"space.150",backgroundColor:a,marginRight:"space.2"}})}const q=Object(g.b)({listStyle:"none",margin:"space.0",padding:"space.0",fontSize:"12px",stack:"y",gap:"xsmall"}),r=Object(g.b)({stack:"x",gap:"small",width:"fill",alignY:"center",distribute:"space-between"});function Series({color:a,name:b,value:c}){return e.a.createElement(f.a.div,{uses:[r]},e.a.createElement(ColorMarker,{color:a}),b?e.a.createElement(f.a.span,{css:{width:"fill",color:"subdued"}},b):null,e.a.createElement(f.a.strong,{css:{fontWeight:500,whiteSpace:"nowrap"}},c))}const useOrderedChartDataSeries=a=>{const b=Object(d.useMemo)(()=>{const[b,c]=a.reduce((a,b)=>(Object(p.c)(b)?a[0].push(b):a[1].push(b),a),[[],[]]),[d,e,f]=c.reduce((a,b)=>(b.data.value>0?a[0].unshift(b):0===b.data.value?a[1].push(b):a[2].push(b),a),[[],[],[]]);return[...b,...d,...e,...f]},[a]);return b};function Tooltip({xFormat:a,yFormat:b,xValue:c,data:d}){const g=useOrderedChartDataSeries(d.series),i=Object(n.c)(),j=Object(k.a)(null==i?void 0:i.bounds.width);var l;const m=null!==(l=null==i?void 0:i.bounds.width)&& void 0!==l?l:j;return e.a.createElement(f.a.div,{css:{minWidth:"120px",color:"text.subdued",...m&&{maxWidth:Math.ceil(m/2)}}},e.a.createElement(f.a.p,{css:{marginTop:"space.0",marginBottom:"xsmall",font:"body.small",color:"text",borderBottom:`1px solid ${h.a.color.neutral[100]}`}},e.a.createElement(f.a.strong,null,a(c))),e.a.createElement(f.a.ul,{uses:[q]},g.map((a,d)=>e.a.createElement(f.a.li,{key:`${c}.${a.name}.${d}`},a.stack&&a.group?e.a.createElement(f.a.p,{css:{marginTop:"small",marginBottom:"xsmall"}},e.a.createElement(f.a.strong,null,a.name)):null,a.group?e.a.createElement(f.a.ul,{uses:[q]},Object.keys(a.data).map(c=>{const d=a.data[c];return e.a.createElement(f.a.li,{key:c,uses:[r]},e.a.createElement(Series,{color:d.color,name:String(c),value:b(d.value)}))})):null,a.group?null:e.a.createElement(Series,{color:a.data.color,name:a.name,value:b(a.data.value)})))),d.total?e.a.createElement(f.a.p,{css:{stack:"x",gap:"small",alignY:"center",distribute:"space-between",marginTop:"xsmall",marginBottom:"space.0",font:"body.small",fontWeight:500,color:"text",borderTop:`1px solid ${h.a.color.neutral[100]}`}},e.a.createElement(f.a.span,null,"Total"),e.a.createElement(f.a.span,null,b(d.total.all))):null)}function DefaultBarChartTooltip({xFormat:a,yFormat:b,xValue:c,data:f,isTotalEnabled:g=!0}){const h=Object(d.useMemo)(()=>g?f:{series:f.series},[f,g]);return e.a.createElement(Tooltip,{xFormat:a,yFormat:b,xValue:c,data:h})}function BarChartTooltip({xScale:a,yScale:b,xUnitFormat:c,yUnitFormat:g,tooltipData:k,component:p=Tooltip}){const q=Object(d.useRef)(),r=Object(n.c)(),s=p,t=useTooltip({pointer:r,tooltipData:k,xScale:a,tooltipRef:q}),u=Object(o.a)(a,c),v=Object(o.a)(b,g),w=Object(j.c)(h.a.animation.easing),x=useDurationValue(h.a.animation.duration.medium);return null===s?null:e.a.createElement(i.a,null,e.a.createElement(l.a,null,r&&t?e.a.createElement(f.a.div,{style:t.container.style,uses:[m.a.in({opacity:0,easing:w,duration:x}),m.a.out({opacity:0,easing:w,duration:x})]},e.a.createElement(f.a.div,{ref:q,style:t.style,css:{backgroundColor:"surface",borderRadius:"xsmall",boxShadow:"medium",padding:"small",position:"relative"}},e.a.createElement(s,{xValue:t.xValue,data:t.data,xFormat:u,yFormat:v}))):null))}b.b=e.a.memo(BarChartTooltip)},l0ik:function(a,b,c){"use strict";c.d(b,"a",function(){return EmptyBiscalarPlaceholder});var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("erQz"),h=c("3QLC"),i=c("lq6c"),j=c("qEeA"),k=c("MQ8h"),l=c("+KqD"),m=c("22Ub"),n=c("DdlR"),o=c("Ye1g");const p=n.a[1],q=p/2;function EmptyBiscalarPlaceholder({isUsingBarMark:a=!1}){const b=new k.a().adjust([0,1]),c=a?new j.a().adjust(["No Categories"]).range([q,100-q]):new k.a().adjust([0,1]),d=Object(o.a)(c),n=Object(o.a)(b);return e.a.createElement(f.a.div,{css:{position:"relative",stack:"x",height:"fill"}},e.a.createElement(g.a,null),e.a.createElement(f.a.div,{css:{position:"absolute",padding:`${m.b} ${m.c} ${m.a} 0`,boxSizing:"border-box",width:"fill",height:"fill"}},e.a.createElement(h.a,null,e.a.createElement(i.a,{yScale:b})),e.a.createElement(l.a,{scale:b,format:n,orientation:"vertical",count:2}),e.a.createElement(l.a,{scale:c,format:d,orientation:"horizontal",count:2,isUsingBarMark:a})))}},lq6c:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("dJ5Y"),h=c("+jRZ"),i=c("DdlR");function AxisLines({yScale:a,yCount:b=10}){let c=new h.a;const[d,j]=i.a,k=a.ticks(b);for(let l=0;l<k.length;l++){const m=a.plot(k[l]);c=c.line([d,m,j,m])}const n=new h.a;return n.line([d,a.range()[0],j,a.range()[0]]),e.a.createElement(e.a.Fragment,null,e.a.createElement(f.a.path,{css:{fill:"transparent",stroke:g.a.color.hue.gray[100].toString()},...c.toPath(),strokeWidth:1}),e.a.createElement(f.a.path,{css:{fill:"transparent",stroke:g.a.color.hue.gray[300].toString()},...n.toPath(),strokeWidth:1}))}b.a=e.a.memo(AxisLines)},nE93:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("dJ5Y"),h=c("Olvt"),i=c("22Ub"),j=c("E3yX");function getFlattenTicks(a){const b=a.map((a,b)=>[b,b]);return new Map(b)}function VerticalContainer({children:a}){return e.a.createElement(f.a.div,{style:{color:g.a.color.hue.gray[300].toString(),position:"absolute",right:"0px",top:i.b,paddingLeft:"4px",width:i.c,height:`calc(100% - ${i.b} - ${i.a})`,fontSize:"12px"}},a)}function HorizontalContainer({children:a,presetName:b}){return e.a.createElement(f.a.div,{"data-x-axis-preset":b,uses:[Object(h.b)({position:"absolute",left:0,bottom:0,height:i.a,width:`calc(100% - ${i.c})`,fontSize:"12px",color:g.a.color.hue.gray[500].toString()})]},a)}function calculateTickSpace(a,b,c,d=!0){const e=0===a,f=a===b-1,g=c[a],h=c[a-1],i=c[a+1];let j,k;const l=e?(i-g)/2:(g-h)/2,m=f?(g-h)/2:(i-g)/2,n=Math.min(Math.abs(l),Math.abs(m));return d?(j=e?0:g-n,k=f?100:g+n):(j=g-n,k=g+n),[j,k]}function HorizontalLabelTick({tick:a,ticksX:b,tickCount:c,tickIndex:d,renderableTicksX:i,renderableTickCount:j,renderableTickIndex:k,isUsingBarMark:l=!1}){if(void 0===a|| void 0===k)return null;const[m,n]=calculateTickSpace(d,c,b),[o,p]=calculateTickSpace(k,j,i),q=n-m,r=(p-o)/q*100,s={0:b[d]<=1?"left":"center",[c-1]:b[d]>=99?"right":"center"};var t;const u=l?"center":null!==(t=s[d])&& void 0!==t?t:"center";return e.a.createElement(e.a.Fragment,null,e.a.createElement(f.a.span,{css:{position:"absolute",width:"space.1",height:"xsmall",backgroundColor:g.a.color.hue.gray[300].toString(),left:`${b[d]}%`,top:"space.0"}}),e.a.createElement(f.a.span,{uses:[Object(h.b)({position:"absolute",top:"8px",left:`${m}%`,width:`${q}%`,minHeight:"10px",display:"flex",justifyContent:u})]},e.a.createElement(f.a.span,{title:a,uses:[Object(h.b)({minWidth:`${r}%`,flexBasis:`${r}%`,flexShrink:0,flexGrow:0,display:"flex",justifyContent:u,textAlign:u,whiteSpace:"normal",wordBreak:"keep-all",overflowWrap:"normal"})]},a)))}function VerticalLabelTick({tick:a,ticksX:b,tickCount:c,tickIndex:d}){if(void 0===a)return null;const[g,j]=calculateTickSpace(d,c,b,!1),k=j-g;return e.a.createElement(f.a.span,{title:a,uses:[Object(h.b)({position:"absolute",left:"8px",top:`${g}%`,height:`${k}%`,minWidth:i.c,display:"flex",flexDirection:"column",justifyContent:"center",textWrap:"nowrap",whiteSpace:"normal",wordBreak:"keep-all",overflowWrap:"normal"})]},a)}function AxisLabel({scale:a,format:b,count:c,orientation:f,presetName:g,isUsingBarMark:h=!1,UNSTABLE_minTicks:i=!1}){const k="vertical"===f,l=Object(d.useMemo)(()=>{const b=a.ticks(c);return k?b.slice().reverse():b},[a,c,k]),m=l.length,n=Object(d.useMemo)(()=>l.map(b=>k?100-a.plot(b):a.plot(b)),[l,a,k]),[o,p]=Object(d.useMemo)(()=>{if(i){const b=Object(j.a)(l.slice());return[new Map(b.map((a,b)=>[a,b])),b.map(b=>a.plot(l[b]))]}return[getFlattenTicks(l),n]},[i,l,n,a]),q=p.length,r=k?VerticalContainer:HorizontalContainer,s=k?VerticalLabelTick:HorizontalLabelTick;return e.a.createElement(r,{presetName:g},l.map((a,c)=>{const d=o.has(c),f=`${a.toString()}-${c}`;return e.a.createElement(s,{key:f,tick:d?b(a):void 0,tickCount:m,tickIndex:c,ticksX:n,renderableTickCount:q,renderableTickIndex:o.get(c),renderableTicksX:p,isUsingBarMark:h})}))}b.a=e.a.memo(AxisLabel)},nZeF:function(a,b,c){"use strict";function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function withDefaultHook(a,b){return void 0===a?b:a}function satisfies(){return function(a){return a}}function compact(a){return a.filter(Boolean)}function sentenceCase(a){const b=a.toLowerCase().replace(/_/g," ").replace(/\s+/," ");return b.charAt(0).toUpperCase()+b.slice(1)}function getFormatter(a,b){if("custom"===a.unit)return a.fn;const c=_getFormatter(a,b);return a=>({label:c(a),color:void 0})}function _getFormatter(a,b){const{formatDateTime:c,formatPercent:d,formatNumber:e,formatCurrency:f}=b;return"time"===a.unit?0===Object.keys(a.options).length?a=>a.valueOf().toString():b=>{if(b instanceof Date)return c(b,a.options);const d=new Date(b);return c(d,_object_spread_props(_object_spread({},a.options),{timeZone:"UTC"}))}:"number"===a.unit?b=>e(b,_object_spread({notation:"compact"},a.options)):"percent"===a.unit?b=>d(b,a.options):"currency"===a.unit?b=>f(b,_object_spread({notation:"compact"},a.options)):a=>null==a?void 0:a.toString()}function comparator(a,b="asc"){const c="function"==typeof a?a:b=>b[a];return(a,d)=>c(a)<c(d)?"asc"===b?-1:1:c(a)>c(d)?"asc"===b?1:-1:0}c.d(b,"f",function(){return withDefaultHook}),c.d(b,"d",function(){return satisfies}),c.d(b,"a",function(){return compact}),c.d(b,"e",function(){return sentenceCase}),c.d(b,"c",function(){return getFormatter}),c.d(b,"b",function(){return comparator})},q2uM:function(a,b,c){"use strict";c.d(b,"a",function(){return TimeScale});var d=c("DdlR"),e=c("hHjr");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_apply_descriptor_set(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}function _class_private_field_set(a,b,c){var d=_class_extract_field_descriptor(a,b,"set");return _class_apply_descriptor_set(a,d,c),c}const f=new Date(864e13),g=new Date(-864e13);var h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakMap,l=new WeakMap,m=new WeakMap,n=new WeakMap,o=new WeakMap,p=new WeakMap,q=new WeakMap,r=new WeakMap,s=new WeakMap;class TimeScale{timezoneMode(a){return a?(_class_private_field_set(this,i,a),this.adaptDomainToTicks(),_class_private_field_set(this,l,!0),this):_class_private_field_get(this,i)}domain(a){return a?(a[0]instanceof Date&&a[1]instanceof Date?_class_private_field_set(this,j,a):_class_private_field_set(this,j,[new Date(a[0]),new Date(a[1])]),this.adaptDomainToTicks(),_class_private_field_set(this,l,!0),this):_class_private_field_get(this,h)}range(a){return a?(_class_private_field_set(this,k,a),_class_private_field_set(this,l,!0),this):_class_private_field_get(this,k)}magnitude(){return _class_private_field_get(this,m)}nice(a){return void 0===a?_class_private_field_get(this,p):(_class_private_field_set(this,p,a),this.domain(_class_private_field_get(this,j)),_class_private_field_set(this,l,!0),this)}generate(){const a=this.adaptTimeDomainToLinear(_class_private_field_get(this,h)),b=_class_private_field_get(this,k);_class_private_field_set(this,r,(b[1]-b[0])/(a[1]-a[0])),_class_private_field_set(this,s,b[0]-_class_private_field_get(this,r)*a[0]),_class_private_field_set(this,o,new Map),_class_private_field_set(this,l,!1)}adaptDomainToTicks(){const a=_class_private_field_get(this,j);_class_private_field_set(this,m,Object(e.b)(a,_class_private_field_get(this,q)));let[b,c]=a;_class_private_field_set(this,h,[b,c]),_class_private_field_get(this,p)&&(b=Object(e.c)(b,_class_private_field_get(this,m),_class_private_field_get(this,i)),c=Object(e.d)(c,_class_private_field_get(this,m),_class_private_field_get(this,i)),_class_private_field_set(this,h,[b,c]));let d=b;const f=Object(e.c)(b,_class_private_field_get(this,m),_class_private_field_get(this,i)),g=b.getTime()===f.getTime(),k=g?[b]:[];for(;d.getTime()<c.getTime();)d=Object(e.a)(d,_class_private_field_get(this,m),_class_private_field_get(this,i)),k.push(new Date(d));!_class_private_field_get(this,p)&&k.length>1&&k[k.length-1].getTime()>c.getTime()&&k.pop(),_class_private_field_set(this,n,k),_class_private_field_set(this,l,!0)}adaptTimeDomainToLinear(a){return[a[0].getTime(),a[1].getTime()]}adjust(a){const b=this.adaptTimeDomainToLinear(_class_private_field_get(this,h)),c=Array.isArray(a)?a:[a],d=c.map(a=>a instanceof Date?a.getTime():a),e=Math.min(...d),f=Math.max(...d);return this.domain([new Date(Math.min(b[0],e)),new Date(Math.max(b[1],f))]),_class_private_field_set(this,l,!0),this}plot(a){_class_private_field_get(this,l)&&this.generate();const b=a instanceof Date?a.getTime():a;return b*_class_private_field_get(this,r)+_class_private_field_get(this,s)}invert(a){return _class_private_field_get(this,l)&&this.generate(),new Date((a-_class_private_field_get(this,s))/_class_private_field_get(this,r))}ticks(a=10){_class_private_field_set(this,q,a);const b=`${a}`,c=_class_private_field_get(this,o).get(b);return c||(this.adaptDomainToTicks(),_class_private_field_get(this,o).set(b,_class_private_field_get(this,n)),_class_private_field_get(this,n))}step(a=10){const b=this.ticks(a);return b.length<2?_class_private_field_get(this,k)[1]-_class_private_field_get(this,k)[0]:this.plot(b[1])-this.plot(b[0])}clone(){const a=new TimeScale;return a.domain(_class_private_field_get(this,j)),a.range(_class_private_field_get(this,k)),a.ticks(_class_private_field_get(this,q)),a.nice(_class_private_field_get(this,p)),_class_private_field_get(this,i)&&a.timezoneMode(_class_private_field_get(this,i)),a}constructor(){_class_private_field_init(this,h,{writable:!0,value:[f,g]}),_class_private_field_init(this,i,{writable:!0,value:void 0}),_class_private_field_init(this,j,{writable:!0,value:[f,g]}),_class_private_field_init(this,k,{writable:!0,value:d.a}),_class_private_field_init(this,l,{writable:!0,value:!1}),_class_private_field_init(this,m,{writable:!0,value:"century"}),_class_private_field_init(this,n,{writable:!0,value:[]}),_class_private_field_init(this,o,{writable:!0,value:new Map}),_class_private_field_init(this,p,{writable:!0,value:!0}),_class_private_field_init(this,q,{writable:!0,value:10}),_class_private_field_init(this,r,{writable:!0,value:1/0}),_class_private_field_init(this,s,{writable:!0,value:1/0}),this.generate()}}},qEeA:function(a,b,c){"use strict";c.d(b,"a",function(){return BandScale});var d=c("MQ8h");function _check_private_redeclaration(a,b){if(b.has(a))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _class_apply_descriptor_get(a,b){return b.get?b.get.call(a):b.value}function _class_apply_descriptor_set(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function _class_extract_field_descriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function _class_private_field_get(a,b){var c=_class_extract_field_descriptor(a,b,"get");return _class_apply_descriptor_get(a,c)}function _class_private_field_init(a,b,c){_check_private_redeclaration(a,b),b.set(a,c)}function _class_private_field_set(a,b,c){var d=_class_extract_field_descriptor(a,b,"set");return _class_apply_descriptor_set(a,d,c),c}var e=new WeakMap,f=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap;class BandScale{domain(a){return a?(_class_private_field_set(this,e,a),_class_private_field_set(this,j,!0),this):_class_private_field_get(this,e)}generate(){const a=_class_private_field_get(this,e).length-1;if(_class_private_field_set(this,i,new d.a().domain([0,a]).range(_class_private_field_get(this,f))),_class_private_field_set(this,g,new Map),_class_private_field_set(this,h,new Map),0===a){_class_private_field_get(this,g).set(_class_private_field_get(this,e)[0].valueOf(),_class_private_field_get(this,f)[0]);return}for(let b=0;b<=a;b++)_class_private_field_get(this,g).set(_class_private_field_get(this,e)[b].valueOf(),_class_private_field_get(this,i).plot(b)),_class_private_field_get(this,h).set(_class_private_field_get(this,i).plot(b),_class_private_field_get(this,e)[b])}needsGeneration(a){return void 0===a?_class_private_field_get(this,j):(_class_private_field_set(this,j,a),this)}range(a){return a?(_class_private_field_set(this,f,a),_class_private_field_set(this,j,!0),this):_class_private_field_get(this,f)}adjust(a){const b=Array.isArray(a)?a:[a];return _class_private_field_set(this,e,_class_private_field_get(this,e).concat(b)),_class_private_field_set(this,j,!0),this}plot(a){var b;return _class_private_field_get(this,j)&&this.generate(),null!==(b=_class_private_field_get(this,g).get(a.valueOf()))&& void 0!==b?b:NaN}invert(a){if(_class_private_field_get(this,e).length<2)return _class_private_field_get(this,e)[0];_class_private_field_get(this,j)&&this.generate();const b=Math.max(_class_private_field_get(this,i).domain()[0],Math.min(Math.round(_class_private_field_get(this,i).invert(a)),_class_private_field_get(this,i).domain()[1])),c=_class_private_field_get(this,h).get(_class_private_field_get(this,i).plot(b));return c}ticks(){return _class_private_field_get(this,e)}step(){return _class_private_field_get(this,e).length<2?_class_private_field_get(this,f)[1]-_class_private_field_get(this,f)[0]:this.plot(_class_private_field_get(this,e)[1])-this.plot(_class_private_field_get(this,e)[0])}clone(){const a=new BandScale;return a.domain(_class_private_field_get(this,e)),a.range(_class_private_field_get(this,f)),a}constructor(){_class_private_field_init(this,e,{writable:!0,value:[]}),_class_private_field_init(this,f,{writable:!0,value:[-Number.MAX_VALUE,Number.MAX_VALUE]}),_class_private_field_init(this,g,{writable:!0,value:new Map}),_class_private_field_init(this,h,{writable:!0,value:new Map}),_class_private_field_init(this,i,{writable:!0,value:new d.a}),_class_private_field_init(this,j,{writable:!0,value:!1})}}},qNjK:function(a,b,c){"use strict";function getLineLegendData({metadata:a}){if(a.facets.size>0)return[...a.facets.entries()].map(([a,{name:b,color:c,lineStyle:d}])=>({id:a,name:b,color:c,shape:"dashed"===d?"line-dotted":"line"}));const{name:b,color:c}=a.global;return[{id:"global",name:b,color:c,shape:"line"}]}function getBarLegendData({metadata:a}){if(a.stacks.size>1)return[...a.stacks.entries()].map(([a,{name:b,color:c}])=>({id:a,name:b,color:c,shape:"bar"}));if(a.groups.size>1)return[...a.groups.entries()].map(([a,{name:b,color:c}])=>({id:a,name:b,color:c,shape:"bar"}));let b=a.global.color,c=a.global.name;if(1===a.stacks.size){const d=[...a.stacks.entries()][0];d[1]&&"no-stack"!==d[1].name&&(c=d[1].name),d[1]&&d[1].color&&!b&&(b=d[1].color)}return[{id:"global",name:c,color:b,shape:"bar"}]}c.d(b,"b",function(){return getLineLegendData}),c.d(b,"a",function(){return getBarLegendData})},u2Um:function(a,b,c){"use strict";c.d(b,"a",function(){return h});var d=c("Yms6"),e=c("bbq+"),f=c("nPYo"),g=c("wi2u");c("0qsp");const h=Object(e.createView)(({direction:a,children:b,controls:c})=>"vertical"===a?Object(d.jsxs)(f.a.div,{css:{stack:"y",gap:"medium"},children:[c,b]}):Object(d.jsxs)(f.a.div,{css:{stack:"x",alignY:"stretch",overflow:"hidden",flexShrink:1},children:[Object(d.jsx)(f.a.div,{css:{overflowY:"scroll",stack:"y",gap:"medium"},children:b}),Object(d.jsx)(g.a,{}),Object(d.jsx)(f.a.div,{css:{maxWidth:320,overflowY:"scroll"},children:c})]}))},xR3U:function(a,b,c){"use strict";c.d(b,"a",function(){return Bar});var d=c("0qsp"),e=c.n(d),f=c("+jRZ");const g=0;function Bar({data:a,color:b}){const c=new f.a;for(let d=0;d<a.length;d++){const{x0:h,y0:i,x1:j,y1:k}=a[d];c.rect(h,i,j,k,g)}return e.a.createElement(e.a.Fragment,null,e.a.createElement("path",{fill:b,stroke:b,...c.toPath()}))}},yKdw:function(a,b,c){"use strict";c("Cq/6");var d=c("aCd9");c.d(b,"a",function(){return d.a}),c("VJoQ");var e=c("DMQh");c.d(b,"b",function(){return e.b}),c.d(b,"c",function(){return e.d});var f=c("FUds");c.d(b,"d",function(){return f.c})},"yS+3":function(a,b,c){"use strict";c.d(b,"a",function(){return useBarData});var d=c("0qsp"),e=c("fxwb"),f=c("bhan"),g=c("Pbfb"),h=c("cn9Z"),i=c("qNjK");function useBarData({data:a,dimensions:b,options:c}){const{x:j,y:k,stack:l,group:m}=b;return Object(d.useMemo)(()=>{var b;const{xScale:d,yScale:n,result:o,acc:p}=Object(f.b)({data:a,x:j,y:k,stack:l,group:m,scaleFormat:null==c?void 0:c.scaleFormat,unitFormat:null==c?void 0:c.unitFormat,desiredTicks:null==c?void 0:c.desiredTicks}),q=Object(h.a)({data:o,y:k,presentation:null==c?void 0:c.presentation}),r=Object(e.a)({data:o,acc:p,xScale:d,yScale:n,barWidth:null==c?void 0:c.barWidth}),s=Object(g.a)({data:o,metadata:q,x:j,y:k});var t;const u=null!==(t=null==c?void 0:null===(b=c.legend)|| void 0===b?void 0:b.enabled)&& void 0!==t&&t,v=Object(i.a)({metadata:q});return{xScale:d,yScale:n,stacks:r,tooltipData:s,metadata:q,...u?{legendData:v}:{}}},[a,null==c?void 0:c.barWidth,null==c?void 0:c.presentation,null==c?void 0:c.scaleFormat,null==c?void 0:c.desiredTicks,null==c?void 0:c.unitFormat,null==c?void 0:c.legend,j,k,l,m])}},"z4J+":function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("nPYo"),g=c("Olvt"),h=c("dJ5Y"),i=c("uIbx"),j=c("cghG"),k=c("zw7C"),l=c("hJ0f"),m=c("7vBN"),n=c("Ye1g"),o=c("ziLk"),p=c("dugB"),q=c("22Ub");function useTooltip({tooltipData:a,xScale:b,tooltipRef:c,pointer:e,xDesiredTickCount:f}){const g=Object(d.useRef)(),h=null==e?void 0:e.bounds.width;if(Object(d.useLayoutEffect)(()=>{c.current&&h?g.current=100*c.current.clientWidth/h:g.current=0},[h,c]),!e)return null;const i=b.invert(e.range.x);if(!i)return null;const j=b.plot(i)+b.step(f)/2;var k;const l=(null!==(k=null==g?void 0:g.current)&& void 0!==k?k:0)<100-j,m=Object(o.a)({tooltipData:a,value:i,scale:b}),n=a[m];return{xValue:m,data:n,container:{style:{position:"absolute",top:e.bounds.y,left:e.bounds.x,width:e.bounds.width}},style:{position:"absolute",...l?{left:`${j}%`}:{right:"2px"}}}}const useDurationValue=a=>parseInt(Object(j.c)(a),10);function isAComparisionSeries(a,b){return 1===a.series.length&&b.startsWith("_compared")}function getOriginalValueFromComparision(a,b){if(isAComparisionSeries(a,b)){const c=b.substring(9);return a.series[0].originalPoint[c]}return a.series[0].originalPoint[b]}function ColorMarker({color:a}){return e.a.createElement(f.a.figure,{css:{margin:"space.0",padding:"space.0",width:"space.150",height:"space.150",backgroundColor:a,marginRight:"space.2"}})}const r=Object(g.b)({listStyle:"none",margin:"space.0",padding:"space.0",fontSize:"12px",stack:"y",gap:"xsmall"}),s=Object(g.b)({stack:"x",gap:"small",alignY:"center",distribute:"space-between"});function Series({color:a,name:b,value:c}){return e.a.createElement(f.a.div,{uses:[s]},e.a.createElement(ColorMarker,{color:a}),b?e.a.createElement(f.a.span,{css:{width:"fill",color:"subdued"}},b):null,e.a.createElement(f.a.strong,{css:{fontWeight:500,whiteSpace:"nowrap"}},c))}function Tooltip({xFormat:a,yFormat:b,xValue:c,x:d,data:g}){return e.a.createElement(f.a.div,{css:{minWidth:"120px",color:"text.subdued"}},e.a.createElement(f.a.p,{css:{marginTop:"space.0",marginBottom:"xsmall",font:"body.small",color:"text",borderBottom:`1px solid ${h.a.color.neutral[100]}`}},e.a.createElement(f.a.strong,null,a(isAComparisionSeries(g,d)?getOriginalValueFromComparision(g,d):c))),e.a.createElement(f.a.ul,{uses:[r]},g.series.map((a,d)=>e.a.createElement(f.a.li,{key:`${c}.${a.name}.${d}`},e.a.createElement(Series,{color:a.data.color,name:a.name,value:b(a.data.value)})))))}function LineChartTooltip({xScale:a,yScale:b,xUnitFormat:c,yUnitFormat:g,x:o,xDesiredTickCount:r,tooltipData:s,component:t=Tooltip,UNSTABLE_minXTicks:u=!1}){const v=Object(d.useRef)(),w=Object(m.c)(),x=t,y=void 0!==r||u,z=Object(p.b)(a,y);var A,B;const C=null!==(B=z.get(null!==(A=null==w?void 0:w.presetName)&& void 0!==A?A:q.h))&& void 0!==B?B:a,D=useTooltip({pointer:w,tooltipData:s,xScale:C,tooltipRef:v,xDesiredTickCount:r}),E=Object(n.a)(C,c),F=Object(n.a)(z,c),G=Object(n.a)(b,g);var H,I;const J=null!==(I=F.get(null!==(H=null==w?void 0:w.presetName)&& void 0!==H?H:q.h))&& void 0!==I?I:E,K=Object(j.c)(h.a.animation.easing),L=useDurationValue(h.a.animation.duration.medium);return null===x?null:e.a.createElement(i.a,null,e.a.createElement(k.a,null,w&&D?e.a.createElement(f.a.div,{style:D.container.style,uses:[l.a.in({opacity:0,easing:K,duration:L}),l.a.out({opacity:0,easing:K,duration:L})]},e.a.createElement(f.a.div,{ref:v,style:D.style,css:{backgroundColor:"surface",borderRadius:"xsmall",boxShadow:"medium",padding:"small",position:"relative"}},e.a.createElement(x,{xValue:D.xValue,x:o,data:D.data,xFormat:J,yFormat:G}))):null))}b.a=e.a.memo(LineChartTooltip)},zSFc:function(a,b,c){"use strict";c.d(b,"a",function(){return useV1MetricsMetaQuery});var d=c("bPOr"),e=c("qCo4");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}const f=d.a`
  query V1MetricsMetaQuery($v1Context: V1ContextInput!, $reportType: String!) {
    v1AllCurrenciesFilter(input: {}, v1Context: $v1Context) {
      id
      currencies
      default_currency
    }
    v1ReportingReportTypes(
      v1Context: $v1Context
      input: {report_types: [$reportType]}
    ) {
      count
      total_count
      data {
        id
        name
        data_available_start
        data_available_end
      }
    }
  }
`,g=f,h={};function useV1MetricsMetaQuery(a){return Object(e.a)(g,_object_spread({},h,a))}const i={};f.permissions=i},zXcj:function(a,b,c){"use strict";c.d(b,"b",function(){return isDateValue}),c.d(b,"c",function(){return isNumericValue}),c.d(b,"a",function(){return isContinuousScale}),c.d(b,"d",function(){return isResponsiveScale});var d=c("Wylm"),e=c("MQ8h"),f=c("q2uM");function isDateValue(a){return a.every(a=>a instanceof Date)}function isNumericValue(a){return a.every(a=>"number"==typeof a)}function isContinuousScale(a){return a instanceof e.a||a instanceof f.a}function isResponsiveScale(a){return!!isContinuousScale(a)||a instanceof d.a}},ziLk:function(a,b,c){"use strict";c.d(b,"a",function(){return bisect});var d=c("vFFX");function getXValues(a,b,c){return Object.keys(a).filter(a=>Number(a)>=Number(b)&&Number(a)<=Number(c))}const e=Object(d.a)(getXValues);function bisect({tooltipData:a,value:b,scale:c}){let d=Number.MAX_VALUE;const[f,g]=c.domain(),h=e(a,f,g);let i=Number(h[0]);return h.forEach(a=>{const c=Math.abs(Number(a)-Number(b));c<d&&(d=c,i=Number(a))}),i}}}])
//# sourceMappingURL=https://sourcemaps.corp.stripe.com/dashboard-fe-statics-srv/dashboard.DKIh-01.ff96a65057.min.js.map