(window["__load"]=window["__load"]||[]).push([["OWFy-08","FnwT-01","R8gh-01"],{"0mjH":function(a,b,c){"use strict";c.d(b,"a",function(){return useReportTypesWithDateQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query ReportTypesWithDateQuery($reportTypes:[String!]$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"bdf84c05a3"){v1ReportingReportTypes(input:{report_types:$reportTypes}v1Context:$v1Context)@params(expand:[]includeOnly:["data.data_available_end" "data.data_available_start" "data.id"]fragments:[]nodeLookupMap:[{nodes:["data_available_end" "data_available_start" "id"]parentPath:"data"}]predicates:{})@rest(type:"OpenapiGetV1ReportingReportTypes" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/reporting/report_types" queryName:"v1ReportingReportTypes"){data@type(name:"OpenapiReportingReport"){dataAvailableEnd:data_available_end dataAvailableStart:data_available_start id}}}
          `,g=f,h={};function useReportTypesWithDateQuery(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"0svD":function(a,b){function _classExtractFieldDescriptor(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}a.exports=_classExtractFieldDescriptor,a.exports.__esModule=!0,a.exports.default=a.exports},"11rC":function(a,b,c){"use strict";c.d(b,"a",function(){return e}),c.d(b,"b",function(){return f});var d=c("Vavk");const e=Object(d.a)({title:{id:"bento.modules.paymentsRollup.title",defaultMessage:"Payments"},infoTooltip:{id:"bento.modules.paymentsRollup.infoTooltip",defaultMessage:"Estimated volume is the total payments per status in a filtered time period."},failedRollupTitle:{id:"bento.modules.paymentsRollup.failedRollupTitle",defaultMessage:"Failed payments"},refundedRollupTitle:{id:"bento.modules.paymentsRollup.refundedRollupTitle",defaultMessage:"Refunded payments"},successfulRollupTitle:{id:"bento.modules.paymentsRollup.successfulRollupTitle",defaultMessage:"Successful payments"},uncapturedRollupTitle:{id:"bento.modules.paymentsRollup.uncapturedRollupTitle",defaultMessage:"Uncaptured payments"},viewAll:{id:"bento.modules.paymentsRollup.viewAll",defaultMessage:"View all payments"}}),f=Object(d.a)({successful:{id:"bento.modules.paymentsRollup.successful.tooltip",defaultMessage:"{amount} in successful payments"},uncaptured:{id:"bento.modules.paymentsRollup.uncaptured.tooltip",defaultMessage:"{amount} in uncaptured payments"},refunded:{id:"bento.modules.paymentsRollup.refunded.tooltip",defaultMessage:"{amount} in refunded payments"},failed:{id:"bento.modules.paymentsRollup.failed.tooltip",defaultMessage:"{amount} in failed payments"}})},"1FP8":function(a,b,c){"use strict";c.d(b,"a",function(){return f}),c.d(b,"b",function(){return g});var d=c("O5yN"),e=c("1H2z");Object(d.z)(Object(d.u)(Object(d.c)(a=>{const{data:b,headers:c={}}=a;return{method:"GET",url:"/v1/reporting/report_runs",data:b,headers:c,metricsApiMethod:"financial_reporting_finance_report_run_all"}},"/v1/reporting/report_runs"),["financial_statement_read"]),e.oc);const f=Object(d.A)(Object(d.u)(Object(d.c)(a=>{const{data:b,headers:c={}}=a;return{method:"POST",url:"/v1/reporting/report_runs",data:b,headers:c,metricsApiMethod:"financial_reporting_finance_report_run_create"}},"/v1/reporting/report_runs"),["reporting_read"]),e.oc),g=Object(d.A)(Object(d.u)(Object(d.c)(a=>{const{id:b,data:c,headers:d={}}=a;return{method:"GET",url:`/v1/reporting/report_runs/${encodeURIComponent(b)}`,data:c,headers:d,metricsApiMethod:"financial_reporting_finance_report_run_retrieve"}},"/v1/reporting/report_runs/:report_run"),["reporting_read"]),e.oc)},"1Ln7":function(a,b,c){"use strict";c.d(b,"b",function(){return e}),c.d(b,"a",function(){return f});var d=c("Vavk");const e=Object(d.a)({name:{id:"statement.reportType.dashboard_experience.payments_all.v1.name",defaultMessage:"Payments: All Aggregate"}}),f=Object(d.a)({successful:{id:"statement.reportType.dashboard_experience.payments_all.v1.columns.successful",defaultMessage:"Successful"},refunded:{id:"statement.reportType.dashboard_experience.payments_all.v1.columns.refunded",defaultMessage:"Refunded"},uncaptured:{id:"statement.reportType.dashboard_experience.payments_all.v1.columns.uncaptured",defaultMessage:"Uncaptured"},failed:{id:"statement.reportType.dashboard_experience.payments_all.v1.columns.failed",defaultMessage:"Failed"},currency:{id:"statement.reportType.dashboard_experience.payments_all.v1.columns.currency",defaultMessage:"Currency"}})},"2xfv":function(a,b,c){"use strict";c.d(b,"a",function(){return h}),c.d(b,"d",function(){return getDemoCurrency}),c.d(b,"c",function(){return getDemoCountry}),c.d(b,"b",function(){return getDemoAmount});var d=c("xLaQ"),e=c.n(d);const f="DD MMMM YYYY",g=[["21 May 2024","gbp","gb"],["13 June 2024","eur","fr"],["18 July 2024","jpy","jp"]],h={gbp:.79,eur:.93,jpy:157.5,usd:1};function getDemoCurrencyAndCountry(){var a;const b=e()(),[c]=g[2];if(b.isAfter(e()(c,f)))return{currency:"usd",country:"us"};const[d,h,i]=null!==(a=g.find(a=>{let[c]=a;const d=e()(c,f).add(e.a.duration(1,"week"));return b.isBefore(d)}))&& void 0!==a?a:[b,"usd","us"];return{currency:h,country:i}}function getDemoCurrency(){return getDemoCurrencyAndCountry().currency}function getDemoCountry(){return getDemoCurrencyAndCountry().country}function getDemoAmount(a){const b=h[getDemoCurrency()];return Math.round(a*b)}},"3DMb":function(a,b,c){"use strict";c.d(b,"a",function(){return withDataUnavailable});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("nPYo"),h=c("8Mtm");function withDataUnavailable(a,b){return c=>{const{dataUnavailable:d}=f.useContext(h.a);return d?f.createElement(g.a.div,{"data-testid":"widget-data-unavailable",css:{filter:"blur(7.5px)",opacity:.5,pointerEvents:"none"}},f.createElement(a,e()({},c,b))):f.createElement(a,c)}}},"4IGf":function(a,b,c){"use strict";c.d(b,"a",function(){return d}),c.d(b,"c",function(){return e}),c.d(b,"b",function(){return f}),c.d(b,"d",function(){return g}),c.d(b,"e",function(){return h});const d=400,e=`flex-basis ${d}ms ease-in-out, background-color ${d}ms ease-in-out`,f=["#9966FF","#0055BC","#00A1C2","#ED6804","#B3063D"],g="4px",h="2px"},"4fPl":function(a,b,c){"use strict";var d=c("QbI9");c("0qsp"),c("QKYV"),c("yZLf")},"4gFf":function(a,b,c){"use strict";var d=c("9u8d"),e=c.n(d),f=c("0qsp"),g=c("bbq+"),h=c("nPYo"),i=c("xwqY"),j=c("uwPW"),k=c("xzky"),l=c("WrLT"),m=c("36dm"),n=c("KPK9");const o=["error"],p=Object(g.createView)(a=>{let{error:b}=a,c=e()(a,o);const d=Object(l.a)(),g=Object(k.c)(b),p=Object(m.a)().id,q=Object(j.a)(p),r=null==q?void 0:q.module_id,s=Object(i.a)();return f.useEffect(()=>{!Object(k.a)(b)&&s("bento_module_query_error")},[g,b,r,s,d]),f.createElement(h.a.div,c,f.createElement(n.a,{error:b}))},{css:{stack:"y",alignY:"center",height:"294px",paddingX:"10%",borderRadius:"medium",border:"1px solid",borderColor:"border"}});b.a=p},"5hds":function(a,b,c){"use strict";c.d(b,"a",function(){return PerformanceTileChartChrome});var d=c("0qsp"),e=c("nPYo"),f=c("lbsd"),g=c("HOsA"),h=c("wi2u"),i=c("RVZe"),j=c("wrro"),k=c("sjUG");const{useContext:l}=d,PerformanceTileChartChrome=a=>{let{children:b,title:c,summary:m,summaryExtra:n,percentChange:o,tooltip:p}=a;const{setExpanded:q}=l(j.a);return d.createElement(e.a.div,{css:{paddingTop:"space.150",paddingX:"medium",paddingBottom:"space.75",width:`max(360px, var(${k.a}, 0px))`},className:"performance-tile-chart-chrome"},d.createElement(e.a.div,{css:{stack:"y",gap:"small",marginBottom:"space.225"}},d.createElement(e.a.div,{css:{stack:"x",distribute:"space-between"}},d.createElement(e.a.div,{css:{font:"heading.small"}},c),d.createElement(e.a.div,{css:{stack:"x",gap:"medium",alignY:"center"}},p,d.createElement(f.a,{css:{padding:"space.75",bleedY:"space.75",bleedLeft:"space.75",lineHeight:0,borderRadius:"xsmall",":hover":{backgroundColor:"offset"},":active":{backgroundColor:"offset"}},"data-testid":"performance-tile-chart-chrome-x",onPress:()=>q(!1)},d.createElement(g.c,{size:"xsmall",icon:i.a})))),d.createElement(h.a,null),d.createElement(e.a.div,null,d.createElement(e.a.div,{css:{stack:"x",gap:"small"}},m,o),n&&d.createElement(e.a.div,{css:{marginTop:"xsmall"}},n))),d.createElement(e.a.div,null,b))}},"7FDu":function(a,b,c){"use strict";var d=c("0qsp"),e=c("d3O4"),f=c("t6oC"),g=c("nPYo"),h=c("dJ5Y"),i=c("n2FO"),j=c("HOsA"),k=c("lXNq"),l=c("4IGf"),m=c("XQlj");const n=400,o=`background-color ${n}ms ease-in-out`,RollupLegend=a=>{let{categories:b,dataUnavailable:c,spotlightCategoryId:n,subviews:p}=a;const{items:q}=Object(m.a)(b);return d.createElement(g.a.div,{css:{marginBottom:"xsmall"},"data-bento-action-target":"listItem",inherits:null==p?void 0:p.legend},d.createElement(k.a,null,null==q?void 0:q.map((a,b)=>{let{id:m,listLabel:q,listLabelAdornment:r,listValue:s,listTooltip:t,color:u,route:v}=a;const w=!!n&&m!==n;return d.createElement(k.c,{href:v,key:m,id:m,icon:d.createElement(g.a.div,{css:{height:"space.150",width:"space.150",borderRadius:"xsmall",transition:o,backgroundColor:c||w?h.a.color.hue.gray[100]:u||l.b[b],".performance-tile-chart-chrome &":{borderRadius:"xxsmall"}}}),title:d.createElement(d.Fragment,null,d.createElement(g.a.span,{title:q,css:{overflow:"hidden",textOverflow:"ellipsis"},"data-testid":"rollup-content-title",inherits:null==p?void 0:p.legendLabel},q),r&&d.createElement(g.a.div,{css:{display:"inline",marginLeft:"small"}},r),t&&d.createElement(i.a,{trigger:d.createElement(j.c,{icon:f.a,size:"xsmall",css:{marginLeft:"small"}})},t)),trailingContent:d.createElement(g.a.span,{css:{fontWeight:"semibold"},"data-testid":"rollup-content-value"},s),subviews:{icon:{css:{height:"fill",stack:"x",alignY:"center"}},title:{css:{paddingY:"xxsmall"}},action:{uses:[Object(e.a)({"data-testid":"rollup-content-action"})]},trailingContent:{css:{color:"text"}}}})})))};b.a=RollupLegend},"8Mtm":function(a,b,c){"use strict";c.d(b,"a",function(){return D});var d=c("QbI9"),e=c.n(d),f=c("8OBj"),g=c.n(f),h=c("9u8d"),i=c.n(h),j=c("0qsp"),k=c("nPYo"),l=c("Olvt"),m=c("aFQF"),n=c("xGRT"),o=c("4gFf"),p=c("Bbcg"),q=c("kuA+"),r=c("+kKi"),s=c("zEM6"),t=c("5hds"),u=c("xzky"),v=c("T1pM"),w=c("09jD"),x=c("pJt8"),y=c("Aytv");const z=["children","infoTooltip","percentChangeBadge","error","emptyMessage","title","owner","isLiveModeOnly","tileSummary","tilePercentChange","comparisonSummary","moduleId","skippedReason","subtitle"],{useCallback:A,useContext:B,useMemo:C}=j,D=j.createContext({dataUnavailable:!1}),useDataUnavailable=a=>{let{isLiveModeOnly:b,error:c}=a;const d=Object(w.t)();return!!b&&!d|| !!c&&"testModeError"===Object(u.c)(c)};function HomeWidgetModule(a){let{children:b,infoTooltip:c,percentChangeBadge:d,error:f,emptyMessage:h,title:u,owner:w,isLiveModeOnly:E,tileSummary:F,tilePercentChange:G,comparisonSummary:H,moduleId:I,skippedReason:J,subtitle:K}=a,L=i()(a,z);const M=useDataUnavailable({isLiveModeOnly:E,error:f}),{renderTile:N}=B(r.a),O=useOnExpandedChange(I),P=Object(y.b)(),{formatMessage:Q}=Object(n.a)(),R="permission_error"===J?Q(q.a.permissionsError):void 0,S=A(()=>{x.b.increment("manage.dashboard.dashprod.widget_fatal_error",1,{dashprod_error_component:"home_widget_module"}),P("chart")},[P]),T=C(()=>g()(g()({},L),!f&&{subtitle:K}),[L,f,K]);return j.createElement(p.a,{owner:w||"dashboard_discovery",sectionName:u,onError:S,errorView(a){let{error:b}=a;return j.createElement(o.a,{error:b})},generatedCallsiteIdentifier:"HomeWidgetModule#0",generatedBoundaryId:"355253534"},j.createElement(D.Provider,{value:{dataUnavailable:M}},N?j.createElement(s.a,{title:u,pending:!!L.pending,summary:F,percentChange:G,expandedView:j.createElement(t.a,{title:u,summary:F,summaryExtra:H,percentChange:G,tooltip:M?j.createElement(v.a,null):j.createElement(j.Fragment,null,c)},b),onExpandedChange:O}):j.createElement(m.a,e()({title:u||""},T,{hideHeaderDivider:!0,error:!M&&(f||R),empty:!L.pending&&!M&&h,subviews:{stateContainer:{css:{height:"228px",stack:"y",alignY:"center"}}},titleAddon:M?j.createElement(v.a,null):j.createElement(j.Fragment,null,!!c&&j.createElement(k.a.span,{css:{marginRight:"5px",transform:"translateY(1px)"},uses:[Object(l.b)({display:"inline-block"})]},c),d&&j.createElement(k.a.span,{css:{transform:"translateY(-1px)"},uses:[Object(l.b)({display:"inline-block"})]},d))}),j.createElement(k.a.div,{css:{".disable-widget-interactions &":{pointerEvents:"none"}}},b))))}function useOnExpandedChange(a){const b=Object(w.a)();return j.useCallback(c=>{c&&a&&b.action("dashboard_performance_tile_expanded",{module_id:a})},[a,b])}b.b=HomeWidgetModule},"8VhR":function(a,b,c){var d=c("Dxyn"),e=c("0svD");function _classPrivateFieldSet(a,b,c){var f=e(a,b,"set");return d(a,f,c),c}a.exports=_classPrivateFieldSet,a.exports.__esModule=!0,a.exports.default=a.exports},"9fr4":function(a,b,c){"use strict";c.d(b,"a",function(){return DataUnavailableTooltip});var d=c("0qsp"),e=c("Vavk"),f=c("xGRT"),g=c("lY+0"),h=c("n2FO"),i=c("lbsd"),j=c("HOsA");const k=Object(e.a)({dataUnavailableTooltipTrigger:{id:"bento.components.dataUnavailableTooltipTrigger",defaultMessage:"Hidden"},dataUnavailableTooltipMessage:{id:"bento.components.dataUnavailableTooltipMessage",defaultMessage:"This data isn’t available in test mode."}}),DataUnavailableTooltip=()=>{const{formatMessage:a}=Object(f.a)();return d.createElement(h.a,{type:"description",delay:0,placement:"bottom",trigger:d.createElement(i.a,{"data-testid":"widget-data-unavailable-tooltip",css:{".performance-tile-chart-chrome &":{padding:"space.75",bleed:"space.75",lineHeight:0,borderRadius:"xsmall"},".performance-tile-chart-chrome :hover":{backgroundColor:"offset"},".performance-tile-chart-chrome :active":{backgroundColor:"offset"}}},d.createElement(j.c,{size:"xsmall",css:{fill:"subdued",".performance-tile-chart-chrome &":{fill:"icon"}},icon:g.a,"aria-hidden":!1,"aria-label":a(k.dataUnavailableTooltipTrigger)}))},a(k.dataUnavailableTooltipMessage))}},AZC8:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("Vavk");const e=Object(d.a)({failed:{id:"bento.common.payments.status.failed",defaultMessage:"Failed"},refunded:{id:"bento.common.payments.status.refunded",defaultMessage:"Refunded"},successful:{id:"bento.common.payments.status.successful",defaultMessage:"Succeeded"},uncaptured:{id:"bento.common.payments.status.uncaptured",defaultMessage:"Uncaptured"}})},Bfx2:function(a,b,c){"use strict";var d=c("0qsp"),e=c("nPYo"),f=c("xT0C"),g=c("Olvt"),h=c("dJ5Y");const RollupLoader=()=>d.createElement(e.a.div,{css:{stack:"y",gap:"large",bleedTop:"small"}},d.createElement(e.a.div,{css:{height:"medium"}},d.createElement(f.a,{css:{height:"medium",width:"fill"}})),d.createElement(e.a.div,{"data-testid":"rollup-loader",css:{marginBottom:"xsmall"}},[...Array(5)].map((a,b)=>d.createElement(e.a.div,{key:b,uses:[Object(g.b)({display:"flex",alignItems:"center"})],css:{distribute:"space-between",height:"41px",borderBottom:"1px solid",borderBottomColor:h.a.color.neutral[50],paddingY:"space.175"}},d.createElement(e.a.div,{uses:[Object(g.b)({display:"flex",flexGrow:1,alignItems:"center"})],css:{gap:"small"}},d.createElement(f.a,{css:{height:"space.150",width:"space.150"}}),d.createElement(f.a,{css:{height:"space.150",width:"2/5"}})),d.createElement(f.a,{css:{height:"space.150",width:"space.1000"}})))));b.a=RollupLoader},DQ8M:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("+ET8");const e={global:Object(d.a)({"*":a=>`${a}`}).global}},Dxyn:function(a,b){function _classApplyDescriptorSet(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}a.exports=_classApplyDescriptorSet,a.exports.__esModule=!0,a.exports.default=a.exports},E2YX:function(a,b,c){"use strict";var d=c("8Mtm");b.a=d.b},EAE9:function(a,b,c){"use strict";c.d(b,"a",function(){return d}),c.d(b,"b",function(){return e});const d="dashboard_experience.payments_all.v1",e="dashboard_discovery"},FzcV:function(a,b,c){"use strict";c.d(b,"b",function(){return useRollupEmptyMessage});var d=c("h2W4");const useRollupEmptyMessage=(a,b)=>{let{emptyMessage:c,dataUnavailableMessage:e=d.a.dataNotAvailable,formatMessage:f,primaryStart:g,dataAvailableEnd:h}=b;return a?f(g&&h&&g>h?e:c):null};b.a=useRollupEmptyMessage},GHBa:function(a,b,c){"use strict";c.d(b,"a",function(){return getIntervalEnd}),c.d(b,"b",function(){return getIntervalStart});var d=c("xLaQ"),e=c.n(d);const getIntervalEnd=a=>b=>"number"==typeof b?b:e.a.tz(b,"YYYY-MM-DD",null!=a?a:"Etc/GMT").add(1,"day").startOf("day").unix(),getIntervalStart=a=>b=>"number"==typeof b?b:e.a.tz(b,"YYYY-MM-DD",null!=a?a:"Etc/GMT").unix()},Gdlr:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("nPYo"),h=c("xLaQ"),i=c.n(h),j=c("zUmL"),k=c("09jD"),l=c("qz1g"),m=c("h2W4"),n=c("T1pM"),o=c("N9xn"),p=c("AZC8"),q=c("xGRT"),r=c("K+RN"),s=c("oLwL"),t=c("11rC"),u=c("LRX1"),v=c("z4hN"),w=c("z9t4"),x=c("Jsux"),y=c("tCgg"),z=c("FzcV"),A=c("cbbi"),B=c("csOU"),C=c("E2YX"),D=c("9dsD"),E=c("8pk8"),F=c("2xfv");const G=["successful","uncaptured","refunded","failed"],PaymentsRollupModule=()=>{var a;const b=i()().startOf("day").subtract(1,"year").unix(),{primaryLabel:c,primaryStart:d,primaryEnd:h,partialMessage:H}=Object(s.a)({minStart:b}),I=Object(B.a)(),J=Object(y.a)(),K=Object(A.c)(),L=Object(E.a)("dashboard_orgs_home_sessions_2024"),M=Object(D.a)(),N={startDate:d,endDate:h},O=f.useMemo(()=>{if(H&&!J&&!K)return f.createElement(x.a,{triggerText:c,tooltipText:H})},[H,J,K,c]),P=f.useMemo(()=>({gte:`${d}`,lte:`${h}`}),[d,h]),{formatMessage:Q}=Object(q.a)(),{default_currency:R,timezone:S}=Object(k.x)(),{loading:T,result:U,apolloError:V}=Object(u.b)(N,{fetchPolicy:"cache-and-network"});Object(v.a)(V,N);const{loading:W,result:X}=Object(w.a)([u.a.id],{fetchPolicy:"cache-and-network"}),Y=null==X?void 0:null===(a=X.dataAvailableEnd)|| void 0===a?void 0:a.unix(),Z=f.useMemo(()=>{if(T&&!U)return[];const a=L&&!T?{successful:Object(F.b)(6212498430),refunded:Object(F.b)(238810025),uncaptured:Object(F.b)(1210289),failed:Object(F.b)(15012356),currency:Object(F.d)()}:null==U?void 0:U[0],b=a?a.currency:R;return G.map(c=>{const d=(null==a?void 0:a[c])||0,h=Q(p.a[c]),i=Object(l.c)(d,b),j=I({name:"PAYMENTS",search:{status:[c],created:P}});return{id:c,listLabel:h,listValue:i,barTooltip:f.createElement(g.a.div,{css:{textAlign:"center"}},f.createElement(r.a,e()({},t.b[c],{values:{amount:f.createElement("strong",null,i)}}))),barAmount:d,route:j}})},[T,U,L,R,Q,I,P]),$=Y?Object(j.e)(Y,S,Q):null,_=Object(z.b)(!L&&!(null!=U&&U.length),{emptyMessage:M?m.b.noPaymentsBlankSlate:m.b.noPayments,formatMessage:Q,primaryStart:d,dataAvailableEnd:Y});return f.createElement(C.a,{title:Q(t.a.title),infoTooltip:f.createElement(n.c,null,Q(t.a.infoTooltip)),supportingTitle:O,pending:T||W,error:V,emptyMessage:_,owner:"payins_dashboard"},f.createElement(o.a,{categories:Z,footerLink:{label:Q(m.a.viewMore),route:I({name:"PAYMENTS",search:{created:P}})},updatedAt:$}))};b.a=PaymentsRollupModule},ITTl:function(a,b){function _classApplyDescriptorGet(a,b){return b.get?b.get.call(a):b.value}a.exports=_classApplyDescriptorGet,a.exports.__esModule=!0,a.exports.default=a.exports},IUZ9:function(a,b,c){"use strict";var d=c("0qsp"),e=c("BuEG"),f=c.n(e),g=c("KLRP"),h=c.n(g),i=c("DQ8M"),j=c("n2FO"),k=c("lbsd"),l=c("Olvt"),m=c("dJ5Y"),n=c("nPYo"),o=c("4IGf");const getBorderRadiuses=(a,b)=>{const barIsVisible=a=>{let{barAmount:b}=a;return!!b},c=f()(a,barIsVisible),d=h()(a,barIsVisible);return a.map((a,e)=>e===c&&e===d?b:e===c?`${b} 0 0 ${b}`:e===d?`0 ${b} ${b} 0`:void 0)},RollupBar=a=>{let{categories:b,dataUnavailable:c,spotlightCategoryId:e,pending:f,emptyTooltip:g,subviews:h}=a;const[p,q]=d.useState(!1);d.useEffect(()=>{if(q(!0),f)return;const a=setTimeout(()=>q(!1),o.a);return()=>clearTimeout(a)},[f]);const r=d.useMemo(()=>{if(!b)return null;const a=getBorderRadiuses(b,o.d),f=getBorderRadiuses(b,o.e),g=b.reduce((a,b)=>{let{barAmount:c}=b;return a+Math.abs(c)},0);return b.map((b,h)=>{let{id:i,barAmount:n,barTooltip:p,route:q,color:r,onAction:s}=b;const t=!!e&&i!==e;return d.createElement(j.a,{key:i,delay:{show:0,hide:0},placement:"bottom",type:"label",css:{maxWidth:"none"},trigger:d.createElement(k.a,{"data-testid":"rollup-bar-action",href:q,disabled:!q,uses:[Object(l.b)({flex:"1 1 auto",flexBasis:`${Math.abs(100*n)/g}%`})],css:{borderRadius:a[h],marginLeft:h>0&&0!==n?"space.1":0,display:"block",height:"fill",minWidth:0===n?"space.0":"4px",transition:o.c,backgroundColor:c||t?m.a.color.hue.gray[100]:r||o.b[h],cursor:q?"pointer":"default",".performance-tile-chart-chrome &":{borderRadius:f[h]}},onPress:()=>null==s?void 0:s()})},p)})},[b,e,c]),s=null==b?void 0:b.some(a=>{let{barAmount:b}=a;return b});return d.createElement(n.a.div,{className:`rollup_bar--${s?"has-data":"no-data"}`,css:{height:"medium",width:"fill",stack:"x",alignY:"stretch",".performance-tile-chart-chrome &":{marginBottom:"small"}},uses:[i.a.global({".rollup_bar--has-data :hover, .rollup_bar--has-data :focus":{opacity:"0.8"}}),p?Object(l.b)({pointerEvents:"none"}):null],"data-bento-action-target":"rollupBar",inherits:null==h?void 0:h.bar},s?r:d.createElement(j.a,{key:"empty",delay:{show:0,hide:0},placement:"bottom",trigger:d.createElement(n.a.div,{css:{borderRadius:o.d,backgroundColor:m.a.color.hue.gray[100]}})},g))};b.a=RollupBar},IcXa:function(a,b,c){"use strict";c.d(b,"a",function(){return useExecuteMultiEntityDataStoryQuery});var d=c("qCo4"),e=c("bPOr"),f=c("IZQH");const g=e.a`
            query ExecuteMultiEntityDataStoryQuery($reportType:String!$parameters:OpenapiGetV1ReportingExecuteMultiEntityReportInputParameters$rootCompartmentId:String!$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"6b2281d335"){v1ReportingExecuteMultiEntityReport(input:{report_type:$reportType parameters:$parameters root_compartment_id:$rootCompartmentId}v1Context:$v1Context)@params(expand:[]includeOnly:["id" "columns" "rows" "query_id"]fragments:[]nodeLookupMap:[{nodes:["id" "columns" "rows" "query_id"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiDataStoryExecuteMultiEntityReport" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/reporting/execute_multi_entity_report" queryName:"v1ReportingExecuteMultiEntityReport"){id columns rows query_id}}
          `,h=g,i={expectedErrors:["unexpected_api_error","preprod_not_supported","report_type_connected_account_data_required","report_type_automatic_payout_plan_required","report_type_icplus_pricing_required","report_type_statement_access_required","report_type_permission_required","report_run_time_interval_too_old","report_run_time_interval_too_new","report_type_livemode_required","report_run_columns_contains_invalid_value"]};function useExecuteMultiEntityDataStoryQuery(a){const b=Object(f.a)();return Object(d.a)(h,Object.assign({},i,a,{variables:Object.assign({},a.variables,{v1Context:{compartmentId:b}})}))}const j={};g.permissions=j},Jsux:function(a,b,c){"use strict";var d=c("0qsp"),e=c.n(d),f=c("n2FO"),g=c("FfI9"),h=c("dJ5Y");const PartialTimeRangeTooltip=a=>{let{triggerText:b,tooltipText:c}=a;return e.a.createElement(f.a,{type:"description",delay:0,trigger:e.a.createElement(g.a,{type:"secondary",css:{textColor:"subdued",fontWeight:"normal",":hover":{textDecorationColor:h.a.color.neutral[300]}}},b)},c)};b.a=PartialTimeRangeTooltip},LRX1:function(a,b,c){"use strict";c.d(b,"b",function(){return useDataStory});var d=c("8OBj"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("Uhbu"),i=c("LZTu"),j=c("zmTR"),k=(c("RVeU"),c("WvwB")),l=c("EAE9"),m=c("eakR");c.d(b,"a",function(){return m.a});const n=["disabled"],useDataStory=(a,b)=>{const c=Object(j.a)(l.a,l.b,h.b,i.a,a,b),{disabled:d}=c,f=g()(c,n),m=Object(k.a)(l.a,l.b,h.a,i.a,a,e()(e()({},b),{},{skip:(null==b?void 0:b.skip)||!d}));return d?m:f}},LZTu:function(a,b,c){"use strict";c.d(b,"a",function(){return buildParams});var d=c("szBP"),e=c("GHBa");function _define_property(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _object_spread(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_define_property(a,b,c[b])})}return a}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _object_spread_props(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}const buildParams=(a,b,c)=>{const{startDate:f,endDate:g,columns:h,timezone:i}=a,j=_object_spread_props(_object_spread({},b&&{expand:b}),{notify_when_ready:c});if("string"==typeof f||"number"==typeof f)return _object_spread({report_type:"dashboard_experience.payments_all.v1",project:"dashboard_discovery",parameters:{interval_start:Object(e.b)(i)(f),interval_end:null==g?null:Object(e.a)(i)(g),columns:h}},j);const k="Received invalid input params while building params for dashboard_experience.payments_all.v1.";throw Object(d.t)(k,"financial_reporting",{extra:a}),new Error(k)}},Lga9:function(a,b,c){"use strict";c.d(b,"a",function(){return useV1ReportingReportRunsReportRunLazyQuery});var d=c("81gb"),e=c("bPOr");const f=e.a`
            query V1ReportingReportRunsReportRunQuery($reportRun:String!$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"d6cf84ee98"){v1ReportingReportRunsReportRun(input:{report_run:$reportRun}v1Context:$v1Context)@params(expand:[]includeOnly:["id" "object" "created" "error" "livemode" "report_type" "result.id" "result.created" "succeeded_at" "status" "reporting_query.completed" "reporting_query.description" "reporting_query.object" "reporting_query.user" "reporting_query.id" "reporting_query.created" "reporting_query.status" "parameters.columns" "parameters.connected_account" "parameters.currency" "parameters.customer" "parameters.interval_start" "parameters.interval_end" "parameters.payout" "parameters.reporting_category" "parameters.timezone"]fragments:[]nodeLookupMap:[{nodes:["id" "object" "created" "error" "livemode" "report_type" "succeeded_at" "status"]parentPath:"ROOT"}{nodes:["id" "created"]parentPath:"result"}{nodes:["completed" "description" "object" "user" "id" "created" "status"]parentPath:"reporting_query"}{nodes:["columns" "connected_account" "currency" "customer" "interval_start" "interval_end" "payout" "reporting_category" "timezone"]parentPath:"parameters"}]predicates:{})@rest(type:"OpenapiReportingReportRun" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/reporting/report_runs/:report_run" queryName:"v1ReportingReportRunsReportRun"){id object created error livemode report_type result@type(name:"OpenapiFile"){id created}succeeded_at status reporting_query@type(name:"OpenapiReportingReportingQuery"){completed description object user id created status}parameters@type(name:"OpenapiFinancialReportingFinanceReportRunRunParameters"){columns connected_account currency customer interval_start interval_end payout reporting_category timezone}}}
          `,g=f,h={};function useV1ReportingReportRunsReportRunLazyQuery(a){return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},"M/3M":function(a,b,c){"use strict";c.d(b,"a",function(){return usePollSigmaPaginatedV2Query});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query PollSigmaPaginatedV2Query($id:String!$limit:Int$offset:Int$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"cb3524020c"){v1SigmaQueriesReportingQueryResults(input:{reporting_query:$id limit:$limit offset:$offset}v1Context:$v1Context)@params(expand:[]includeOnly:["created" "id" "data" "columns" "total"]fragments:[]nodeLookupMap:[{nodes:["created" "id" "data" "columns" "total"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiManageMethodSigmaListReportingQuery" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/sigma/queries/:reporting_query/results" queryName:"v1SigmaQueriesReportingQueryResults"){created id data columns total}}
          `,g=f,h={};function usePollSigmaPaginatedV2Query(a){return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},N9xn:function(a,b,c){"use strict";var d=c("0qsp"),e=c("xGRT"),f=c("szBP"),g=c("nPYo"),h=c("W4Kc"),i=c("zUmL"),j=c("3DMb"),k=c("rYKD"),l=c("YXjT"),m=c("09jD");const RollupWidget=a=>{let{categories:b,spotlightCategoryId:c,footerLink:j,updatedAt:l,hideFooter:n=!1}=a;const o=((null==b?void 0:b.length)||0)>i.a,p=`RollupWidget can only display up to ${i.a} categories`;o&&Object(f.T)(p,"dashboard_discovery");const{formatMessage:q}=Object(e.a)(),{timezone:r}=Object(m.x)();return d.createElement(g.a.div,null,d.createElement(k.a,{categories:null==b?void 0:b.slice(0,i.a),spotlightCategoryId:c}),!n&&d.createElement(h.a,{footerLink:j,updatedAt:null===l?null:l||Object(i.e)(Date.now()/1e3,r,q)}))};b.a=Object(j.a)(RollupWidget,l)},NJ4p:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Zwet"),h=c("n2FO"),i=c("HOsA"),j=c("K+RN");const BillingOverviewStreamingDataLatencyTooltip=a=>{let{message:b,values:c={}}=a;return f.createElement(h.a,{type:"description",trigger:f.createElement(i.c,{icon:g.a,size:"xsmall",css:{":focus:not(:focus-visible)":{focusRing:"none"},":focus-visible":{focusRing:"focus"}}})},f.createElement("p",null,f.createElement(j.a,e()({},b,{values:c}))))};b.a=BillingOverviewStreamingDataLatencyTooltip},NPHr:function(a,b,c){var d=c("3714"),e=c("c1py"),f=c("scCu");function max(a){return a&&a.length?d(a,f,e):void 0}a.exports=max},P4Mt:function(a,b,c){"use strict";c.d(b,"a",function(){return useCreateFinanceReportRunWrapperV2Mutation});var d=c("GhF0"),e=c("bPOr");const f=e.a`
            mutation CreateFinanceReportRunWrapperV2Mutation($reportType:String!$parameters:OpenapiPostV1ReportingReportRunsInputParameters$notifyWhenReady:Boolean$columnRenderingMode:OpenapiPostV1ReportingReportRunsInputColumnRenderingModeEnum$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"2a60536028"){createReportRun:v1ReportingReportRuns(input:{report_type:$reportType parameters:$parameters notify_when_ready:$notifyWhenReady column_rendering_mode:$columnRenderingMode}v1Context:$v1Context)@params(expand:[]includeOnly:["id" "object" "created" "error" "livemode" "parameters.columns" "parameters.connected_account" "parameters.currency" "parameters.customer" "parameters.interval_start" "parameters.interval_end" "parameters.payout" "parameters.reporting_category" "parameters.timezone" "status" "result.id" "result.created" "report_type" "reporting_query.completed" "reporting_query.description" "reporting_query.object" "reporting_query.user" "reporting_query.id" "reporting_query.created" "reporting_query.status" "succeeded_at"]fragments:[]nodeLookupMap:[{nodes:["id" "object" "created" "error" "livemode" "status" "report_type" "succeeded_at"]parentPath:"ROOT"}{nodes:["columns" "connected_account" "currency" "customer" "interval_start" "interval_end" "payout" "reporting_category" "timezone"]parentPath:"parameters"}{nodes:["id" "created"]parentPath:"result"}{nodes:["completed" "description" "object" "user" "id" "created" "status"]parentPath:"reporting_query"}]predicates:{})@rest(type:"OpenapiReportingReportRun" method:"POST" pathBuilder:$pathBuilder runtimePath:"/v1/reporting/report_runs" queryName:"createReportRun" bodyBuilder:$bodyBuilder){id object created error livemode parameters@type(name:"OpenapiFinancialReportingFinanceReportRunRunParameters"){columns connected_account currency customer interval_start interval_end payout reporting_category timezone}status result@type(name:"OpenapiFile"){id created}report_type reporting_query@type(name:"OpenapiReportingReportingQuery"){completed description object user id created status}succeeded_at}}
          `,g=f,h={expectedErrors:["report_type_connected_account_data_required","report_type_automatic_payout_plan_required","report_type_icplus_pricing_required","report_type_statement_access_required","report_type_permission_required","report_run_time_interval_too_old","report_run_time_interval_too_new","report_type_livemode_required","report_run_columns_contains_invalid_value","report_run_time_interval_is_invalid","resource_missing","livemode_mismatch"],onError(a){throw a}};function useCreateFinanceReportRunWrapperV2Mutation(){let a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},Qkca:function(a,b,c){"use strict";c.d(b,"b",function(){return completedState}),c.d(b,"c",function(){return createOverrideObject}),c.d(b,"a",function(){return H}),c.d(b,"e",function(){return sigmaQueryRunner});var d=c("8OBj"),e=c.n(d),f=c("TfDI"),g=c.n(f),h=c("QbI9"),i=c.n(h),j=c("TgZK"),k=c.n(j),l=c("oxK4"),m=c.n(l),n=c("uLR0"),o=c.n(n),p=c("/Jz0"),q=c.n(p),r=c("rcdF"),s=c.n(r),t=c("0qsp"),u=c("fDig"),v=c("1EgK"),w=c("SMA2"),x=c("pJt8"),y=c("1FP8"),z=c("+epa"),A=c("zo17"),B=c("P4Mt"),C=c("Lga9"),D=c("mtBX");const E={mapValues:q.a,assign:o.a,omitBy:m.a,isNil:k.a};function initialState(a){return{status:"initial",action:a}}function canceledState(a,b){return{status:"canceled",action:a,params:b}}function loadingState(a,b,c,d){return{status:"loading",cancel:b,cancelAndRerun:c,startTime:a,params:d}}function erroredState(a,b,c){return{status:"errored",error:a,action:b,params:c}}function completedState(a,b,c,d){return{status:"completed",value:b,action:c,endTime:a,params:d}}const createOverrideObject=a=>{if(a)return{v1Context:{accountId:a}}},F=500,G=15e3,H="sigma/accounting_queries",I=1e4,faucetFor=a=>a,pollerFor=a=>`${a}Poller`,resultsFor=a=>`${a}Results`,injectDeclarativeHooks=a=>b=>{const[c]=Object(B.a)({fetchPolicy:"no-cache"}),[d]=Object(C.a)({fetchPolicy:"no-cache"}),[e]=Object(D.a)({fetchPolicy:"network-only"});return t.createElement(a,i()({},b,{createFinanceReportMutation:c,pollFinanceReportQuery:d,pollSigmaPaginatedQuery:e}))},sigmaQueryRunner=a=>b=>{class _DataStoryRunner extends t.Component{constructor(b){var c;super(b),c=this,g()(this,"pollCount",void 0),g()(this,"createReportRun",a=>function(b){let d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{skipPagination:!1};const e={key:a,params:b,skipPagination:d.skipPagination,stripeAccountHeaderOverride:d.stripeAccountHeaderOverride},f=c.cleanOptionalParameters(b);return c.setStateToRunning(a,b),c.createReportRunNetworkCall(a,{data:f},e.stripeAccountHeaderOverride).then(d=>{if(d.isErrored)return c.returnErroredState(a,d.error,b);if(d.isCompleted){const{id:f,reporting_query:g,error:h}=d.value;if(!g)return c.returnErroredState(a,null,b);const i=g.status;return Object(A.l)(i)?c.pollReportRun(e,++c.pollCount[a],f,0):"failed"===g.status?c.returnErroredState(a,h,b):c.getQueryResults(e,g,!0,[],0)}},d=>c.returnErroredState(a,d,b))}),g()(this,"pollReportRun",(a,b,c,d)=>{const{key:e,params:f}=a;return this.pollCount[e]!==b?this.returnCanceledState(e,f):this.pollReportRunNetworkCall(e,c,a.stripeAccountHeaderOverride).then(g=>{if(g.isErrored)return this.returnErroredState(e,g.error,f);if(g.isCompleted){const{reporting_query:h,error:i}=g.value;if(this.pollCount[e]!==b)return this.returnCanceledState(e,f);if(h&&this.shouldStopPolling(h))return"failed"===h.status?this.returnErroredState(e,i,f):this.getQueryResults(a,h,!1,[],0);const j=Math.min(F*1.5**d,G);return s.a.delay(j).then(()=>this.pollReportRun(a,b,c,d+1))}},a=>this.returnErroredState(e,a,f))}),g()(this,"getQueryResults",(a,b,c,d,f)=>{const{key:g,params:h,skipPagination:i,stripeAccountHeaderOverride:j}=a;return i?(this.reportQueryCompletion(g,h,c,b.id),this.returnCompletedState(g,b,h)):this.getResultsNetworkCall(g,{id:b.id,data:{limit:I,offset:f}},j).then(i=>{if(i.isErrored)return this.returnErroredState(g,i.error,h);if(i.isCompleted){const{data:j,has_more:k,columns:l}=i.value;if(null==j)return this.returnErroredState(g,i.error,h);const m=d.concat(j);if(k)return this.getQueryResults(a,b,c,m,f+I);{const n=e()(e()({},b),{},{result:{columns:l,rows:m}});return this.reportQueryCompletion(g,h,c,b.id),this.returnCompletedState(g,n,h)}}},a=>this.returnErroredState(g,a,h))}),g()(this,"graphQLToFaucetResponse",(a,b)=>{const c={isInitial:!1,isLoading:!1,isErrored:!1,isCompleted:!1};return b?(c.isErrored=!0,c.error={graphQLErrors:b}):(c.isCompleted=!0,c.value=a),c}),g()(this,"createReportRunNetworkCall",(a,b,c)=>{const d=Object.fromEntries(Object.entries(b.data.parameters).filter(a=>{let[b,c]=a;return null!=c&&!Number.isNaN(c)})),f={reportType:b.data.report_type,parameters:d,notifyWhenReady:b.data.notify_when_ready,columnRenderingMode:b.data.column_rendering_mode},g=createOverrideObject(c);return this.props.createFinanceReportMutation({variables:e()(e()({},f),g)}).then(a=>{if(a.errors)return this.graphQLToFaucetResponse(null,a.errors);const b=a.data.createReportRun;return this.graphQLToFaucetResponse(b,null)})}),g()(this,"pollReportRunNetworkCall",(a,b,c)=>{const d=createOverrideObject(c);return this.props.pollFinanceReportQuery({variables:e()({reportRun:b},d)}).then(a=>{if(a.errors)return this.graphQLToFaucetResponse(null,a.errors);const b=a.data.v1ReportingReportRunsReportRun;return this.graphQLToFaucetResponse(b,null)})}),g()(this,"getResultsNetworkCall",(a,b,c)=>{const d={id:b.id,limit:b.data.limit,offset:b.data.offset},f=createOverrideObject(c);return this.props.pollSigmaPaginatedQuery({variables:e()(e()({},d),f)}).then(a=>{if(a.errors)return this.graphQLToFaucetResponse(null,a.errors);const{data:c,columns:d}=a.data.v1SigmaQueriesReportingQueryResults,e={data:c.map(a=>a.row),columns:d,has_more:c.length===b.data.limit};return this.graphQLToFaucetResponse(e,null)})}),g()(this,"returnCompletedState",(a,b,c)=>{const d=completedState(Date.now(),b,this.createReportRun(a),c),e=s.a.defer();return this.setState({[a]:d},()=>{e.resolve(d)}),e.promise}),g()(this,"returnErroredState",(a,b,c)=>{const d=erroredState(b||{},this.createReportRun(a),c),e=s.a.defer();return this.setState({[a]:d},()=>{e.resolve(d)}),e.promise}),g()(this,"returnCanceledState",(a,b)=>{const c=canceledState(this.createReportRun(a),b),d=s.a.defer();return this.setState({[a]:c},()=>{d.reject(c)}),d.promise}),g()(this,"cancelPolling",a=>()=>{this.pollCount[a]++,this.setState({[a]:initialState(this.createReportRun(a))})}),this.state=E.mapValues(a,(a,b)=>initialState(this.createReportRun(b))),this.pollCount=E.mapValues(a,a=>0)}reportQueryCompletion(a,b,c,d){const e=this.state[a].startTime||null,f="number"==typeof e?Date.now()-e:null;this.props.globals.analytics.action("report_run_created_from_dashboard",{merchant:this.props.globals.merchant.id,report_type:b.report_type,cache_used:c,duration:f,report_params:b.parameters,query_id:d,source:"hoc"}),f&&x.b.timing("reporting.sigma_query_runner.accounting_endpoint.total_duration",f)}shouldStopPolling(a){const b=a.status;return!Object(A.l)(b)}setStateToRunning(a,b){const c=this.cancelPolling(a);this.setState({[a]:loadingState(Date.now(),c,b=>(c(),this.createReportRun(a)(b)),b)})}cleanOptionalParameters(a){const b=["reporting_category","connected_account"];return E.assign({},a,{parameters:E.omitBy(a.parameters,(a,c)=>b.includes(c)&&E.isNil(a))})}render(){return t.createElement(b,i()({},this.props,this.state))}}const c={},d={};return Object.keys(a).forEach(a=>{c[faucetFor(a)]=y.a,c[pollerFor(a)]=y.b,d[resultsFor(a)]=Object(u.a)().service}),Object(v.compose)(Object(w.e)(d),Object(w.f)(c),injectDeclarativeHooks)(_DataStoryRunner)},sigmaQueryRunnerWithGlobals=a=>{const b=sigmaQueryRunner(a);return a=>Object(z.b)(b(a))};b.d=sigmaQueryRunnerWithGlobals},RVeU:function(a,b,c){"use strict";c.d(b,"a",function(){return useSynchronousMultiEntityDataStory});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("09jD"),h=c("IcXa"),i=c("Qkca"),j=c("zhcB"),k=c("egTJ");const{useMemo:l,useEffect:m,useState:n}=f,useSynchronousMultiEntityDataStory=(a,b,c,d,f,o)=>{const p=Object(k.a)(),q=Object(g.a)(),[r,s]=n(),{skip:t,stripeAccountHeaderOverride:u,fetchPolicy:v="cache-and-network"}=o||{},w=l(()=>Object(i.c)(u),[u]),x=l(()=>e()(e()(e()({},Object(j.b)(d(f))),w),{},{rootCompartmentId:p}),[f,w,d,p]),{data:y,loading:z,error:A}=Object(h.a)({variables:x,skip:t||!p,onCompleted(){const c=null!=r?Date.now()-r:null;s(null),q.action("execute_multi_entity_data_story_completed",{report_type:a,rootCompartmentId:p,project:b,report_params:x.parameters,duration:c,source:"useSynchronousDataStory"})},fetchPolicy:v});m(()=>{z&&s(Date.now())},[z,s]);const B=l(()=>null!=y?c(y.v1ReportingExecuteMultiEntityReport):void 0,[y,c]),C=null==B?void 0:B.length;return{result:B,totalResultCount:C,loading:z,apolloError:A,error:null==A?void 0:A.message}}},T1pM:function(a,b,c){"use strict";c("4fPl");var d=c("p6Yp");c.d(b,"b",function(){return d.a});var e=c("dghZ");c.d(b,"c",function(){return e.a});var f=c("9fr4");c.d(b,"a",function(){return f.a})},TdkI:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("Vavk");const e=Object(d.a)({today:{id:"formattedDate.today",defaultMessage:"Today"},yesterday:{id:"formattedDate.yesterday",defaultMessage:"Yesterday"},tomorrow:{id:"formattedDate.tomorrow",defaultMessage:"Tomorrow"},todayTime:{id:"formattedDate.todayTime",defaultMessage:"Today, {formattedTime}"},yesterdayTime:{id:"formattedDate.yesterdayTime",defaultMessage:"Yesterday, {formattedTime}"},tomorrowTime:{id:"formattedDate.tomorrowTime",defaultMessage:"Tomorrow, {formattedTime}"}})},Uhbu:function(a,b,c){"use strict";c.d(b,"b",function(){return synchronousExtractor}),c.d(b,"c",function(){return synchronousMultiEntityExtractor});var d=c("4jHI"),e=c("EAE9");const f=[{name:"successful",type:"bigint"},{name:"refunded",type:"bigint"},{name:"uncaptured",type:"bigint"},{name:"failed",type:"bigint"},{name:"currency",type:"varchar"}],extractor=a=>{if("completed"===a.status){const b=a.value.result;if(!b||!Object(d.a)(b,f,e.a,e.b))return[];const c=b.rows;return Array.isArray(c)?d.b.rows([...c],a=>({successful:d.b.float(a[0]),refunded:d.b.float(a[1]),uncaptured:d.b.float(a[2]),failed:d.b.float(a[3]),currency:d.b.string(a[4])})):[]}return[]};b.a=extractor;const synchronousExtractor=a=>{if(!a||!Object(d.a)(a,f,e.a,e.b))return[];const b=a.rows;return Array.isArray(b)?d.b.rows([...b],a=>({successful:d.b.float(a[0]),refunded:d.b.float(a[1]),uncaptured:d.b.float(a[2]),failed:d.b.float(a[3]),currency:d.b.string(a[4])})):[]},synchronousMultiEntityExtractor=a=>{if(!a||!Object(d.a)(a,f,e.a,e.b))return[];const b=a.rows;return Array.isArray(b)?d.b.rows([...b],a=>({successful:d.b.float(a[0]),refunded:d.b.float(a[1]),uncaptured:d.b.float(a[2]),failed:d.b.float(a[3]),currency:d.b.string(a[4])})):[]}},V8MJ:function(a,b,c){"use strict";c.r(b),c.d(b,"default",function(){return DashboardBentoPaymentsRollupModule});var d=c("0qsp"),e=c("YY2R"),f=c("K0c4");function DashboardBentoPaymentsRollupModule(){return d.createElement(f.a,{project:"dashboard_discovery"},d.createElement(e.a,null))}},W4Kc:function(a,b,c){"use strict";c.d(b,"a",function(){return ModuleFooter});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("xGRT"),h=c("K+RN"),i=c("FfI9"),j=c("nPYo"),k=c("Olvt"),l=c("dJ5Y"),m=c("kuA+"),n=c("aFQF"),o=c("0msP"),p=c("NJ4p");const FooterLink=a=>{let{route:b,label:c,count:d,total:k}=a;const{formatNumber:l}=Object(g.a)();return c?f.createElement(i.a,{href:b,css:{whiteSpace:"nowrap"},"data-bento-action-target":"footerLink"},c):f.createElement(j.a.span,{css:{textColor:"subdued",fontWeight:"semibold",whiteSpace:"nowrap"}},f.createElement(h.a,e()({},m.b.countOfResults,{values:{count:d||0,total:l(k||0),ResultsLink:a=>f.createElement(i.a,{"data-bento-action-target":"footerLink",href:b},a)}})))},ModuleFooter=a=>{let{footerLink:b,footerEntrypoint:c,updatedAt:d,isDelayed:e,showBillingAnalyticsStreamingIndicator:h}=a;const{pending:q}=f.useContext(n.c),{formatMessage:r}=Object(g.a)(),s=e?r(m.b.isDelayed):d;return b||s||c?f.createElement(j.a.div,{uses:[Object(k.b)({display:"flex",justifyContent:"space-between",alignItems:"center"})],css:{height:"xlarge",gap:"medium"},"data-testid":"module-footer"},f.createElement(j.a.div,{css:{stack:"x",gap:"xxsmall"}},b?f.createElement(FooterLink,b):null,b&&c&&f.createElement(j.a.span,null,"•"),c||null),q&&f.createElement(o.a,{height:"14px",width:"120px",delay:50}),!q&&!!s&&f.createElement(j.a.div,{uses:[Object(k.b)({display:"flex",alignItems:"center"})],css:{gap:"small",overflow:"hidden",textColor:l.a.color.hue.gray[400]}},f.createElement(j.a.span,{title:s,css:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},s),h&&f.createElement(j.a.div,{css:{alignX:"end"}},f.createElement(p.a,{message:m.b.billingAnalyticsStreamingIndicatorTooltip,values:{ViewDocs:a=>f.createElement(i.a,{href:"https://support.stripe.com/questions/fresher-billing-analytics-data",target:"_blank"},a)}})))):null}},WQTf:function(a,b,c){"use strict";c.d(b,"a",function(){return dataAvailabilityRange});var d=c("vR8h"),e=c.n(d),f=c("NPHr"),g=c.n(f),h=c("wujo"),i=c.n(h),j=c("q7ZO"),k=c.n(j),l=c("xLaQ"),m=c.n(l);const dataAvailabilityRange=(a,b,c)=>{const d=c?a:i()(a,a=>b.includes(a.id)),f=c?e.a:g.a,h=c?g.a:e.a,j=f(k()(i()(d,a=>null!=a.dataAvailableStart),"dataAvailableStart")),l=h(k()(i()(d,a=>null!=a.dataAvailableEnd),"dataAvailableEnd"));return{dataAvailableStart:m.a.unix(j),dataAvailableEnd:m.a.unix(l)}}},WvwB:function(a,b,c){"use strict";c.d(b,"a",function(){return useDataStory});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("KuwK"),h=c.n(g),i=c("szBP"),j=c("Qkca"),k=c("09jD"),l=c("zhcB"),m=c("uxAo"),n=c("P4Mt"),o=c("bYSZ"),p=c("M/3M");const{useMemo:q,useEffect:r,useRef:s,useState:t}=f,u=1e3,v=500,w=15e3,x=["succeeded","pending","failed"],useValidateReportRunStatus=a=>{r(()=>{a&&!x.includes(a)&&Object(i.T)("Unexpected report run status encountered","reporting_data_interface",{extra:{status:a}})},[a])},toString=a=>a?a.graphQLErrors.map(a=>{let{message:b}=a;return b}).join("\n"):null,useDataStory=(a,b,c,d,f,g)=>{var x,y,z,A,B,C,D;const[E,F]=t(0),G=s(E);r(()=>{G.current=E},[E]);const H=Object(k.t)(),I=Object(k.a)(),{skip:J,fetchPolicy:K,offset:L=0,limit:M=u,shouldFetchResults:N=!0,stripeAccountHeaderOverride:O}=g||{},[P,Q]=t(!J),R=q(()=>Object(j.c)(O),[O]),[S,T]=t(),[U,V]=t(),W=q(()=>e()(e()({},Object(l.b)(d(f))),R),[f,R,d]),X="cache-first"===K||"cache-and-network"===K,Y=X?l.a.get(e()(e()({},W),{},{livemode:H})):null,Z=J||"cache-first"===K&&!!Y,$=s(null),[_,{data:aa,error:ab,reset:ac,loading:ad}]=Object(n.a)(),ae=(null==aa?void 0:null===(x=aa.createReportRun)|| void 0===x?void 0:null===(y=x.reporting_query)|| void 0===y?void 0:y.id)||"",af=(null==aa?void 0:null===(z=aa.createReportRun)|| void 0===z?void 0:z.id)||"",ag=null==aa?void 0:null===(A=aa.createReportRun)|| void 0===A?void 0:A.status,ah=null==aa?void 0:null===(B=aa.createReportRun)|| void 0===B?void 0:B.error;r(()=>{Q(!1),!(Z||h()(W,S)&&U===H)&&(ac(),T(W),V(H),_({variables:W}),$.current=Date.now(),F(0))},[S,W,Z,_,ac,H,U]),useValidateReportRunStatus(ag);const{data:ai,error:aj,loading:ak,refetch:al}=Object(o.a)({variables:e()({reportRun:af},R),skip:Z||!N||!af||"succeeded"===ag,fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0}),am=null==ai?void 0:null===(C=ai.v1ReportingReportRunsReportRun)|| void 0===C?void 0:C.status,an=null==ai?void 0:null===(D=ai.v1ReportingReportRunsReportRun)|| void 0===D?void 0:D.error;r(()=>{if(!ak&&!aj&&am&&"pending"===am){const a=Math.min(v*1.5**G.current,w),b=setTimeout(()=>{F(G.current+1),al()},a);return()=>{clearTimeout(b)}}},[ak,aj,am,al]),useValidateReportRunStatus(am);const ao=[ag,am].includes("succeeded"),{error:ap,loading:aq,data:ar}=Object(p.a)({variables:e()({id:ae,limit:M,offset:L},R),skip:Z||!N||!ao,fetchPolicy:"no-cache",onCompleted(a){Object(i.x)(!!a,"useDataStory query result returned null data","reporting_data_interface",{extra:{queryId:ae,result:a}}),I.action("report_run_created_from_dashboard",{report_type:W.reportType,project:b,report_params:W.parameters,duration:$.current?Date.now()-$.current:null,frontend_cache_used:X,cache_used:!1,query_id:ae,source:"hook"});const d=Object(l.c)(a),f={rows:c(d),totalRowCount:d.value.row_count};X&&l.a.set(e()(e()({},W),{},{livemode:H}),f)}}),as=P||ad||ak||aq||"pending"===am,at=q(()=>{if(!ar||as)return null;const a=Object(l.c)(ar);return{rows:c(a),totalRowCount:a.value.row_count}},[ar,c,as]),au=q(()=>{const a=ah||an;return a?new m.a({errorMessage:a}):null},[ah,an]),av=ab||aj||ap||au,aw=ah||an||toString(ab||aj||ap),ax=ae?{metadata:{queryId:ae}}:{},ay=null!=at?at:X?Y:void 0;return e()({result:(null==ay?void 0:ay.rows)||null,totalResultCount:(null==ay?void 0:ay.totalRowCount)||null,loading:as,apolloError:av,error:aw},ax)}},XQlj:function(a,b,c){"use strict";c.d(b,"a",function(){return useArrayLoader});var d=c("0qsp"),e=c.n(d),f=c("aFQF");const useArrayLoader=a=>{const[b,c]=e.a.useState(a),{pending:d,setChildHasPendingState:g}=e.a.useContext(f.c);return e.a.useEffect(()=>{(null!=a&&a.length||!d)&&c(a)},[a,d]),e.a.useEffect(()=>{null==g||g(!(null!=b&&b.length))},[g,null==b?void 0:b.length]),b?{items:b,pending:!!d&&!b.length}:{items:void 0,pending:!0}}},YXjT:function(a,b,c){"use strict";c.r(b),c.d(b,"categories",function(){return e}),c.d(b,"fooLink",function(){return f}),c.d(b,"updatedAt",function(){return g});const d="#",e=[{id:"Succeeded",listLabel:"Succeeded",listValue:"$25,000.00",barTooltip:null,barAmount:25e3,route:d},{id:"Uncaptured",listLabel:"Uncaptured",listValue:"$22,000.00",barTooltip:null,barAmount:22e3,route:d},{id:"Refunded",listLabel:"Refunded",listValue:"$15,000.00",barTooltip:null,barAmount:15e3,route:d},{id:"Failed",listLabel:"Failed",listValue:"$5000.00",barTooltip:null,barAmount:5e4,route:d},{id:"Other",listLabel:"Other",listValue:"$5000.00",barTooltip:null,barAmount:5e4,route:d}],f={label:"View more",route:d},g="Updated yesterday 12:00PM"},YY2R:function(a,b,c){"use strict";var d=c("Gdlr");b.a=d.a},Yu3z:function(a,b,c){"use strict";c.d(b,"b",function(){return defaultRenderLoadingState}),c.d(b,"a",function(){return defaultRenderErrorState});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("Vavk"),h=c("K+RN"),i=c("uV8l");const j=Object(g.a)({error:{id:"statement.metadataLoader.error2",defaultMessage:"An error occurred while loading reports."},loading:{id:"statement.metadataLoader.loading.3",defaultMessage:"Loading reports…"}}),defaultRenderLoadingState=()=>f.createElement("div",{"aria-live":"assertive","aria-labelledby":"db-StatementsLoading"},f.createElement(i.f,{size:"medium",title:f.createElement(h.a,e()({id:"db-StatementsLoading"},j.loading))})),defaultRenderErrorState=()=>f.createElement("div",{"aria-live":"assertive","aria-labelledby":"db-StatementsError"},f.createElement(i.e,{size:"medium",title:f.createElement(h.a,e()({id:"db-StatementsError"},j.error))}))},bYSZ:function(a,b,c){"use strict";c.d(b,"a",function(){return useV1ReportingReportRunsReportRunQuery});var d=c("qCo4"),e=c("bPOr");const f=e.a`
            query V1ReportingReportRunsReportRunQuery($reportRun:String!$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"d6cf84ee98"){v1ReportingReportRunsReportRun(input:{report_run:$reportRun}v1Context:$v1Context)@params(expand:[]includeOnly:["id" "object" "created" "error" "livemode" "report_type" "result.id" "result.created" "succeeded_at" "status" "reporting_query.completed" "reporting_query.description" "reporting_query.object" "reporting_query.user" "reporting_query.id" "reporting_query.created" "reporting_query.status" "parameters.columns" "parameters.connected_account" "parameters.currency" "parameters.customer" "parameters.interval_start" "parameters.interval_end" "parameters.payout" "parameters.reporting_category" "parameters.timezone"]fragments:[]nodeLookupMap:[{nodes:["id" "object" "created" "error" "livemode" "report_type" "succeeded_at" "status"]parentPath:"ROOT"}{nodes:["id" "created"]parentPath:"result"}{nodes:["completed" "description" "object" "user" "id" "created" "status"]parentPath:"reporting_query"}{nodes:["columns" "connected_account" "currency" "customer" "interval_start" "interval_end" "payout" "reporting_category" "timezone"]parentPath:"parameters"}]predicates:{})@rest(type:"OpenapiReportingReportRun" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/reporting/report_runs/:report_run" queryName:"v1ReportingReportRunsReportRun"){id object created error livemode report_type result@type(name:"OpenapiFile"){id created}succeeded_at status reporting_query@type(name:"OpenapiReportingReportingQuery"){completed description object user id created status}parameters@type(name:"OpenapiFinancialReportingFinanceReportRunRunParameters"){columns connected_account currency customer interval_start interval_end payout reporting_category timezone}}}
          `,g=f,h={};function useV1ReportingReportRunsReportRunQuery(a){return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},c1py:function(a,b){function baseGt(a,b){return a>b}a.exports=baseGt},dghZ:function(a,b,c){"use strict";c.d(b,"a",function(){return InfoTooltip});var d=c("0qsp"),e=c("Vavk"),f=c("xGRT"),g=c("t6oC"),h=c("n2FO"),i=c("lbsd"),j=c("HOsA");const k=Object(e.a)({infoTooltipTrigger:{id:"bento.components.infoTooltipTrigger",defaultMessage:"Info"}}),InfoTooltip=a=>{let{children:b}=a;const{formatMessage:c}=Object(f.a)();return b?d.createElement(h.a,{type:"description",delay:0,placement:"top",trigger:d.createElement(i.a,{css:{".performance-tile-chart-chrome &":{padding:"space.75",bleed:"space.75",lineHeight:0,borderRadius:"xsmall"},".performance-tile-chart-chrome :hover":{backgroundColor:"offset"},".performance-tile-chart-chrome :active":{backgroundColor:"offset"}}},d.createElement(j.c,{size:"xsmall",css:{fill:"subdued",".performance-tile-chart-chrome &":{fill:"icon"}},icon:g.a,"aria-hidden":!1,"aria-label":c(k.infoTooltipTrigger)}))},b):d.createElement(d.Fragment,null)}},eakR:function(a,b,c){"use strict";c.d(b,"a",function(){return i});var d=c("1Ln7"),e=c("Uhbu"),f=c("LZTu");const g=!1,h="dashboard_experience.payments_all.v1",i={id:h,buildParams:f.a,columnMessages:d.a,extractor:e.a,isLocalizable:g,messages:d.b,multiEntitySupported:!0}},fDig:function(a,b,c){"use strict";c.d(b,"a",function(){return f});var d=c("O5yN"),e=c("1H2z");const f=Object(d.A)(Object(d.u)(Object(d.c)(a=>{const{id:b,data:c,headers:d={}}=a;return{method:"GET",url:`/ajax/sigma/queries/${encodeURIComponent(b)}/results`,data:c,headers:d,metricsApiMethod:"sigma_list_reporting_query_results"}},"/ajax/sigma/queries/:reporting_query/results"),["reporting_read"]),e.zb)},fLIm:function(a,b,c){"use strict";var d=c("2Llr"),e=c.n(d),f=c("VhOJ"),g=c("TdkI"),h=c("QoRZ");const getHourlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,formatMessage:e}=a;const i=[],j=c.clone();for(;j.isBefore(d);){const k=Object(h.c)({timestamp:j,format:"short-time",timezone:b});Object(f.f)(j)?i.push(e(g.a.todayTime,{formattedTime:k})):Object(f.h)(j)?i.push(e(g.a.yesterdayTime,{formattedTime:k})):i.push(Object(h.c)({timestamp:j,format:"medium-datetime",timezone:b})),j.add(1,"h")}return i},getDailyLabels=a=>{let{timezone:b,startDate:c,endDate:d,formatMessage:e}=a;const i=[],j=c.clone();for(;j.isBefore(d);)Object(f.f)(j)?i.push(e(g.a.today)):Object(f.h)(j)?i.push(e(g.a.yesterday)):i.push(Object(h.c)({timestamp:j,format:"medium-date",timezone:b})),j.add(1,"d");return i},getWeeklyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){const j=Object(h.c)({timestamp:g,format:"medium-date",timezone:b}),k=g.add(6,"d");if(i){const l=Object(h.c)({timestamp:k.isBefore(d)?k:d,format:"medium-date",timezone:b});f.push(`${l}`)}else{const m=Object(h.c)({timestamp:k,format:"medium-date",timezone:b});f.push(`${j} - ${m}`)}g.add(1,"d")}return f},getMonthlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){if(i){const j=g.clone().endOf("month");f.push(Object(h.c)({timestamp:j.isBefore(d)?j:d,format:"medium-date",timezone:b}))}else f.push(Object(h.c)({timestamp:g,format:"short-datetime",skeleton:"yMMM",timezone:b}));g.add(1,"M")}return f},getYearlyLabels=a=>{let{timezone:b,startDate:c,endDate:d,metricType:e}=a;const f=[],g=c.clone(),i="rolling"===e;for(;g.isBefore(d);){if(i){const j=g.clone().endOf("year");f.push(Object(h.c)({timestamp:j.isBefore(d)?j:d,format:"medium-date",timezone:b}))}else f.push(Object(h.c)({timestamp:g,format:"short-datetime",skeleton:"y",timezone:b}));g.add(1,"y")}return f},getXAxisLabels=a=>{let{timezone:b,unit:c,startDate:d,endDate:e,formatMessage:f,metricType:g}=a;switch(c){case"hour":return getHourlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f});case"day":return getDailyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f});case"week":return getWeeklyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});case"month":return getMonthlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});case"year":return getYearlyLabels({timezone:b,startDate:d,endDate:e,formatMessage:f,metricType:g});default:return[]}};b.a=e()(getXAxisLabels,a=>{let{timezone:b,unit:c,startDate:d,endDate:e,metricType:f}=a;return`${b}_${c}_${d.unix()}_${e.unix()}_${f}`})},kKw0:function(a,b,c){"use strict";var d=c("QbI9"),e=c.n(d),f=c("9u8d"),g=c.n(f),h=c("0qsp"),i=c("ye9F"),j=c("nPYo"),k=c("IUZ9"),l=c("7FDu"),m=c("Bfx2"),n=c("XQlj");const o=["categories","dataUnavailable","spotlightCategoryId","subviews"],p=Object(i.b)(a=>{let{categories:b,dataUnavailable:c,spotlightCategoryId:d,subviews:f}=a,i=g()(a,o);const{items:p,pending:q}=Object(n.a)(b);return q?h.createElement(m.a,null):h.createElement(j.a.div,e()({css:{stack:"y",gap:"large",bleedTop:"small"}},i),h.createElement(k.a,{categories:p,dataUnavailable:c,spotlightCategoryId:d,pending:q,subviews:f}),h.createElement(l.a,{categories:b,dataUnavailable:c,spotlightCategoryId:d,subviews:f}))});b.a=p},mtBX:function(a,b,c){"use strict";c.d(b,"a",function(){return usePollSigmaPaginatedV2LazyQuery});var d=c("81gb"),e=c("bPOr");const f=e.a`
            query PollSigmaPaginatedV2Query($id:String!$limit:Int$offset:Int$v1Context:V1ContextInput!)@tag(id:"gql")@hash(id:"cb3524020c"){v1SigmaQueriesReportingQueryResults(input:{reporting_query:$id limit:$limit offset:$offset}v1Context:$v1Context)@params(expand:[]includeOnly:["created" "id" "data" "columns" "total"]fragments:[]nodeLookupMap:[{nodes:["created" "id" "data" "columns" "total"]parentPath:"ROOT"}]predicates:{})@rest(type:"OpenapiManageMethodSigmaListReportingQuery" method:"GET" pathBuilder:$pathBuilder runtimePath:"/v1/sigma/queries/:reporting_query/results" queryName:"v1SigmaQueriesReportingQueryResults"){created id data columns total}}
          `,g=f,h={};function usePollSigmaPaginatedV2LazyQuery(a){return Object(d.a)(g,Object.assign({},h,a))}const i={};f.permissions=i},mudK:function(a,b,c){var d=c("ITTl"),e=c("0svD");function _classPrivateFieldGet(a,b){var c=e(a,b,"get");return d(a,c)}a.exports=_classPrivateFieldGet,a.exports.__esModule=!0,a.exports.default=a.exports},oLwL:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("xLaQ"),h=c.n(g),i=c("09jD"),j=c("xGRT"),k=c("VhOJ"),l=c("h2W4"),m=c("eR3B"),n=c("rOY9"),o=c("fLIm"),p=c("QoRZ"),q=c("qKqT"),r=c("TdkI");const s={primaryFilter:"1D",compareToFilter:"previousPeriod",unit:"hour"};Object.values(m.c);const useSectionTimeFilters=function(){let{minStart:a,metricType:b="sum",timezoneOverride:c}=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};const{formatMessage:d}=Object(j.a)(),{timezone:g,created:h}=Object(i.x)(),t=null!=c?c:g,u=f.useMemo(()=>{const{primaryFilter:a,compareToFilter:b,unit:d}=s,[e,f]=Object(k.c)(a,momentForTimezone(c).endOf("day"),momentUnixForTimezone(h,c).startOf("year"),d),[g,i]=Object(k.b)(e,f,d,b);return{primaryFilter:a,primaryStart:e,primaryEnd:f,compareToFilter:b,compareToStart:g,compareToEnd:i,unit:d}},[h,c]),v=Object(n.a)(),w=Object(q.b)(),{primaryFilter:x,primaryStart:y,primaryEnd:z,compareToFilter:A,compareToStart:B,compareToEnd:C,unit:D}=f.useMemo(()=>w||e()(e()({},u),v),[u,v,w]),E=f.useCallback(a=>Object(k.f)(a)?d(r.a.today):Object(k.h)(a)?d(r.a.yesterday):Object(p.c)({timestamp:a,timezone:t,format:"medium-date"}),[d,t]),F=f.useMemo(()=>{if(a&&a>y.unix())return`${E(momentUnixForTimezone(a,c))} - ${E(z)}`;if(!x)return y.isSame(z,"day")?E(y):`${E(y)} - ${E(z)}`;const b=m.c[x];return b?d(m.e[b]):""},[d,x,y,z,E,a,c]),G=f.useMemo(()=>{const a=Object(o.a)({startDate:y,endDate:z,formatMessage:d,timezone:t,unit:D,metricType:b});return a},[y,z,d,t,D,b]),H=f.useMemo(()=>"none"!==A&&A&&B&&C?"custom"===A?`${E(B)} - ${E(C)}`:d(m.e[A]):"",[d,A,B,C,E]),I=f.useMemo(()=>"none"!==A&&A&&B&&C?Object(o.a)({startDate:B,endDate:C,formatMessage:d,timezone:t,unit:D,metricType:b}):[],[A,B,C,d,t,D,b]),J=f.useMemo(()=>{const a=momentUnixForTimezone(h,c).startOf("year"),b=null==B?void 0:B.isSameOrAfter(a);return!!(A&&"none"!==A&&b)},[h,B,A,c]),K=f.useMemo(()=>a&&a>y.unix()?d(l.a.partialTimeRange,{start:Object(p.c)({timestamp:momentUnixForTimezone(a,c),format:"medium-date",timezone:t})}):"",[a,y,d,t,c]);return{primaryLabel:F,primaryDataLabels:G,primaryStart:y.unix(),primaryEnd:z.unix(),compareToLabel:H,compareToDataLabels:I,compareToStart:J&&(null==B?void 0:B.unix())||null,compareToEnd:J&&(null==C?void 0:C.unix())||null,partialMessage:K,unit:D,presetKey:x&&m.c[x]}};function momentForTimezone(a){return void 0!==a?h()().tz(a):h()()}function momentUnixForTimezone(a,b){return void 0!==b?h.a.unix(a).tz(b):h.a.unix(a)}b.a=useSectionTimeFilters},p6Yp:function(a,b,c){"use strict";c.d(b,"a",function(){return EditIconButton});var d=c("QbI9"),e=c.n(d),f=c("0qsp"),g=c("SVa1"),h=c("yZLf");const EditIconButton=a=>f.createElement(h.a,e()({icon:g.a},a))},qKqT:function(a,b,c){"use strict";c.d(b,"b",function(){return useTimeFiltersContext});var d=c("0qsp");const e=Object(d.createContext)(void 0),useTimeFiltersContext=()=>Object(d.useContext)(e);b.a=e},rYKD:function(a,b,c){"use strict";var d=c("0qsp"),e=c("8Mtm"),f=c("vXCA");const RollupWidgetContent=a=>{let{categories:b,spotlightCategoryId:c}=a;const{dataUnavailable:g}=d.useContext(e.a);return d.createElement(f.a,{categories:b,dataUnavailable:g,spotlightCategoryId:c})};b.a=RollupWidgetContent},sjUG:function(a,b,c){"use strict";c.d(b,"a",function(){return d});const d="--performance-tile-width"},uLR0:function(a,b,c){var d=c("3gEb"),e=c("1hPu"),f=c("td3p"),g=c("Kvx4"),h=c("P1jp"),i=c("sZRT"),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b)){e(b,i(b),a);return}for(var c in b)k.call(b,c)&&d(a,c,b[c])});a.exports=l},vR8h:function(a,b,c){var d=c("3714"),e=c("fOqi"),f=c("scCu");function min(a){return a&&a.length?d(a,f,e):void 0}a.exports=min},vXCA:function(a,b,c){"use strict";var d=c("kKw0");b.a=d.a},wrro:function(a,b,c){"use strict";c.d(b,"a",function(){return e});var d=c("0qsp");const e=d.createContext({setExpanded(a){}})},wujo:function(a,b,c){var d=c("vEZG"),e=c("V1bl"),f=c("c6TK"),g=c("Wm17");function filter(a,b){var c=g(a)?d:e;return c(a,f(b,3))}a.exports=filter},yZLf:function(a,b,c){"use strict";c.d(b,"a",function(){return IconButtonBase});var d=c("9u8d"),e=c.n(d),f=c("0qsp"),g=c("n2FO"),h=c("7Hnw"),i=c("HOsA");const j=["label","icon"],IconButtonBase=a=>{let{label:b,icon:c}=a,d=e()(a,j);return f.createElement(g.a,{type:"label",trigger:f.createElement(h.a,d,f.createElement(i.c,{icon:c,"aria-hidden":!1,"aria-label":b}))},b)}},z4hN:function(a,b,c){"use strict";var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("09jD"),h=c("pJt8"),i=c("szBP"),j=c("TfrZ"),k=c("xzky"),l=c("uwPW"),m=c("36dm"),n=c("Aytv");function useOnWidgetQueryError(a){let b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;const d=Object(m.a)().id,o=Object(l.a)(d),p=null==o?void 0:o.module_id,q=Object(j.b)(),r=p||q,s=c||r,t=Object(f.useRef)(null),u=Object(g.a)(),v=Object(n.b)();Object(f.useEffect)(()=>{var c;if(!a||Object(k.a)(a)||a===t.current)return;v("chart"),t.current=a,h.b.increment("manage.dashboard.dashprod.widget_query_error",1,{dashprod_error_component:s});const{name:d,message:f,graphQLErrors:g}=a;u.action("dashboard_home_widget_query_error",e()(e()(e()({error_message:f,error_code:null==g?void 0:null===(c=g[0])|| void 0===c?void 0:c.message_code,filter_unit:b.unit,module_id:s},b.startDate&&b.endDate&&{start_date_diff:b.endDate-b.startDate}),b.primaryStart&&b.primaryEnd&&{primary_filter_diff:b.primaryEnd-b.primaryStart}),b.compareToStart&&b.compareToEnd&&{compare_to_filter_diff:b.compareToEnd-b.compareToStart})),Object(i.T)(`Query error in ${s} widget`,"dashboard_discovery",{extra:{error:`${d}: ${f}`,variables:JSON.stringify(b),graphQlErrors:JSON.stringify(g)}})},[a,b,s,u,v])}b.a=useOnWidgetQueryError},z9t4:function(a,b,c){"use strict";c.d(b,"a",function(){return useDataAvailability});var d=c("QbI9"),e=c("0qsp"),f=c("xLaQ"),g=c.n(f),h=c("WQTf"),i=c("09jD"),j=c("0mjH");c("Yu3z");const excludeTodaysDateUTCFrom=a=>{let{dataAvailableEnd:b,dataAvailableStart:c}=a;const d=g()().utc().startOf("day"),e=!b.isBefore(d),f=e?d.clone().subtract(1,"minute"):b;return{dataAvailableEnd:f,dataAvailableStart:c}};function useDataAvailability(a,b){var c;const d=null==b?void 0:b.skip,f=(null==b?void 0:b.fetchPolicy)||"cache-and-network",g=null==b?void 0:b.excludeLastDay,k=null==b?void 0:b.pollInterval,l=Date.now(),m=Object(i.a)(),{loading:n,data:o,error:p}=Object(j.a)({variables:{reportTypes:null!=b&&b.leastRestrictive?[]:a},skip:d,fetchPolicy:f,pollInterval:k}),q=null==o?void 0:null===(c=o.v1ReportingReportTypes)|| void 0===c?void 0:c.data,r=e.useMemo(()=>{if(null==q||(null==q?void 0:q.length)===0)return;const c=Object(h.a)(q,a,!!(null!=b&&b.leastRestrictive));return g?excludeTodaysDateUTCFrom(c):c},[g,q,a,null==b?void 0:b.leastRestrictive]);return Object(e.useEffect)(()=>{!d&&!n&&m.action("use_data_availability_invoked",{report_type_ids:a,duration_ms:Date.now()-l,source:"hook"})},[m,n,d,a,l]),{loading:n,error:!!p,apolloError:p,result:r}}},zEM6:function(a,b,c){"use strict";c.d(b,"a",function(){return PerformanceTile});var d=c("0qsp"),e=c("nPYo"),f=c("lbsd"),g=c("9KEi"),h=c("wrro"),i=c("kZ9Q");const{useState:j,useRef:k,useMemo:l}=d,PerformanceTile=a=>{let{title:b,summary:c,percentChange:m,expandedView:n,pending:o,onExpandedChange:p}=a;const[q,r]=j(!1),s=k(null),t=l(()=>({setExpanded:r}),[r]),u=k(!0);return d.useEffect(()=>{if(u.current){u.current=!1;return}null==p||p(q)},[q,p]),o?d.createElement(e.a.div,{className:"performance-tile"},d.createElement(i.a,null)):d.createElement(d.Fragment,null,d.createElement(f.a,{onPress:()=>r(a=>!a),ref:s,className:"performance-tile",css:{borderRadius:"medium",paddingY:"11px",paddingX:"medium",cursor:"pointer",stack:"y",gap:"xxsmall",position:"relative",backgroundColor:"white","::after":{content:'""',position:"absolute",top:"space.0",left:"space.0",width:"fill",height:"fill",opacity:0,borderRadius:"medium",boxShadow:"medium",transitionDuration:"long",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0, 0, 0.12, 0.95)"},":hover::after":{opacity:1},":hover":{zIndex:1}}},d.createElement(e.a.div,{css:{font:"label.medium",textColor:"emphasized",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},b),d.createElement(e.a.div,{css:{stack:"x",gap:"small"}},c,m)),d.createElement(h.a.Provider,{value:t},d.createElement(g.b,{placement:"top left",targetRef:s,open:q,onClose:()=>r(!1)},n)))}},zhcB:function(a,b,c){"use strict";c.d(b,"a",function(){return m}),c.d(b,"b",function(){return cleanParams}),c.d(b,"c",function(){return convertDataToCompletedSigmaQueryState});var d=c("TfDI"),e=c.n(d),f=c("8VhR"),g=c.n(f),h=c("mudK"),i=c.n(h),j=c("szBP"),k=c("Qkca"),l=new WeakMap;class DataStoryCache{constructor(){l.set(this,{writable:!0,value:new Map}),e()(this,"get",a=>{try{const b=JSON.stringify(a);return i()(this,l).get(b)||null}catch(c){return Object(j.T)(`Could not get results from cache for ${a.reportType} request`,"reporting_api"),null}}),e()(this,"set",(a,b)=>{try{const c=JSON.stringify(a);i()(this,l).set(c,b)}catch(d){Object(j.T)(`Could not set results in cache for ${a.reportType} request`,"reporting_api")}}),e()(this,"reset",()=>{g()(this,l,new Map)})}}const m=new DataStoryCache,cleanParams=a=>{const b=Object.fromEntries(Object.entries(a.parameters).filter(a=>{let[b,c]=a;return null!=c&&!Number.isNaN(c)}));return{reportType:a.report_type,parameters:b,notifyWhenReady:a.notify_when_ready}},convertDataToCompletedSigmaQueryState=a=>{const b={id:"fake",object:"query",sql:"fake",status:"completed",row_count:a.v1SigmaQueriesReportingQueryResults.total,result:{rows:a.v1SigmaQueriesReportingQueryResults.data.map(a=>a.row),columns:a.v1SigmaQueriesReportingQueryResults.columns},created:Date.now(),via:"fake"};return Object(k.b)(Date.now(),b,()=>{},{})}},zmTR:function(a,b,c){"use strict";c.d(b,"a",function(){return useSynchronousDataStory});var d=c("8OBj"),e=c.n(d),f=c("0qsp"),g=c("09jD"),h=c("8pk8"),i=c("kMWt"),j=c("Qkca"),k=c("zhcB");const{useMemo:l,useEffect:m,useState:n}=f,useSynchronousDataStory=(a,b,c,d,f,o)=>{var p;const q=Object(h.a)("circuit_breaker_synchronous_data_story_execution"),r=Object(g.a)(),[s,t]=n(),{skip:u,stripeAccountHeaderOverride:v,fetchPolicy:w="cache-and-network",pollInterval:x}=o||{},y=l(()=>Object(j.c)(v),[v]),z=l(()=>e()(e()({},Object(k.b)(d(f))),y),[f,y,d]),{data:A,loading:B,error:C}=Object(i.a)({variables:z,skip:u||q,onCompleted(){const c=null!=s?Date.now()-s:null;t(null),r.action("execute_data_story_completed",{report_type:a,project:b,report_params:z.parameters,duration:c,source:"useSynchronousDataStory"})},fetchPolicy:w,pollInterval:x,expectedErrors:["report_type_connected_account_data_required","report_type_automatic_payout_plan_required","report_type_icplus_pricing_required","report_type_statement_access_required","report_type_permission_required","report_run_time_interval_too_old","report_run_time_interval_too_new","report_type_livemode_required","report_run_columns_contains_invalid_value"]});m(()=>{B&&t(Date.now())},[B,t]);const D=l(()=>null!=A?c(A.ajaxExecuteDataStory):void 0,[A,c]),E=null==D?void 0:D.length;let F=!1;return null!=C&&null!==(p=C.graphQLErrors)&& void 0!==p&&p.some(a=>303===a.http_status)&&(F=!0),{result:D,totalResultCount:E,loading:B,apolloError:F?void 0:C,error:F?void 0:null==C?void 0:C.message,disabled:q||F}}},zo17:function(a,b,c){"use strict";c.d(b,"k",function(){return isFinalStatus}),c.d(b,"l",function(){return isInProgressStatus}),c.d(b,"h",function(){return graphqlQueryResultToQueryResultWithRowCount}),c.d(b,"b",function(){return fromGraphQLQueryError}),c.d(b,"a",function(){return errorAndStatusFromQuery}),c.d(b,"e",function(){return getClientSideRowCount}),c.d(b,"g",function(){return getServerSideRowCount}),c.d(b,"m",function(){return isLowerBoundRowCount}),c.d(b,"i",function(){return hasFullQueryResultClientSide}),c.d(b,"d",function(){return getAuthorEmail}),c.d(b,"j",function(){return is404Error}),c.d(b,"f",function(){return getFilename}),c.d(b,"c",function(){return fromGraphQLQueryStatus});var d=c("8OBj"),e=c.n(d),f=c("iFc8"),g=c.n(f),h=c("xLaQ"),i=c.n(h),j=c("xhKK");const k={isFinite:g.a};function isFinalStatus(a){return"failed"===a||"completed"===a||"canceled"===a}function isInProgressStatus(a){return"pending"===a||"running"===a}function graphqlQueryResultToQueryResultWithRowCount(a){const b=(Array.isArray(a.rows)&&a.rows||[]).map(a=>Array.isArray(a)&&a||[]);return{rows:b,columns:a.columns,rowCount:a.rowCount,isLowerBoundRowCount:a.isLowerBoundRowCount,dataFreshness:a.dataFreshness}}function fromGraphQLQueryError(a){return a instanceof Error?a.message:"sql"===a.type?e()({},a):a.message}function errorAndStatusFromQuery(a,b){const c=a&&a.error||b,d=c&&fromGraphQLQueryError(c),e=fromGraphQLQueryStatus(a&&a.status);return{errorFromQuery:d,status:e}}function getClientSideRowCount(a){return a&&a.rows?a.rows.length:null}function getServerSideRowCount(a){if(!a)return null;const b=parseInt(a.rowCount,10);return k.isFinite(b)?b:null}function isLowerBoundRowCount(a){return a&&a.isLowerBoundRowCount||!1}function hasQueryResultsClientSide(a){return null!==getClientSideRowCount(a)}function hasFullQueryResultClientSide(a){if(!hasQueryResultsClientSide(a))return!1;const b=getServerSideRowCount(a),c=getClientSideRowCount(a);return!(null!=c&&c>j.i||null!=c&&null!=b&&c<b||isLowerBoundRowCount(a))}function getAuthorEmail(a){return a?"query_file"===a.object?a.user_email:"scheduled_query"===a.object&&a.user&&a.user.email||null:null}function is404Error(a){return!!a&&"string"==typeof a&&!!("Not found!"===a||a.includes("Unable to find query file with id")||a.includes("No such scheduledquery"))}function getFilename(a,b,c){const d=b?i.a.unix(b).format("-YYYY-MM-DD-HH-mm-ss"):"";return`${a||"query"}${d}${c?"_FIRST 10 ROWS":""}.csv`.replace(/[^A-Za-z0-9.-]/g,"_")}function fromGraphQLQueryStatus(a){return a&&"caching_bulk_timeout"!==a&&"caching_timeout"!==a&&"timed_out"!==a?a:"none"}}}])
//# sourceMappingURL=https://sourcemaps.corp.stripe.com/dashboard-fe-statics-srv/dashboard.OWFy-08.ef821e4093.min.js.map